{
  "version": 3,
  "sources": ["../../monaco-editor/esm/vs/base/browser/window.js", "../../monaco-editor/esm/vs/base/browser/browser.js", "../../monaco-editor/esm/vs/nls.js", "../../monaco-editor/esm/vs/base/common/platform.js", "../../monaco-editor/esm/vs/base/browser/canIUse.js", "../../monaco-editor/esm/vs/base/common/keyCodes.js", "../../monaco-editor/esm/vs/base/common/errors.js", "../../monaco-editor/esm/vs/base/common/keybindings.js", "../../monaco-editor/esm/vs/base/browser/keyboardEvent.js", "../../monaco-editor/esm/vs/base/browser/iframe.js", "../../monaco-editor/esm/vs/base/browser/mouseEvent.js", "../../monaco-editor/esm/vs/base/common/functional.js", "../../monaco-editor/esm/vs/base/common/iterator.js", "../../monaco-editor/esm/vs/base/common/lifecycle.js", "../../monaco-editor/esm/vs/base/common/linkedList.js", "../../monaco-editor/esm/vs/base/common/stopwatch.js", "../../monaco-editor/esm/vs/base/common/event.js", "../../monaco-editor/esm/vs/base/common/cancellation.js", "../../monaco-editor/esm/vs/base/common/symbols.js", "../../monaco-editor/esm/vs/base/common/async.js", "../../monaco-editor/esm/vs/base/browser/dompurify/dompurify.js", "../../monaco-editor/esm/vs/base/common/cache.js", "../../monaco-editor/esm/vs/base/common/lazy.js", "../../monaco-editor/esm/vs/base/common/strings.js", "../../monaco-editor/esm/vs/base/common/process.js", "../../monaco-editor/esm/vs/base/common/path.js", "../../monaco-editor/esm/vs/base/common/uri.js", "../../monaco-editor/esm/vs/base/common/network.js", "../../monaco-editor/esm/vs/base/common/hash.js", "../../monaco-editor/esm/vs/base/browser/dom.js", "../../monaco-editor/esm/vs/platform/instantiation/common/instantiation.js", "../../monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js", "../../monaco-editor/esm/vs/base/common/range.js", "../../monaco-editor/esm/vs/platform/contextview/browser/contextViewService.js", "../../monaco-editor/esm/vs/platform/layout/browser/layoutService.js"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function ensureCodeWindow(targetWindow, fallbackWindowId) {\n    const codeWindow = targetWindow;\n    if (typeof codeWindow.vscodeWindowId !== 'number') {\n        Object.defineProperty(codeWindow, 'vscodeWindowId', {\n            get: () => fallbackWindowId\n        });\n    }\n}\n// eslint-disable-next-line no-restricted-globals\nexport const mainWindow = window;\n/**\n * @deprecated to support multi-window scenarios, use `DOM.mainWindow`\n * if you target the main global window or use helpers such as `DOM.getWindow()`\n * or `DOM.getActiveWindow()` to obtain the correct window for the context you are in.\n */\nexport const $window = mainWindow;\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { mainWindow } from './window.js';\nclass WindowManager {\n    constructor() {\n        // --- Zoom Factor\n        this.mapWindowIdToZoomFactor = new Map();\n    }\n    getZoomFactor(targetWindow) {\n        var _a;\n        return (_a = this.mapWindowIdToZoomFactor.get(this.getWindowId(targetWindow))) !== null && _a !== void 0 ? _a : 1;\n    }\n    getWindowId(targetWindow) {\n        return targetWindow.vscodeWindowId;\n    }\n}\nWindowManager.INSTANCE = new WindowManager();\nexport function addMatchMediaChangeListener(targetWindow, query, callback) {\n    if (typeof query === 'string') {\n        query = targetWindow.matchMedia(query);\n    }\n    query.addEventListener('change', callback);\n}\n/** The zoom scale for an index, e.g. 1, 1.2, 1.4 */\nexport function getZoomFactor(targetWindow) {\n    return WindowManager.INSTANCE.getZoomFactor(targetWindow);\n}\nconst userAgent = navigator.userAgent;\nexport const isFirefox = (userAgent.indexOf('Firefox') >= 0);\nexport const isWebKit = (userAgent.indexOf('AppleWebKit') >= 0);\nexport const isChrome = (userAgent.indexOf('Chrome') >= 0);\nexport const isSafari = (!isChrome && (userAgent.indexOf('Safari') >= 0));\nexport const isWebkitWebView = (!isChrome && !isSafari && isWebKit);\nexport const isElectron = (userAgent.indexOf('Electron/') >= 0);\nexport const isAndroid = (userAgent.indexOf('Android') >= 0);\nlet standalone = false;\nif (typeof mainWindow.matchMedia === 'function') {\n    const standaloneMatchMedia = mainWindow.matchMedia('(display-mode: standalone) or (display-mode: window-controls-overlay)');\n    const fullScreenMatchMedia = mainWindow.matchMedia('(display-mode: fullscreen)');\n    standalone = standaloneMatchMedia.matches;\n    addMatchMediaChangeListener(mainWindow, standaloneMatchMedia, ({ matches }) => {\n        // entering fullscreen would change standaloneMatchMedia.matches to false\n        // if standalone is true (running as PWA) and entering fullscreen, skip this change\n        if (standalone && fullScreenMatchMedia.matches) {\n            return;\n        }\n        // otherwise update standalone (browser to PWA or PWA to browser)\n        standalone = matches;\n    });\n}\nexport function isStandalone() {\n    return standalone;\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet isPseudo = (typeof document !== 'undefined' && document.location && document.location.hash.indexOf('pseudo=true') >= 0);\nconst DEFAULT_TAG = 'i-default';\nfunction _format(message, args) {\n    let result;\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, (match, rest) => {\n            const index = rest[0];\n            const arg = args[index];\n            let result = match;\n            if (typeof arg === 'string') {\n                result = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                result = String(arg);\n            }\n            return result;\n        });\n    }\n    if (isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        result = '\\uFF3B' + result.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    return result;\n}\nfunction findLanguageForModule(config, name) {\n    let result = config[name];\n    if (result) {\n        return result;\n    }\n    result = config['*'];\n    if (result) {\n        return result;\n    }\n    return null;\n}\nfunction endWithSlash(path) {\n    if (path.charAt(path.length - 1) === '/') {\n        return path;\n    }\n    return path + '/';\n}\nasync function getMessagesFromTranslationsService(translationServiceUrl, language, name) {\n    const url = endWithSlash(translationServiceUrl) + endWithSlash(language) + 'vscode/' + endWithSlash(name);\n    const res = await fetch(url);\n    if (res.ok) {\n        const messages = await res.json();\n        return messages;\n    }\n    throw new Error(`${res.status} - ${res.statusText}`);\n}\nfunction createScopedLocalize(scope) {\n    return function (idx, defaultValue) {\n        const restArgs = Array.prototype.slice.call(arguments, 2);\n        return _format(scope[idx], restArgs);\n    };\n}\nfunction createScopedLocalize2(scope) {\n    return (idx, defaultValue, ...args) => ({\n        value: _format(scope[idx], args),\n        original: _format(defaultValue, args)\n    });\n}\n/**\n * @skipMangle\n */\nexport function localize(data, message, ...args) {\n    return _format(message, args);\n}\n/**\n * @skipMangle\n */\nexport function localize2(data, message, ...args) {\n    const original = _format(message, args);\n    return {\n        value: original,\n        original\n    };\n}\n/**\n * @skipMangle\n */\nexport function getConfiguredDefaultLocale(_) {\n    // This returns undefined because this implementation isn't used and is overwritten by the loader\n    // when loaded.\n    return undefined;\n}\n/**\n * @skipMangle\n */\nexport function setPseudoTranslation(value) {\n    isPseudo = value;\n}\n/**\n * Invoked in a built product at run-time\n * @skipMangle\n */\nexport function create(key, data) {\n    var _a;\n    return {\n        localize: createScopedLocalize(data[key]),\n        localize2: createScopedLocalize2(data[key]),\n        getConfiguredDefaultLocale: (_a = data.getConfiguredDefaultLocale) !== null && _a !== void 0 ? _a : ((_) => undefined)\n    };\n}\n/**\n * Invoked by the loader at run-time\n * @skipMangle\n */\nexport function load(name, req, load, config) {\n    var _a;\n    const pluginConfig = (_a = config['vs/nls']) !== null && _a !== void 0 ? _a : {};\n    if (!name || name.length === 0) {\n        // TODO: We need to give back the mangled names here\n        return load({\n            localize: localize,\n            localize2: localize2,\n            getConfiguredDefaultLocale: () => { var _a; return (_a = pluginConfig.availableLanguages) === null || _a === void 0 ? void 0 : _a['*']; }\n        });\n    }\n    const language = pluginConfig.availableLanguages ? findLanguageForModule(pluginConfig.availableLanguages, name) : null;\n    const useDefaultLanguage = language === null || language === DEFAULT_TAG;\n    let suffix = '.nls';\n    if (!useDefaultLanguage) {\n        suffix = suffix + '.' + language;\n    }\n    const messagesLoaded = (messages) => {\n        if (Array.isArray(messages)) {\n            messages.localize = createScopedLocalize(messages);\n            messages.localize2 = createScopedLocalize2(messages);\n        }\n        else {\n            messages.localize = createScopedLocalize(messages[name]);\n            messages.localize2 = createScopedLocalize2(messages[name]);\n        }\n        messages.getConfiguredDefaultLocale = () => { var _a; return (_a = pluginConfig.availableLanguages) === null || _a === void 0 ? void 0 : _a['*']; };\n        load(messages);\n    };\n    if (typeof pluginConfig.loadBundle === 'function') {\n        pluginConfig.loadBundle(name, language, (err, messages) => {\n            // We have an error. Load the English default strings to not fail\n            if (err) {\n                req([name + '.nls'], messagesLoaded);\n            }\n            else {\n                messagesLoaded(messages);\n            }\n        });\n    }\n    else if (pluginConfig.translationServiceUrl && !useDefaultLanguage) {\n        (async () => {\n            var _a;\n            try {\n                const messages = await getMessagesFromTranslationsService(pluginConfig.translationServiceUrl, language, name);\n                return messagesLoaded(messages);\n            }\n            catch (err) {\n                // Language is already as generic as it gets, so require default messages\n                if (!language.includes('-')) {\n                    console.error(err);\n                    return req([name + '.nls'], messagesLoaded);\n                }\n                try {\n                    // Since there is a dash, the language configured is a specific sub-language of the same generic language.\n                    // Since we were unable to load the specific language, try to load the generic language. Ex. we failed to find a\n                    // Swiss German (de-CH), so try to load the generic German (de) messages instead.\n                    const genericLanguage = language.split('-')[0];\n                    const messages = await getMessagesFromTranslationsService(pluginConfig.translationServiceUrl, genericLanguage, name);\n                    // We got some messages, so we configure the configuration to use the generic language for this session.\n                    (_a = pluginConfig.availableLanguages) !== null && _a !== void 0 ? _a : (pluginConfig.availableLanguages = {});\n                    pluginConfig.availableLanguages['*'] = genericLanguage;\n                    return messagesLoaded(messages);\n                }\n                catch (err) {\n                    console.error(err);\n                    return req([name + '.nls'], messagesLoaded);\n                }\n            }\n        })();\n    }\n    else {\n        req([name + suffix], messagesLoaded, (err) => {\n            if (suffix === '.nls') {\n                console.error('Failed trying to load default language strings', err);\n                return;\n            }\n            console.error(`Failed to load message bundle for language ${language}. Falling back to the default language:`, err);\n            req([name + '.nls'], messagesLoaded);\n        });\n    }\n}\n", "var _a;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../nls.js';\nexport const LANGUAGE_DEFAULT = 'en';\nlet _isWindows = false;\nlet _isMacintosh = false;\nlet _isLinux = false;\nlet _isLinuxSnap = false;\nlet _isNative = false;\nlet _isWeb = false;\nlet _isElectron = false;\nlet _isIOS = false;\nlet _isCI = false;\nlet _isMobile = false;\nlet _locale = undefined;\nlet _language = LANGUAGE_DEFAULT;\nlet _platformLocale = LANGUAGE_DEFAULT;\nlet _translationsConfigFile = undefined;\nlet _userAgent = undefined;\nconst $globalThis = globalThis;\nlet nodeProcess = undefined;\nif (typeof $globalThis.vscode !== 'undefined' && typeof $globalThis.vscode.process !== 'undefined') {\n    // Native environment (sandboxed)\n    nodeProcess = $globalThis.vscode.process;\n}\nelse if (typeof process !== 'undefined') {\n    // Native environment (non-sandboxed)\n    nodeProcess = process;\n}\nconst isElectronProcess = typeof ((_a = nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.versions) === null || _a === void 0 ? void 0 : _a.electron) === 'string';\nconst isElectronRenderer = isElectronProcess && (nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.type) === 'renderer';\n// Native environment\nif (typeof nodeProcess === 'object') {\n    _isWindows = (nodeProcess.platform === 'win32');\n    _isMacintosh = (nodeProcess.platform === 'darwin');\n    _isLinux = (nodeProcess.platform === 'linux');\n    _isLinuxSnap = _isLinux && !!nodeProcess.env['SNAP'] && !!nodeProcess.env['SNAP_REVISION'];\n    _isElectron = isElectronProcess;\n    _isCI = !!nodeProcess.env['CI'] || !!nodeProcess.env['BUILD_ARTIFACTSTAGINGDIRECTORY'];\n    _locale = LANGUAGE_DEFAULT;\n    _language = LANGUAGE_DEFAULT;\n    const rawNlsConfig = nodeProcess.env['VSCODE_NLS_CONFIG'];\n    if (rawNlsConfig) {\n        try {\n            const nlsConfig = JSON.parse(rawNlsConfig);\n            const resolved = nlsConfig.availableLanguages['*'];\n            _locale = nlsConfig.locale;\n            _platformLocale = nlsConfig.osLocale;\n            // VSCode's default language is 'en'\n            _language = resolved ? resolved : LANGUAGE_DEFAULT;\n            _translationsConfigFile = nlsConfig._translationsConfigFile;\n        }\n        catch (e) {\n        }\n    }\n    _isNative = true;\n}\n// Web environment\nelse if (typeof navigator === 'object' && !isElectronRenderer) {\n    _userAgent = navigator.userAgent;\n    _isWindows = _userAgent.indexOf('Windows') >= 0;\n    _isMacintosh = _userAgent.indexOf('Macintosh') >= 0;\n    _isIOS = (_userAgent.indexOf('Macintosh') >= 0 || _userAgent.indexOf('iPad') >= 0 || _userAgent.indexOf('iPhone') >= 0) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0;\n    _isLinux = _userAgent.indexOf('Linux') >= 0;\n    _isMobile = (_userAgent === null || _userAgent === void 0 ? void 0 : _userAgent.indexOf('Mobi')) >= 0;\n    _isWeb = true;\n    const configuredLocale = nls.getConfiguredDefaultLocale(\n    // This call _must_ be done in the file that calls `nls.getConfiguredDefaultLocale`\n    // to ensure that the NLS AMD Loader plugin has been loaded and configured.\n    // This is because the loader plugin decides what the default locale is based on\n    // how it's able to resolve the strings.\n    nls.localize({ key: 'ensureLoaderPluginIsLoaded', comment: ['{Locked}'] }, '_'));\n    _locale = configuredLocale || LANGUAGE_DEFAULT;\n    _language = _locale;\n    _platformLocale = navigator.language;\n}\n// Unknown environment\nelse {\n    console.error('Unable to resolve platform.');\n}\nlet _platform = 0 /* Platform.Web */;\nif (_isMacintosh) {\n    _platform = 1 /* Platform.Mac */;\n}\nelse if (_isWindows) {\n    _platform = 3 /* Platform.Windows */;\n}\nelse if (_isLinux) {\n    _platform = 2 /* Platform.Linux */;\n}\nexport const isWindows = _isWindows;\nexport const isMacintosh = _isMacintosh;\nexport const isLinux = _isLinux;\nexport const isNative = _isNative;\nexport const isWeb = _isWeb;\nexport const isWebWorker = (_isWeb && typeof $globalThis.importScripts === 'function');\nexport const webWorkerOrigin = isWebWorker ? $globalThis.origin : undefined;\nexport const isIOS = _isIOS;\nexport const isMobile = _isMobile;\nexport const userAgent = _userAgent;\n/**\n * The language used for the user interface. The format of\n * the string is all lower case (e.g. zh-tw for Traditional\n * Chinese)\n */\nexport const language = _language;\nexport const setTimeout0IsFaster = (typeof $globalThis.postMessage === 'function' && !$globalThis.importScripts);\n/**\n * See https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#:~:text=than%204%2C%20then-,set%20timeout%20to%204,-.\n *\n * Works similarly to `setTimeout(0)` but doesn't suffer from the 4ms artificial delay\n * that browsers set when the nesting level is > 5.\n */\nexport const setTimeout0 = (() => {\n    if (setTimeout0IsFaster) {\n        const pending = [];\n        $globalThis.addEventListener('message', (e) => {\n            if (e.data && e.data.vscodeScheduleAsyncWork) {\n                for (let i = 0, len = pending.length; i < len; i++) {\n                    const candidate = pending[i];\n                    if (candidate.id === e.data.vscodeScheduleAsyncWork) {\n                        pending.splice(i, 1);\n                        candidate.callback();\n                        return;\n                    }\n                }\n            }\n        });\n        let lastId = 0;\n        return (callback) => {\n            const myId = ++lastId;\n            pending.push({\n                id: myId,\n                callback: callback\n            });\n            $globalThis.postMessage({ vscodeScheduleAsyncWork: myId }, '*');\n        };\n    }\n    return (callback) => setTimeout(callback);\n})();\nexport const OS = (_isMacintosh || _isIOS ? 2 /* OperatingSystem.Macintosh */ : (_isWindows ? 1 /* OperatingSystem.Windows */ : 3 /* OperatingSystem.Linux */));\nlet _isLittleEndian = true;\nlet _isLittleEndianComputed = false;\nexport function isLittleEndian() {\n    if (!_isLittleEndianComputed) {\n        _isLittleEndianComputed = true;\n        const test = new Uint8Array(2);\n        test[0] = 1;\n        test[1] = 2;\n        const view = new Uint16Array(test.buffer);\n        _isLittleEndian = (view[0] === (2 << 8) + 1);\n    }\n    return _isLittleEndian;\n}\nexport const isChrome = !!(userAgent && userAgent.indexOf('Chrome') >= 0);\nexport const isFirefox = !!(userAgent && userAgent.indexOf('Firefox') >= 0);\nexport const isSafari = !!(!isChrome && (userAgent && userAgent.indexOf('Safari') >= 0));\nexport const isEdge = !!(userAgent && userAgent.indexOf('Edg/') >= 0);\nexport const isAndroid = !!(userAgent && userAgent.indexOf('Android') >= 0);\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { mainWindow } from './window.js';\nimport * as platform from '../common/platform.js';\n/**\n * Browser feature we can support in current platform, browser and environment.\n */\nexport const BrowserFeatures = {\n    clipboard: {\n        writeText: (platform.isNative\n            || (document.queryCommandSupported && document.queryCommandSupported('copy'))\n            || !!(navigator && navigator.clipboard && navigator.clipboard.writeText)),\n        readText: (platform.isNative\n            || !!(navigator && navigator.clipboard && navigator.clipboard.readText))\n    },\n    keyboard: (() => {\n        if (platform.isNative || browser.isStandalone()) {\n            return 0 /* KeyboardSupport.Always */;\n        }\n        if (navigator.keyboard || browser.isSafari) {\n            return 1 /* KeyboardSupport.FullScreen */;\n        }\n        return 2 /* KeyboardSupport.None */;\n    })(),\n    // 'ontouchstart' in window always evaluates to true with typescript's modern typings. This causes `window` to be\n    // `never` later in `window.navigator`. That's why we need the explicit `window as Window` cast\n    touch: 'ontouchstart' in mainWindow || navigator.maxTouchPoints > 0,\n    pointerEvents: mainWindow.PointerEvent && ('ontouchstart' in mainWindow || navigator.maxTouchPoints > 0)\n};\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass KeyCodeStrMap {\n    constructor() {\n        this._keyCodeToStr = [];\n        this._strToKeyCode = Object.create(null);\n    }\n    define(keyCode, str) {\n        this._keyCodeToStr[keyCode] = str;\n        this._strToKeyCode[str.toLowerCase()] = keyCode;\n    }\n    keyCodeToStr(keyCode) {\n        return this._keyCodeToStr[keyCode];\n    }\n    strToKeyCode(str) {\n        return this._strToKeyCode[str.toLowerCase()] || 0 /* KeyCode.Unknown */;\n    }\n}\nconst uiMap = new KeyCodeStrMap();\nconst userSettingsUSMap = new KeyCodeStrMap();\nconst userSettingsGeneralMap = new KeyCodeStrMap();\nexport const EVENT_KEY_CODE_MAP = new Array(230);\nexport const NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE = {};\nconst scanCodeIntToStr = [];\nconst scanCodeStrToInt = Object.create(null);\nconst scanCodeLowerCaseStrToInt = Object.create(null);\n/**\n * -1 if a ScanCode => KeyCode mapping depends on kb layout.\n */\nexport const IMMUTABLE_CODE_TO_KEY_CODE = [];\n/**\n * -1 if a KeyCode => ScanCode mapping depends on kb layout.\n */\nexport const IMMUTABLE_KEY_CODE_TO_CODE = [];\nfor (let i = 0; i <= 193 /* ScanCode.MAX_VALUE */; i++) {\n    IMMUTABLE_CODE_TO_KEY_CODE[i] = -1 /* KeyCode.DependsOnKbLayout */;\n}\nfor (let i = 0; i <= 132 /* KeyCode.MAX_VALUE */; i++) {\n    IMMUTABLE_KEY_CODE_TO_CODE[i] = -1 /* ScanCode.DependsOnKbLayout */;\n}\n(function () {\n    // See https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\n    // See https://github.com/microsoft/node-native-keymap/blob/88c0b0e5/deps/chromium/keyboard_codes_win.h\n    const empty = '';\n    const mappings = [\n        // immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel\n        [1, 0 /* ScanCode.None */, 'None', 0 /* KeyCode.Unknown */, 'unknown', 0, 'VK_UNKNOWN', empty, empty],\n        [1, 1 /* ScanCode.Hyper */, 'Hyper', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 2 /* ScanCode.Super */, 'Super', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 3 /* ScanCode.Fn */, 'Fn', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 4 /* ScanCode.FnLock */, 'FnLock', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 5 /* ScanCode.Suspend */, 'Suspend', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 6 /* ScanCode.Resume */, 'Resume', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 7 /* ScanCode.Turbo */, 'Turbo', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 8 /* ScanCode.Sleep */, 'Sleep', 0 /* KeyCode.Unknown */, empty, 0, 'VK_SLEEP', empty, empty],\n        [1, 9 /* ScanCode.WakeUp */, 'WakeUp', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [0, 10 /* ScanCode.KeyA */, 'KeyA', 31 /* KeyCode.KeyA */, 'A', 65, 'VK_A', empty, empty],\n        [0, 11 /* ScanCode.KeyB */, 'KeyB', 32 /* KeyCode.KeyB */, 'B', 66, 'VK_B', empty, empty],\n        [0, 12 /* ScanCode.KeyC */, 'KeyC', 33 /* KeyCode.KeyC */, 'C', 67, 'VK_C', empty, empty],\n        [0, 13 /* ScanCode.KeyD */, 'KeyD', 34 /* KeyCode.KeyD */, 'D', 68, 'VK_D', empty, empty],\n        [0, 14 /* ScanCode.KeyE */, 'KeyE', 35 /* KeyCode.KeyE */, 'E', 69, 'VK_E', empty, empty],\n        [0, 15 /* ScanCode.KeyF */, 'KeyF', 36 /* KeyCode.KeyF */, 'F', 70, 'VK_F', empty, empty],\n        [0, 16 /* ScanCode.KeyG */, 'KeyG', 37 /* KeyCode.KeyG */, 'G', 71, 'VK_G', empty, empty],\n        [0, 17 /* ScanCode.KeyH */, 'KeyH', 38 /* KeyCode.KeyH */, 'H', 72, 'VK_H', empty, empty],\n        [0, 18 /* ScanCode.KeyI */, 'KeyI', 39 /* KeyCode.KeyI */, 'I', 73, 'VK_I', empty, empty],\n        [0, 19 /* ScanCode.KeyJ */, 'KeyJ', 40 /* KeyCode.KeyJ */, 'J', 74, 'VK_J', empty, empty],\n        [0, 20 /* ScanCode.KeyK */, 'KeyK', 41 /* KeyCode.KeyK */, 'K', 75, 'VK_K', empty, empty],\n        [0, 21 /* ScanCode.KeyL */, 'KeyL', 42 /* KeyCode.KeyL */, 'L', 76, 'VK_L', empty, empty],\n        [0, 22 /* ScanCode.KeyM */, 'KeyM', 43 /* KeyCode.KeyM */, 'M', 77, 'VK_M', empty, empty],\n        [0, 23 /* ScanCode.KeyN */, 'KeyN', 44 /* KeyCode.KeyN */, 'N', 78, 'VK_N', empty, empty],\n        [0, 24 /* ScanCode.KeyO */, 'KeyO', 45 /* KeyCode.KeyO */, 'O', 79, 'VK_O', empty, empty],\n        [0, 25 /* ScanCode.KeyP */, 'KeyP', 46 /* KeyCode.KeyP */, 'P', 80, 'VK_P', empty, empty],\n        [0, 26 /* ScanCode.KeyQ */, 'KeyQ', 47 /* KeyCode.KeyQ */, 'Q', 81, 'VK_Q', empty, empty],\n        [0, 27 /* ScanCode.KeyR */, 'KeyR', 48 /* KeyCode.KeyR */, 'R', 82, 'VK_R', empty, empty],\n        [0, 28 /* ScanCode.KeyS */, 'KeyS', 49 /* KeyCode.KeyS */, 'S', 83, 'VK_S', empty, empty],\n        [0, 29 /* ScanCode.KeyT */, 'KeyT', 50 /* KeyCode.KeyT */, 'T', 84, 'VK_T', empty, empty],\n        [0, 30 /* ScanCode.KeyU */, 'KeyU', 51 /* KeyCode.KeyU */, 'U', 85, 'VK_U', empty, empty],\n        [0, 31 /* ScanCode.KeyV */, 'KeyV', 52 /* KeyCode.KeyV */, 'V', 86, 'VK_V', empty, empty],\n        [0, 32 /* ScanCode.KeyW */, 'KeyW', 53 /* KeyCode.KeyW */, 'W', 87, 'VK_W', empty, empty],\n        [0, 33 /* ScanCode.KeyX */, 'KeyX', 54 /* KeyCode.KeyX */, 'X', 88, 'VK_X', empty, empty],\n        [0, 34 /* ScanCode.KeyY */, 'KeyY', 55 /* KeyCode.KeyY */, 'Y', 89, 'VK_Y', empty, empty],\n        [0, 35 /* ScanCode.KeyZ */, 'KeyZ', 56 /* KeyCode.KeyZ */, 'Z', 90, 'VK_Z', empty, empty],\n        [0, 36 /* ScanCode.Digit1 */, 'Digit1', 22 /* KeyCode.Digit1 */, '1', 49, 'VK_1', empty, empty],\n        [0, 37 /* ScanCode.Digit2 */, 'Digit2', 23 /* KeyCode.Digit2 */, '2', 50, 'VK_2', empty, empty],\n        [0, 38 /* ScanCode.Digit3 */, 'Digit3', 24 /* KeyCode.Digit3 */, '3', 51, 'VK_3', empty, empty],\n        [0, 39 /* ScanCode.Digit4 */, 'Digit4', 25 /* KeyCode.Digit4 */, '4', 52, 'VK_4', empty, empty],\n        [0, 40 /* ScanCode.Digit5 */, 'Digit5', 26 /* KeyCode.Digit5 */, '5', 53, 'VK_5', empty, empty],\n        [0, 41 /* ScanCode.Digit6 */, 'Digit6', 27 /* KeyCode.Digit6 */, '6', 54, 'VK_6', empty, empty],\n        [0, 42 /* ScanCode.Digit7 */, 'Digit7', 28 /* KeyCode.Digit7 */, '7', 55, 'VK_7', empty, empty],\n        [0, 43 /* ScanCode.Digit8 */, 'Digit8', 29 /* KeyCode.Digit8 */, '8', 56, 'VK_8', empty, empty],\n        [0, 44 /* ScanCode.Digit9 */, 'Digit9', 30 /* KeyCode.Digit9 */, '9', 57, 'VK_9', empty, empty],\n        [0, 45 /* ScanCode.Digit0 */, 'Digit0', 21 /* KeyCode.Digit0 */, '0', 48, 'VK_0', empty, empty],\n        [1, 46 /* ScanCode.Enter */, 'Enter', 3 /* KeyCode.Enter */, 'Enter', 13, 'VK_RETURN', empty, empty],\n        [1, 47 /* ScanCode.Escape */, 'Escape', 9 /* KeyCode.Escape */, 'Escape', 27, 'VK_ESCAPE', empty, empty],\n        [1, 48 /* ScanCode.Backspace */, 'Backspace', 1 /* KeyCode.Backspace */, 'Backspace', 8, 'VK_BACK', empty, empty],\n        [1, 49 /* ScanCode.Tab */, 'Tab', 2 /* KeyCode.Tab */, 'Tab', 9, 'VK_TAB', empty, empty],\n        [1, 50 /* ScanCode.Space */, 'Space', 10 /* KeyCode.Space */, 'Space', 32, 'VK_SPACE', empty, empty],\n        [0, 51 /* ScanCode.Minus */, 'Minus', 88 /* KeyCode.Minus */, '-', 189, 'VK_OEM_MINUS', '-', 'OEM_MINUS'],\n        [0, 52 /* ScanCode.Equal */, 'Equal', 86 /* KeyCode.Equal */, '=', 187, 'VK_OEM_PLUS', '=', 'OEM_PLUS'],\n        [0, 53 /* ScanCode.BracketLeft */, 'BracketLeft', 92 /* KeyCode.BracketLeft */, '[', 219, 'VK_OEM_4', '[', 'OEM_4'],\n        [0, 54 /* ScanCode.BracketRight */, 'BracketRight', 94 /* KeyCode.BracketRight */, ']', 221, 'VK_OEM_6', ']', 'OEM_6'],\n        [0, 55 /* ScanCode.Backslash */, 'Backslash', 93 /* KeyCode.Backslash */, '\\\\', 220, 'VK_OEM_5', '\\\\', 'OEM_5'],\n        [0, 56 /* ScanCode.IntlHash */, 'IntlHash', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty], // has been dropped from the w3c spec\n        [0, 57 /* ScanCode.Semicolon */, 'Semicolon', 85 /* KeyCode.Semicolon */, ';', 186, 'VK_OEM_1', ';', 'OEM_1'],\n        [0, 58 /* ScanCode.Quote */, 'Quote', 95 /* KeyCode.Quote */, '\\'', 222, 'VK_OEM_7', '\\'', 'OEM_7'],\n        [0, 59 /* ScanCode.Backquote */, 'Backquote', 91 /* KeyCode.Backquote */, '`', 192, 'VK_OEM_3', '`', 'OEM_3'],\n        [0, 60 /* ScanCode.Comma */, 'Comma', 87 /* KeyCode.Comma */, ',', 188, 'VK_OEM_COMMA', ',', 'OEM_COMMA'],\n        [0, 61 /* ScanCode.Period */, 'Period', 89 /* KeyCode.Period */, '.', 190, 'VK_OEM_PERIOD', '.', 'OEM_PERIOD'],\n        [0, 62 /* ScanCode.Slash */, 'Slash', 90 /* KeyCode.Slash */, '/', 191, 'VK_OEM_2', '/', 'OEM_2'],\n        [1, 63 /* ScanCode.CapsLock */, 'CapsLock', 8 /* KeyCode.CapsLock */, 'CapsLock', 20, 'VK_CAPITAL', empty, empty],\n        [1, 64 /* ScanCode.F1 */, 'F1', 59 /* KeyCode.F1 */, 'F1', 112, 'VK_F1', empty, empty],\n        [1, 65 /* ScanCode.F2 */, 'F2', 60 /* KeyCode.F2 */, 'F2', 113, 'VK_F2', empty, empty],\n        [1, 66 /* ScanCode.F3 */, 'F3', 61 /* KeyCode.F3 */, 'F3', 114, 'VK_F3', empty, empty],\n        [1, 67 /* ScanCode.F4 */, 'F4', 62 /* KeyCode.F4 */, 'F4', 115, 'VK_F4', empty, empty],\n        [1, 68 /* ScanCode.F5 */, 'F5', 63 /* KeyCode.F5 */, 'F5', 116, 'VK_F5', empty, empty],\n        [1, 69 /* ScanCode.F6 */, 'F6', 64 /* KeyCode.F6 */, 'F6', 117, 'VK_F6', empty, empty],\n        [1, 70 /* ScanCode.F7 */, 'F7', 65 /* KeyCode.F7 */, 'F7', 118, 'VK_F7', empty, empty],\n        [1, 71 /* ScanCode.F8 */, 'F8', 66 /* KeyCode.F8 */, 'F8', 119, 'VK_F8', empty, empty],\n        [1, 72 /* ScanCode.F9 */, 'F9', 67 /* KeyCode.F9 */, 'F9', 120, 'VK_F9', empty, empty],\n        [1, 73 /* ScanCode.F10 */, 'F10', 68 /* KeyCode.F10 */, 'F10', 121, 'VK_F10', empty, empty],\n        [1, 74 /* ScanCode.F11 */, 'F11', 69 /* KeyCode.F11 */, 'F11', 122, 'VK_F11', empty, empty],\n        [1, 75 /* ScanCode.F12 */, 'F12', 70 /* KeyCode.F12 */, 'F12', 123, 'VK_F12', empty, empty],\n        [1, 76 /* ScanCode.PrintScreen */, 'PrintScreen', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 77 /* ScanCode.ScrollLock */, 'ScrollLock', 84 /* KeyCode.ScrollLock */, 'ScrollLock', 145, 'VK_SCROLL', empty, empty],\n        [1, 78 /* ScanCode.Pause */, 'Pause', 7 /* KeyCode.PauseBreak */, 'PauseBreak', 19, 'VK_PAUSE', empty, empty],\n        [1, 79 /* ScanCode.Insert */, 'Insert', 19 /* KeyCode.Insert */, 'Insert', 45, 'VK_INSERT', empty, empty],\n        [1, 80 /* ScanCode.Home */, 'Home', 14 /* KeyCode.Home */, 'Home', 36, 'VK_HOME', empty, empty],\n        [1, 81 /* ScanCode.PageUp */, 'PageUp', 11 /* KeyCode.PageUp */, 'PageUp', 33, 'VK_PRIOR', empty, empty],\n        [1, 82 /* ScanCode.Delete */, 'Delete', 20 /* KeyCode.Delete */, 'Delete', 46, 'VK_DELETE', empty, empty],\n        [1, 83 /* ScanCode.End */, 'End', 13 /* KeyCode.End */, 'End', 35, 'VK_END', empty, empty],\n        [1, 84 /* ScanCode.PageDown */, 'PageDown', 12 /* KeyCode.PageDown */, 'PageDown', 34, 'VK_NEXT', empty, empty],\n        [1, 85 /* ScanCode.ArrowRight */, 'ArrowRight', 17 /* KeyCode.RightArrow */, 'RightArrow', 39, 'VK_RIGHT', 'Right', empty],\n        [1, 86 /* ScanCode.ArrowLeft */, 'ArrowLeft', 15 /* KeyCode.LeftArrow */, 'LeftArrow', 37, 'VK_LEFT', 'Left', empty],\n        [1, 87 /* ScanCode.ArrowDown */, 'ArrowDown', 18 /* KeyCode.DownArrow */, 'DownArrow', 40, 'VK_DOWN', 'Down', empty],\n        [1, 88 /* ScanCode.ArrowUp */, 'ArrowUp', 16 /* KeyCode.UpArrow */, 'UpArrow', 38, 'VK_UP', 'Up', empty],\n        [1, 89 /* ScanCode.NumLock */, 'NumLock', 83 /* KeyCode.NumLock */, 'NumLock', 144, 'VK_NUMLOCK', empty, empty],\n        [1, 90 /* ScanCode.NumpadDivide */, 'NumpadDivide', 113 /* KeyCode.NumpadDivide */, 'NumPad_Divide', 111, 'VK_DIVIDE', empty, empty],\n        [1, 91 /* ScanCode.NumpadMultiply */, 'NumpadMultiply', 108 /* KeyCode.NumpadMultiply */, 'NumPad_Multiply', 106, 'VK_MULTIPLY', empty, empty],\n        [1, 92 /* ScanCode.NumpadSubtract */, 'NumpadSubtract', 111 /* KeyCode.NumpadSubtract */, 'NumPad_Subtract', 109, 'VK_SUBTRACT', empty, empty],\n        [1, 93 /* ScanCode.NumpadAdd */, 'NumpadAdd', 109 /* KeyCode.NumpadAdd */, 'NumPad_Add', 107, 'VK_ADD', empty, empty],\n        [1, 94 /* ScanCode.NumpadEnter */, 'NumpadEnter', 3 /* KeyCode.Enter */, empty, 0, empty, empty, empty],\n        [1, 95 /* ScanCode.Numpad1 */, 'Numpad1', 99 /* KeyCode.Numpad1 */, 'NumPad1', 97, 'VK_NUMPAD1', empty, empty],\n        [1, 96 /* ScanCode.Numpad2 */, 'Numpad2', 100 /* KeyCode.Numpad2 */, 'NumPad2', 98, 'VK_NUMPAD2', empty, empty],\n        [1, 97 /* ScanCode.Numpad3 */, 'Numpad3', 101 /* KeyCode.Numpad3 */, 'NumPad3', 99, 'VK_NUMPAD3', empty, empty],\n        [1, 98 /* ScanCode.Numpad4 */, 'Numpad4', 102 /* KeyCode.Numpad4 */, 'NumPad4', 100, 'VK_NUMPAD4', empty, empty],\n        [1, 99 /* ScanCode.Numpad5 */, 'Numpad5', 103 /* KeyCode.Numpad5 */, 'NumPad5', 101, 'VK_NUMPAD5', empty, empty],\n        [1, 100 /* ScanCode.Numpad6 */, 'Numpad6', 104 /* KeyCode.Numpad6 */, 'NumPad6', 102, 'VK_NUMPAD6', empty, empty],\n        [1, 101 /* ScanCode.Numpad7 */, 'Numpad7', 105 /* KeyCode.Numpad7 */, 'NumPad7', 103, 'VK_NUMPAD7', empty, empty],\n        [1, 102 /* ScanCode.Numpad8 */, 'Numpad8', 106 /* KeyCode.Numpad8 */, 'NumPad8', 104, 'VK_NUMPAD8', empty, empty],\n        [1, 103 /* ScanCode.Numpad9 */, 'Numpad9', 107 /* KeyCode.Numpad9 */, 'NumPad9', 105, 'VK_NUMPAD9', empty, empty],\n        [1, 104 /* ScanCode.Numpad0 */, 'Numpad0', 98 /* KeyCode.Numpad0 */, 'NumPad0', 96, 'VK_NUMPAD0', empty, empty],\n        [1, 105 /* ScanCode.NumpadDecimal */, 'NumpadDecimal', 112 /* KeyCode.NumpadDecimal */, 'NumPad_Decimal', 110, 'VK_DECIMAL', empty, empty],\n        [0, 106 /* ScanCode.IntlBackslash */, 'IntlBackslash', 97 /* KeyCode.IntlBackslash */, 'OEM_102', 226, 'VK_OEM_102', empty, empty],\n        [1, 107 /* ScanCode.ContextMenu */, 'ContextMenu', 58 /* KeyCode.ContextMenu */, 'ContextMenu', 93, empty, empty, empty],\n        [1, 108 /* ScanCode.Power */, 'Power', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 109 /* ScanCode.NumpadEqual */, 'NumpadEqual', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 110 /* ScanCode.F13 */, 'F13', 71 /* KeyCode.F13 */, 'F13', 124, 'VK_F13', empty, empty],\n        [1, 111 /* ScanCode.F14 */, 'F14', 72 /* KeyCode.F14 */, 'F14', 125, 'VK_F14', empty, empty],\n        [1, 112 /* ScanCode.F15 */, 'F15', 73 /* KeyCode.F15 */, 'F15', 126, 'VK_F15', empty, empty],\n        [1, 113 /* ScanCode.F16 */, 'F16', 74 /* KeyCode.F16 */, 'F16', 127, 'VK_F16', empty, empty],\n        [1, 114 /* ScanCode.F17 */, 'F17', 75 /* KeyCode.F17 */, 'F17', 128, 'VK_F17', empty, empty],\n        [1, 115 /* ScanCode.F18 */, 'F18', 76 /* KeyCode.F18 */, 'F18', 129, 'VK_F18', empty, empty],\n        [1, 116 /* ScanCode.F19 */, 'F19', 77 /* KeyCode.F19 */, 'F19', 130, 'VK_F19', empty, empty],\n        [1, 117 /* ScanCode.F20 */, 'F20', 78 /* KeyCode.F20 */, 'F20', 131, 'VK_F20', empty, empty],\n        [1, 118 /* ScanCode.F21 */, 'F21', 79 /* KeyCode.F21 */, 'F21', 132, 'VK_F21', empty, empty],\n        [1, 119 /* ScanCode.F22 */, 'F22', 80 /* KeyCode.F22 */, 'F22', 133, 'VK_F22', empty, empty],\n        [1, 120 /* ScanCode.F23 */, 'F23', 81 /* KeyCode.F23 */, 'F23', 134, 'VK_F23', empty, empty],\n        [1, 121 /* ScanCode.F24 */, 'F24', 82 /* KeyCode.F24 */, 'F24', 135, 'VK_F24', empty, empty],\n        [1, 122 /* ScanCode.Open */, 'Open', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 123 /* ScanCode.Help */, 'Help', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 124 /* ScanCode.Select */, 'Select', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 125 /* ScanCode.Again */, 'Again', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 126 /* ScanCode.Undo */, 'Undo', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 127 /* ScanCode.Cut */, 'Cut', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 128 /* ScanCode.Copy */, 'Copy', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 129 /* ScanCode.Paste */, 'Paste', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 130 /* ScanCode.Find */, 'Find', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 131 /* ScanCode.AudioVolumeMute */, 'AudioVolumeMute', 117 /* KeyCode.AudioVolumeMute */, 'AudioVolumeMute', 173, 'VK_VOLUME_MUTE', empty, empty],\n        [1, 132 /* ScanCode.AudioVolumeUp */, 'AudioVolumeUp', 118 /* KeyCode.AudioVolumeUp */, 'AudioVolumeUp', 175, 'VK_VOLUME_UP', empty, empty],\n        [1, 133 /* ScanCode.AudioVolumeDown */, 'AudioVolumeDown', 119 /* KeyCode.AudioVolumeDown */, 'AudioVolumeDown', 174, 'VK_VOLUME_DOWN', empty, empty],\n        [1, 134 /* ScanCode.NumpadComma */, 'NumpadComma', 110 /* KeyCode.NUMPAD_SEPARATOR */, 'NumPad_Separator', 108, 'VK_SEPARATOR', empty, empty],\n        [0, 135 /* ScanCode.IntlRo */, 'IntlRo', 115 /* KeyCode.ABNT_C1 */, 'ABNT_C1', 193, 'VK_ABNT_C1', empty, empty],\n        [1, 136 /* ScanCode.KanaMode */, 'KanaMode', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [0, 137 /* ScanCode.IntlYen */, 'IntlYen', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 138 /* ScanCode.Convert */, 'Convert', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 139 /* ScanCode.NonConvert */, 'NonConvert', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 140 /* ScanCode.Lang1 */, 'Lang1', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 141 /* ScanCode.Lang2 */, 'Lang2', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 142 /* ScanCode.Lang3 */, 'Lang3', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 143 /* ScanCode.Lang4 */, 'Lang4', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 144 /* ScanCode.Lang5 */, 'Lang5', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 145 /* ScanCode.Abort */, 'Abort', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 146 /* ScanCode.Props */, 'Props', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 147 /* ScanCode.NumpadParenLeft */, 'NumpadParenLeft', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 148 /* ScanCode.NumpadParenRight */, 'NumpadParenRight', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 149 /* ScanCode.NumpadBackspace */, 'NumpadBackspace', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 150 /* ScanCode.NumpadMemoryStore */, 'NumpadMemoryStore', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 151 /* ScanCode.NumpadMemoryRecall */, 'NumpadMemoryRecall', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 152 /* ScanCode.NumpadMemoryClear */, 'NumpadMemoryClear', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 153 /* ScanCode.NumpadMemoryAdd */, 'NumpadMemoryAdd', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 154 /* ScanCode.NumpadMemorySubtract */, 'NumpadMemorySubtract', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 155 /* ScanCode.NumpadClear */, 'NumpadClear', 131 /* KeyCode.Clear */, 'Clear', 12, 'VK_CLEAR', empty, empty],\n        [1, 156 /* ScanCode.NumpadClearEntry */, 'NumpadClearEntry', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 5 /* KeyCode.Ctrl */, 'Ctrl', 17, 'VK_CONTROL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 4 /* KeyCode.Shift */, 'Shift', 16, 'VK_SHIFT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 6 /* KeyCode.Alt */, 'Alt', 18, 'VK_MENU', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 57 /* KeyCode.Meta */, 'Meta', 91, 'VK_COMMAND', empty, empty],\n        [1, 157 /* ScanCode.ControlLeft */, 'ControlLeft', 5 /* KeyCode.Ctrl */, empty, 0, 'VK_LCONTROL', empty, empty],\n        [1, 158 /* ScanCode.ShiftLeft */, 'ShiftLeft', 4 /* KeyCode.Shift */, empty, 0, 'VK_LSHIFT', empty, empty],\n        [1, 159 /* ScanCode.AltLeft */, 'AltLeft', 6 /* KeyCode.Alt */, empty, 0, 'VK_LMENU', empty, empty],\n        [1, 160 /* ScanCode.MetaLeft */, 'MetaLeft', 57 /* KeyCode.Meta */, empty, 0, 'VK_LWIN', empty, empty],\n        [1, 161 /* ScanCode.ControlRight */, 'ControlRight', 5 /* KeyCode.Ctrl */, empty, 0, 'VK_RCONTROL', empty, empty],\n        [1, 162 /* ScanCode.ShiftRight */, 'ShiftRight', 4 /* KeyCode.Shift */, empty, 0, 'VK_RSHIFT', empty, empty],\n        [1, 163 /* ScanCode.AltRight */, 'AltRight', 6 /* KeyCode.Alt */, empty, 0, 'VK_RMENU', empty, empty],\n        [1, 164 /* ScanCode.MetaRight */, 'MetaRight', 57 /* KeyCode.Meta */, empty, 0, 'VK_RWIN', empty, empty],\n        [1, 165 /* ScanCode.BrightnessUp */, 'BrightnessUp', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 166 /* ScanCode.BrightnessDown */, 'BrightnessDown', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 167 /* ScanCode.MediaPlay */, 'MediaPlay', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 168 /* ScanCode.MediaRecord */, 'MediaRecord', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 169 /* ScanCode.MediaFastForward */, 'MediaFastForward', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 170 /* ScanCode.MediaRewind */, 'MediaRewind', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 171 /* ScanCode.MediaTrackNext */, 'MediaTrackNext', 124 /* KeyCode.MediaTrackNext */, 'MediaTrackNext', 176, 'VK_MEDIA_NEXT_TRACK', empty, empty],\n        [1, 172 /* ScanCode.MediaTrackPrevious */, 'MediaTrackPrevious', 125 /* KeyCode.MediaTrackPrevious */, 'MediaTrackPrevious', 177, 'VK_MEDIA_PREV_TRACK', empty, empty],\n        [1, 173 /* ScanCode.MediaStop */, 'MediaStop', 126 /* KeyCode.MediaStop */, 'MediaStop', 178, 'VK_MEDIA_STOP', empty, empty],\n        [1, 174 /* ScanCode.Eject */, 'Eject', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 175 /* ScanCode.MediaPlayPause */, 'MediaPlayPause', 127 /* KeyCode.MediaPlayPause */, 'MediaPlayPause', 179, 'VK_MEDIA_PLAY_PAUSE', empty, empty],\n        [1, 176 /* ScanCode.MediaSelect */, 'MediaSelect', 128 /* KeyCode.LaunchMediaPlayer */, 'LaunchMediaPlayer', 181, 'VK_MEDIA_LAUNCH_MEDIA_SELECT', empty, empty],\n        [1, 177 /* ScanCode.LaunchMail */, 'LaunchMail', 129 /* KeyCode.LaunchMail */, 'LaunchMail', 180, 'VK_MEDIA_LAUNCH_MAIL', empty, empty],\n        [1, 178 /* ScanCode.LaunchApp2 */, 'LaunchApp2', 130 /* KeyCode.LaunchApp2 */, 'LaunchApp2', 183, 'VK_MEDIA_LAUNCH_APP2', empty, empty],\n        [1, 179 /* ScanCode.LaunchApp1 */, 'LaunchApp1', 0 /* KeyCode.Unknown */, empty, 0, 'VK_MEDIA_LAUNCH_APP1', empty, empty],\n        [1, 180 /* ScanCode.SelectTask */, 'SelectTask', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 181 /* ScanCode.LaunchScreenSaver */, 'LaunchScreenSaver', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 182 /* ScanCode.BrowserSearch */, 'BrowserSearch', 120 /* KeyCode.BrowserSearch */, 'BrowserSearch', 170, 'VK_BROWSER_SEARCH', empty, empty],\n        [1, 183 /* ScanCode.BrowserHome */, 'BrowserHome', 121 /* KeyCode.BrowserHome */, 'BrowserHome', 172, 'VK_BROWSER_HOME', empty, empty],\n        [1, 184 /* ScanCode.BrowserBack */, 'BrowserBack', 122 /* KeyCode.BrowserBack */, 'BrowserBack', 166, 'VK_BROWSER_BACK', empty, empty],\n        [1, 185 /* ScanCode.BrowserForward */, 'BrowserForward', 123 /* KeyCode.BrowserForward */, 'BrowserForward', 167, 'VK_BROWSER_FORWARD', empty, empty],\n        [1, 186 /* ScanCode.BrowserStop */, 'BrowserStop', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_STOP', empty, empty],\n        [1, 187 /* ScanCode.BrowserRefresh */, 'BrowserRefresh', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_REFRESH', empty, empty],\n        [1, 188 /* ScanCode.BrowserFavorites */, 'BrowserFavorites', 0 /* KeyCode.Unknown */, empty, 0, 'VK_BROWSER_FAVORITES', empty, empty],\n        [1, 189 /* ScanCode.ZoomToggle */, 'ZoomToggle', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 190 /* ScanCode.MailReply */, 'MailReply', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 191 /* ScanCode.MailForward */, 'MailForward', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        [1, 192 /* ScanCode.MailSend */, 'MailSend', 0 /* KeyCode.Unknown */, empty, 0, empty, empty, empty],\n        // See https://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n        // If an Input Method Editor is processing key input and the event is keydown, return 229.\n        [1, 0 /* ScanCode.None */, empty, 114 /* KeyCode.KEY_IN_COMPOSITION */, 'KeyInComposition', 229, empty, empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 116 /* KeyCode.ABNT_C2 */, 'ABNT_C2', 194, 'VK_ABNT_C2', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 96 /* KeyCode.OEM_8 */, 'OEM_8', 223, 'VK_OEM_8', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_KANA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HANGUL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_JUNJA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_FINAL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HANJA', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_KANJI', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_CONVERT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_NONCONVERT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ACCEPT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_MODECHANGE', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_SELECT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PRINT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EXECUTE', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_SNAPSHOT', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_HELP', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_APPS', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PROCESSKEY', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PACKET', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_DBE_SBCSCHAR', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_DBE_DBCSCHAR', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ATTN', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_CRSEL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EXSEL', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_EREOF', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PLAY', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_ZOOM', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_NONAME', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_PA1', empty, empty],\n        [1, 0 /* ScanCode.None */, empty, 0 /* KeyCode.Unknown */, empty, 0, 'VK_OEM_CLEAR', empty, empty],\n    ];\n    const seenKeyCode = [];\n    const seenScanCode = [];\n    for (const mapping of mappings) {\n        const [immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel] = mapping;\n        if (!seenScanCode[scanCode]) {\n            seenScanCode[scanCode] = true;\n            scanCodeIntToStr[scanCode] = scanCodeStr;\n            scanCodeStrToInt[scanCodeStr] = scanCode;\n            scanCodeLowerCaseStrToInt[scanCodeStr.toLowerCase()] = scanCode;\n            if (immutable) {\n                IMMUTABLE_CODE_TO_KEY_CODE[scanCode] = keyCode;\n                if ((keyCode !== 0 /* KeyCode.Unknown */)\n                    && (keyCode !== 3 /* KeyCode.Enter */)\n                    && (keyCode !== 5 /* KeyCode.Ctrl */)\n                    && (keyCode !== 4 /* KeyCode.Shift */)\n                    && (keyCode !== 6 /* KeyCode.Alt */)\n                    && (keyCode !== 57 /* KeyCode.Meta */)) {\n                    IMMUTABLE_KEY_CODE_TO_CODE[keyCode] = scanCode;\n                }\n            }\n        }\n        if (!seenKeyCode[keyCode]) {\n            seenKeyCode[keyCode] = true;\n            if (!keyCodeStr) {\n                throw new Error(`String representation missing for key code ${keyCode} around scan code ${scanCodeStr}`);\n            }\n            uiMap.define(keyCode, keyCodeStr);\n            userSettingsUSMap.define(keyCode, usUserSettingsLabel || keyCodeStr);\n            userSettingsGeneralMap.define(keyCode, generalUserSettingsLabel || usUserSettingsLabel || keyCodeStr);\n        }\n        if (eventKeyCode) {\n            EVENT_KEY_CODE_MAP[eventKeyCode] = keyCode;\n        }\n        if (vkey) {\n            NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[vkey] = keyCode;\n        }\n    }\n    // Manually added due to the exclusion above (due to duplication with NumpadEnter)\n    IMMUTABLE_KEY_CODE_TO_CODE[3 /* KeyCode.Enter */] = 46 /* ScanCode.Enter */;\n})();\nexport var KeyCodeUtils;\n(function (KeyCodeUtils) {\n    function toString(keyCode) {\n        return uiMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toString = toString;\n    function fromString(key) {\n        return uiMap.strToKeyCode(key);\n    }\n    KeyCodeUtils.fromString = fromString;\n    function toUserSettingsUS(keyCode) {\n        return userSettingsUSMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toUserSettingsUS = toUserSettingsUS;\n    function toUserSettingsGeneral(keyCode) {\n        return userSettingsGeneralMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toUserSettingsGeneral = toUserSettingsGeneral;\n    function fromUserSettings(key) {\n        return userSettingsUSMap.strToKeyCode(key) || userSettingsGeneralMap.strToKeyCode(key);\n    }\n    KeyCodeUtils.fromUserSettings = fromUserSettings;\n    function toElectronAccelerator(keyCode) {\n        if (keyCode >= 98 /* KeyCode.Numpad0 */ && keyCode <= 113 /* KeyCode.NumpadDivide */) {\n            // [Electron Accelerators] Electron is able to parse numpad keys, but unfortunately it\n            // renders them just as regular keys in menus. For example, num0 is rendered as \"0\",\n            // numdiv is rendered as \"/\", numsub is rendered as \"-\".\n            //\n            // This can lead to incredible confusion, as it makes numpad based keybindings indistinguishable\n            // from keybindings based on regular keys.\n            //\n            // We therefore need to fall back to custom rendering for numpad keys.\n            return null;\n        }\n        switch (keyCode) {\n            case 16 /* KeyCode.UpArrow */:\n                return 'Up';\n            case 18 /* KeyCode.DownArrow */:\n                return 'Down';\n            case 15 /* KeyCode.LeftArrow */:\n                return 'Left';\n            case 17 /* KeyCode.RightArrow */:\n                return 'Right';\n        }\n        return uiMap.keyCodeToStr(keyCode);\n    }\n    KeyCodeUtils.toElectronAccelerator = toElectronAccelerator;\n})(KeyCodeUtils || (KeyCodeUtils = {}));\nexport function KeyChord(firstPart, secondPart) {\n    const chordPart = ((secondPart & 0x0000FFFF) << 16) >>> 0;\n    return (firstPart | chordPart) >>> 0;\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// Avoid circular dependency on EventEmitter by implementing a subset of the interface.\nexport class ErrorHandler {\n    constructor() {\n        this.listeners = [];\n        this.unexpectedErrorHandler = function (e) {\n            setTimeout(() => {\n                if (e.stack) {\n                    if (ErrorNoTelemetry.isErrorNoTelemetry(e)) {\n                        throw new ErrorNoTelemetry(e.message + '\\n\\n' + e.stack);\n                    }\n                    throw new Error(e.message + '\\n\\n' + e.stack);\n                }\n                throw e;\n            }, 0);\n        };\n    }\n    emit(e) {\n        this.listeners.forEach((listener) => {\n            listener(e);\n        });\n    }\n    onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n    }\n    // For external errors, we don't want the listeners to be called\n    onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n    }\n}\nexport const errorHandler = new ErrorHandler();\nexport function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isCancellationError(e)) {\n        errorHandler.onUnexpectedError(e);\n    }\n    return undefined;\n}\nexport function onUnexpectedExternalError(e) {\n    // ignore errors from cancelled promises\n    if (!isCancellationError(e)) {\n        errorHandler.onUnexpectedExternalError(e);\n    }\n    return undefined;\n}\nexport function transformErrorForSerialization(error) {\n    if (error instanceof Error) {\n        const { name, message } = error;\n        const stack = error.stacktrace || error.stack;\n        return {\n            $isError: true,\n            name,\n            message,\n            stack,\n            noTelemetry: ErrorNoTelemetry.isErrorNoTelemetry(error)\n        };\n    }\n    // return as is\n    return error;\n}\nconst canceledName = 'Canceled';\n/**\n * Checks if the given error is a promise in canceled state\n */\nexport function isCancellationError(error) {\n    if (error instanceof CancellationError) {\n        return true;\n    }\n    return error instanceof Error && error.name === canceledName && error.message === canceledName;\n}\n// !!!IMPORTANT!!!\n// Do NOT change this class because it is also used as an API-type.\nexport class CancellationError extends Error {\n    constructor() {\n        super(canceledName);\n        this.name = this.message;\n    }\n}\n/**\n * @deprecated use {@link CancellationError `new CancellationError()`} instead\n */\nexport function canceled() {\n    const error = new Error(canceledName);\n    error.name = error.message;\n    return error;\n}\nexport function illegalArgument(name) {\n    if (name) {\n        return new Error(`Illegal argument: ${name}`);\n    }\n    else {\n        return new Error('Illegal argument');\n    }\n}\nexport function illegalState(name) {\n    if (name) {\n        return new Error(`Illegal state: ${name}`);\n    }\n    else {\n        return new Error('Illegal state');\n    }\n}\nexport class NotSupportedError extends Error {\n    constructor(message) {\n        super('NotSupported');\n        if (message) {\n            this.message = message;\n        }\n    }\n}\n/**\n * Error that when thrown won't be logged in telemetry as an unhandled error.\n */\nexport class ErrorNoTelemetry extends Error {\n    constructor(msg) {\n        super(msg);\n        this.name = 'CodeExpectedError';\n    }\n    static fromError(err) {\n        if (err instanceof ErrorNoTelemetry) {\n            return err;\n        }\n        const result = new ErrorNoTelemetry();\n        result.message = err.message;\n        result.stack = err.stack;\n        return result;\n    }\n    static isErrorNoTelemetry(err) {\n        return err.name === 'CodeExpectedError';\n    }\n}\n/**\n * This error indicates a bug.\n * Do not throw this for invalid user input.\n * Only catch this error to recover gracefully from bugs.\n */\nexport class BugIndicatingError extends Error {\n    constructor(message) {\n        super(message || 'An unexpected bug occurred.');\n        Object.setPrototypeOf(this, BugIndicatingError.prototype);\n        // Because we know for sure only buggy code throws this,\n        // we definitely want to break here and fix the bug.\n        // eslint-disable-next-line no-debugger\n        // debugger;\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from './errors.js';\nexport function decodeKeybinding(keybinding, OS) {\n    if (typeof keybinding === 'number') {\n        if (keybinding === 0) {\n            return null;\n        }\n        const firstChord = (keybinding & 0x0000FFFF) >>> 0;\n        const secondChord = (keybinding & 0xFFFF0000) >>> 16;\n        if (secondChord !== 0) {\n            return new Keybinding([\n                createSimpleKeybinding(firstChord, OS),\n                createSimpleKeybinding(secondChord, OS)\n            ]);\n        }\n        return new Keybinding([createSimpleKeybinding(firstChord, OS)]);\n    }\n    else {\n        const chords = [];\n        for (let i = 0; i < keybinding.length; i++) {\n            chords.push(createSimpleKeybinding(keybinding[i], OS));\n        }\n        return new Keybinding(chords);\n    }\n}\nexport function createSimpleKeybinding(keybinding, OS) {\n    const ctrlCmd = (keybinding & 2048 /* BinaryKeybindingsMask.CtrlCmd */ ? true : false);\n    const winCtrl = (keybinding & 256 /* BinaryKeybindingsMask.WinCtrl */ ? true : false);\n    const ctrlKey = (OS === 2 /* OperatingSystem.Macintosh */ ? winCtrl : ctrlCmd);\n    const shiftKey = (keybinding & 1024 /* BinaryKeybindingsMask.Shift */ ? true : false);\n    const altKey = (keybinding & 512 /* BinaryKeybindingsMask.Alt */ ? true : false);\n    const metaKey = (OS === 2 /* OperatingSystem.Macintosh */ ? ctrlCmd : winCtrl);\n    const keyCode = (keybinding & 255 /* BinaryKeybindingsMask.KeyCode */);\n    return new KeyCodeChord(ctrlKey, shiftKey, altKey, metaKey, keyCode);\n}\n/**\n * Represents a chord which uses the `keyCode` field of keyboard events.\n * A chord is a combination of keys pressed simultaneously.\n */\nexport class KeyCodeChord {\n    constructor(ctrlKey, shiftKey, altKey, metaKey, keyCode) {\n        this.ctrlKey = ctrlKey;\n        this.shiftKey = shiftKey;\n        this.altKey = altKey;\n        this.metaKey = metaKey;\n        this.keyCode = keyCode;\n    }\n    equals(other) {\n        return (other instanceof KeyCodeChord\n            && this.ctrlKey === other.ctrlKey\n            && this.shiftKey === other.shiftKey\n            && this.altKey === other.altKey\n            && this.metaKey === other.metaKey\n            && this.keyCode === other.keyCode);\n    }\n    isModifierKey() {\n        return (this.keyCode === 0 /* KeyCode.Unknown */\n            || this.keyCode === 5 /* KeyCode.Ctrl */\n            || this.keyCode === 57 /* KeyCode.Meta */\n            || this.keyCode === 6 /* KeyCode.Alt */\n            || this.keyCode === 4 /* KeyCode.Shift */);\n    }\n    /**\n     * Does this keybinding refer to the key code of a modifier and it also has the modifier flag?\n     */\n    isDuplicateModifierCase() {\n        return ((this.ctrlKey && this.keyCode === 5 /* KeyCode.Ctrl */)\n            || (this.shiftKey && this.keyCode === 4 /* KeyCode.Shift */)\n            || (this.altKey && this.keyCode === 6 /* KeyCode.Alt */)\n            || (this.metaKey && this.keyCode === 57 /* KeyCode.Meta */));\n    }\n}\n/**\n * Represents a chord which uses the `code` field of keyboard events.\n * A chord is a combination of keys pressed simultaneously.\n */\nexport class ScanCodeChord {\n    constructor(ctrlKey, shiftKey, altKey, metaKey, scanCode) {\n        this.ctrlKey = ctrlKey;\n        this.shiftKey = shiftKey;\n        this.altKey = altKey;\n        this.metaKey = metaKey;\n        this.scanCode = scanCode;\n    }\n    /**\n     * Does this keybinding refer to the key code of a modifier and it also has the modifier flag?\n     */\n    isDuplicateModifierCase() {\n        return ((this.ctrlKey && (this.scanCode === 157 /* ScanCode.ControlLeft */ || this.scanCode === 161 /* ScanCode.ControlRight */))\n            || (this.shiftKey && (this.scanCode === 158 /* ScanCode.ShiftLeft */ || this.scanCode === 162 /* ScanCode.ShiftRight */))\n            || (this.altKey && (this.scanCode === 159 /* ScanCode.AltLeft */ || this.scanCode === 163 /* ScanCode.AltRight */))\n            || (this.metaKey && (this.scanCode === 160 /* ScanCode.MetaLeft */ || this.scanCode === 164 /* ScanCode.MetaRight */)));\n    }\n}\n/**\n * A keybinding is a sequence of chords.\n */\nexport class Keybinding {\n    constructor(chords) {\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this.chords = chords;\n    }\n}\nexport class ResolvedChord {\n    constructor(ctrlKey, shiftKey, altKey, metaKey, keyLabel, keyAriaLabel) {\n        this.ctrlKey = ctrlKey;\n        this.shiftKey = shiftKey;\n        this.altKey = altKey;\n        this.metaKey = metaKey;\n        this.keyLabel = keyLabel;\n        this.keyAriaLabel = keyAriaLabel;\n    }\n}\n/**\n * A resolved keybinding. Consists of one or multiple chords.\n */\nexport class ResolvedKeybinding {\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        switch (keyCode) {\n            case 59: return 85 /* KeyCode.Semicolon */;\n            case 60:\n                if (platform.isLinux) {\n                    return 97 /* KeyCode.IntlBackslash */;\n                }\n                break;\n            case 61: return 86 /* KeyCode.Equal */;\n            // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n            case 107: return 109 /* KeyCode.NumpadAdd */;\n            case 109: return 111 /* KeyCode.NumpadSubtract */;\n            case 173: return 88 /* KeyCode.Minus */;\n            case 224:\n                if (platform.isMacintosh) {\n                    return 57 /* KeyCode.Meta */;\n                }\n                break;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = e.getModifierState('AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst sameOriginWindowChainCache = new WeakMap();\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            return null;\n        }\n    }\n    catch (e) {\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     */\n    static getSameOriginWindowChain(targetWindow) {\n        let windowChainCache = sameOriginWindowChainCache.get(targetWindow);\n        if (!windowChainCache) {\n            windowChainCache = [];\n            sameOriginWindowChainCache.set(targetWindow, windowChainCache);\n            let w = targetWindow;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    windowChainCache.push({\n                        window: new WeakRef(w),\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    windowChainCache.push({\n                        window: new WeakRef(w),\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return windowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        var _a, _b;\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain(childWindow);\n        for (const windowChainEl of windowChain) {\n            const windowInChain = windowChainEl.window.deref();\n            top += (_a = windowInChain === null || windowInChain === void 0 ? void 0 : windowInChain.scrollY) !== null && _a !== void 0 ? _a : 0;\n            left += (_b = windowInChain === null || windowInChain === void 0 ? void 0 : windowInChain.scrollX) !== null && _b !== void 0 ? _b : 0;\n            if (windowInChain === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\nexport class StandardMouseEvent {\n    constructor(targetWindow, e) {\n        this.timestamp = Date.now();\n        this.browserEvent = e;\n        this.leftButton = e.button === 0;\n        this.middleButton = e.button === 1;\n        this.rightButton = e.button === 2;\n        this.buttons = e.buttons;\n        this.target = e.target;\n        this.detail = e.detail || 1;\n        if (e.type === 'dblclick') {\n            this.detail = 2;\n        }\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        if (typeof e.pageX === 'number') {\n            this.posx = e.pageX;\n            this.posy = e.pageY;\n        }\n        else {\n            // Probably hit by MSGestureEvent\n            this.posx = e.clientX + this.target.ownerDocument.body.scrollLeft + this.target.ownerDocument.documentElement.scrollLeft;\n            this.posy = e.clientY + this.target.ownerDocument.body.scrollTop + this.target.ownerDocument.documentElement.scrollTop;\n        }\n        // Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n        const iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(targetWindow, e.view);\n        this.posx -= iframeOffsets.left;\n        this.posy -= iframeOffsets.top;\n    }\n    preventDefault() {\n        this.browserEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.browserEvent.stopPropagation();\n    }\n}\nexport class StandardWheelEvent {\n    constructor(e, deltaX = 0, deltaY = 0) {\n        var _a;\n        this.browserEvent = e || null;\n        this.target = e ? (e.target || e.targetNode || e.srcElement) : null;\n        this.deltaY = deltaY;\n        this.deltaX = deltaX;\n        let shouldFactorDPR = false;\n        if (browser.isChrome) {\n            // Chrome version >= 123 contains the fix to factor devicePixelRatio into the wheel event.\n            // See https://chromium.googlesource.com/chromium/src.git/+/be51b448441ff0c9d1f17e0f25c4bf1ab3f11f61\n            const chromeVersionMatch = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            const chromeMajorVersion = chromeVersionMatch ? parseInt(chromeVersionMatch[1]) : 123;\n            shouldFactorDPR = chromeMajorVersion <= 122;\n        }\n        if (e) {\n            // Old (deprecated) wheel events\n            const e1 = e;\n            const e2 = e;\n            const devicePixelRatio = ((_a = e.view) === null || _a === void 0 ? void 0 : _a.devicePixelRatio) || 1;\n            // vertical delta scroll\n            if (typeof e1.wheelDeltaY !== 'undefined') {\n                if (shouldFactorDPR) {\n                    // Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n                    this.deltaY = e1.wheelDeltaY / (120 * devicePixelRatio);\n                }\n                else {\n                    this.deltaY = e1.wheelDeltaY / 120;\n                }\n            }\n            else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n                this.deltaY = -e2.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaY = -e.deltaY / 3;\n                    }\n                    else {\n                        this.deltaY = -e.deltaY;\n                    }\n                }\n                else {\n                    this.deltaY = -e.deltaY / 40;\n                }\n            }\n            // horizontal delta scroll\n            if (typeof e1.wheelDeltaX !== 'undefined') {\n                if (browser.isSafari && platform.isWindows) {\n                    this.deltaX = -(e1.wheelDeltaX / 120);\n                }\n                else if (shouldFactorDPR) {\n                    // Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n                    this.deltaX = e1.wheelDeltaX / (120 * devicePixelRatio);\n                }\n                else {\n                    this.deltaX = e1.wheelDeltaX / 120;\n                }\n            }\n            else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n                this.deltaX = -e.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaX = -e.deltaX / 3;\n                    }\n                    else {\n                        this.deltaX = -e.deltaX;\n                    }\n                }\n                else {\n                    this.deltaX = -e.deltaX / 40;\n                }\n            }\n            // Assume a vertical scroll if nothing else worked\n            if (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n                if (shouldFactorDPR) {\n                    // Refs https://github.com/microsoft/vscode/issues/146403#issuecomment-1854538928\n                    this.deltaY = e.wheelDelta / (120 * devicePixelRatio);\n                }\n                else {\n                    this.deltaY = e.wheelDelta / 120;\n                }\n            }\n        }\n    }\n    preventDefault() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.preventDefault();\n    }\n    stopPropagation() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Given a function, returns a function that is only calling that function once.\n */\nexport function createSingleCallFunction(fn, fnDidRunCallback) {\n    const _this = this;\n    let didCall = false;\n    let result;\n    return function () {\n        if (didCall) {\n            return result;\n        }\n        didCall = true;\n        if (fnDidRunCallback) {\n            try {\n                result = fn.apply(_this, arguments);\n            }\n            finally {\n                fnDidRunCallback();\n            }\n        }\n        else {\n            result = fn.apply(_this, arguments);\n        }\n        return result;\n    };\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var Iterable;\n(function (Iterable) {\n    function is(thing) {\n        return thing && typeof thing === 'object' && typeof thing[Symbol.iterator] === 'function';\n    }\n    Iterable.is = is;\n    const _empty = Object.freeze([]);\n    function empty() {\n        return _empty;\n    }\n    Iterable.empty = empty;\n    function* single(element) {\n        yield element;\n    }\n    Iterable.single = single;\n    function wrap(iterableOrElement) {\n        if (is(iterableOrElement)) {\n            return iterableOrElement;\n        }\n        else {\n            return single(iterableOrElement);\n        }\n    }\n    Iterable.wrap = wrap;\n    function from(iterable) {\n        return iterable || _empty;\n    }\n    Iterable.from = from;\n    function* reverse(array) {\n        for (let i = array.length - 1; i >= 0; i--) {\n            yield array[i];\n        }\n    }\n    Iterable.reverse = reverse;\n    function isEmpty(iterable) {\n        return !iterable || iterable[Symbol.iterator]().next().done === true;\n    }\n    Iterable.isEmpty = isEmpty;\n    function first(iterable) {\n        return iterable[Symbol.iterator]().next().value;\n    }\n    Iterable.first = first;\n    function some(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    Iterable.some = some;\n    function find(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                return element;\n            }\n        }\n        return undefined;\n    }\n    Iterable.find = find;\n    function* filter(iterable, predicate) {\n        for (const element of iterable) {\n            if (predicate(element)) {\n                yield element;\n            }\n        }\n    }\n    Iterable.filter = filter;\n    function* map(iterable, fn) {\n        let index = 0;\n        for (const element of iterable) {\n            yield fn(element, index++);\n        }\n    }\n    Iterable.map = map;\n    function* concat(...iterables) {\n        for (const iterable of iterables) {\n            yield* iterable;\n        }\n    }\n    Iterable.concat = concat;\n    function reduce(iterable, reducer, initialValue) {\n        let value = initialValue;\n        for (const element of iterable) {\n            value = reducer(value, element);\n        }\n        return value;\n    }\n    Iterable.reduce = reduce;\n    /**\n     * Returns an iterable slice of the array, with the same semantics as `array.slice()`.\n     */\n    function* slice(arr, from, to = arr.length) {\n        if (from < 0) {\n            from += arr.length;\n        }\n        if (to < 0) {\n            to += arr.length;\n        }\n        else if (to > arr.length) {\n            to = arr.length;\n        }\n        for (; from < to; from++) {\n            yield arr[from];\n        }\n    }\n    Iterable.slice = slice;\n    /**\n     * Consumes `atMost` elements from iterable and returns the consumed elements,\n     * and an iterable for the rest of the elements.\n     */\n    function consume(iterable, atMost = Number.POSITIVE_INFINITY) {\n        const consumed = [];\n        if (atMost === 0) {\n            return [consumed, iterable];\n        }\n        const iterator = iterable[Symbol.iterator]();\n        for (let i = 0; i < atMost; i++) {\n            const next = iterator.next();\n            if (next.done) {\n                return [consumed, Iterable.empty()];\n            }\n            consumed.push(next.value);\n        }\n        return [consumed, { [Symbol.iterator]() { return iterator; } }];\n    }\n    Iterable.consume = consume;\n    async function asyncToArray(iterable) {\n        const result = [];\n        for await (const item of iterable) {\n            result.push(item);\n        }\n        return Promise.resolve(result);\n    }\n    Iterable.asyncToArray = asyncToArray;\n})(Iterable || (Iterable = {}));\n", "import { createSingleCallFunction } from './functional.js';\nimport { Iterable } from './iterator.js';\n// #region Disposable Tracking\n/**\n * Enables logging of potentially leaked disposables.\n *\n * A disposable is considered leaked if it is not disposed or not registered as the child of\n * another disposable. This tracking is very simple an only works for classes that either\n * extend Disposable or use a DisposableStore. This means there are a lot of false positives.\n */\nconst TRACK_DISPOSABLES = false;\nlet disposableTracker = null;\nexport function setDisposableTracker(tracker) {\n    disposableTracker = tracker;\n}\nif (TRACK_DISPOSABLES) {\n    const __is_disposable_tracked__ = '__is_disposable_tracked__';\n    setDisposableTracker(new class {\n        trackDisposable(x) {\n            const stack = new Error('Potentially leaked disposable').stack;\n            setTimeout(() => {\n                if (!x[__is_disposable_tracked__]) {\n                    console.log(stack);\n                }\n            }, 3000);\n        }\n        setParent(child, parent) {\n            if (child && child !== Disposable.None) {\n                try {\n                    child[__is_disposable_tracked__] = true;\n                }\n                catch (_a) {\n                    // noop\n                }\n            }\n        }\n        markAsDisposed(disposable) {\n            if (disposable && disposable !== Disposable.None) {\n                try {\n                    disposable[__is_disposable_tracked__] = true;\n                }\n                catch (_a) {\n                    // noop\n                }\n            }\n        }\n        markAsSingleton(disposable) { }\n    });\n}\nexport function trackDisposable(x) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.trackDisposable(x);\n    return x;\n}\nexport function markAsDisposed(disposable) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.markAsDisposed(disposable);\n}\nfunction setParentOfDisposable(child, parent) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.setParent(child, parent);\n}\nfunction setParentOfDisposables(children, parent) {\n    if (!disposableTracker) {\n        return;\n    }\n    for (const child of children) {\n        disposableTracker.setParent(child, parent);\n    }\n}\n/**\n * Indicates that the given object is a singleton which does not need to be disposed.\n*/\nexport function markAsSingleton(singleton) {\n    disposableTracker === null || disposableTracker === void 0 ? void 0 : disposableTracker.markAsSingleton(singleton);\n    return singleton;\n}\n/**\n * Check if `thing` is {@link IDisposable disposable}.\n */\nexport function isDisposable(thing) {\n    return typeof thing.dispose === 'function' && thing.dispose.length === 0;\n}\nexport function dispose(arg) {\n    if (Iterable.is(arg)) {\n        const errors = [];\n        for (const d of arg) {\n            if (d) {\n                try {\n                    d.dispose();\n                }\n                catch (e) {\n                    errors.push(e);\n                }\n            }\n        }\n        if (errors.length === 1) {\n            throw errors[0];\n        }\n        else if (errors.length > 1) {\n            throw new AggregateError(errors, 'Encountered errors while disposing of store');\n        }\n        return Array.isArray(arg) ? [] : arg;\n    }\n    else if (arg) {\n        arg.dispose();\n        return arg;\n    }\n}\n/**\n * Combine multiple disposable values into a single {@link IDisposable}.\n */\nexport function combinedDisposable(...disposables) {\n    const parent = toDisposable(() => dispose(disposables));\n    setParentOfDisposables(disposables, parent);\n    return parent;\n}\n/**\n * Turn a function that implements dispose into an {@link IDisposable}.\n *\n * @param fn Clean up function, guaranteed to be called only **once**.\n */\nexport function toDisposable(fn) {\n    const self = trackDisposable({\n        dispose: createSingleCallFunction(() => {\n            markAsDisposed(self);\n            fn();\n        })\n    });\n    return self;\n}\n/**\n * Manages a collection of disposable values.\n *\n * This is the preferred way to manage multiple disposables. A `DisposableStore` is safer to work with than an\n * `IDisposable[]` as it considers edge cases, such as registering the same value multiple times or adding an item to a\n * store that has already been disposed of.\n */\nexport class DisposableStore {\n    constructor() {\n        this._toDispose = new Set();\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    /**\n     * Dispose of all registered disposables and mark this object as disposed.\n     *\n     * Any future disposables added to this object will be disposed of on `add`.\n     */\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        markAsDisposed(this);\n        this._isDisposed = true;\n        this.clear();\n    }\n    /**\n     * @return `true` if this object has been disposed of.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * Dispose of all registered disposables but do not mark this object as disposed.\n     */\n    clear() {\n        if (this._toDispose.size === 0) {\n            return;\n        }\n        try {\n            dispose(this._toDispose);\n        }\n        finally {\n            this._toDispose.clear();\n        }\n    }\n    /**\n     * Add a new {@link IDisposable disposable} to the collection.\n     */\n    add(o) {\n        if (!o) {\n            return o;\n        }\n        if (o === this) {\n            throw new Error('Cannot register a disposable on itself!');\n        }\n        setParentOfDisposable(o, this);\n        if (this._isDisposed) {\n            if (!DisposableStore.DISABLE_DISPOSED_WARNING) {\n                console.warn(new Error('Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!').stack);\n            }\n        }\n        else {\n            this._toDispose.add(o);\n        }\n        return o;\n    }\n    /**\n     * Deletes the value from the store, but does not dispose it.\n     */\n    deleteAndLeak(o) {\n        if (!o) {\n            return;\n        }\n        if (this._toDispose.has(o)) {\n            this._toDispose.delete(o);\n            setParentOfDisposable(o, null);\n        }\n    }\n}\nDisposableStore.DISABLE_DISPOSED_WARNING = false;\n/**\n * Abstract base class for a {@link IDisposable disposable} object.\n *\n * Subclasses can {@linkcode _register} disposables that will be automatically cleaned up when this object is disposed of.\n */\nexport class Disposable {\n    constructor() {\n        this._store = new DisposableStore();\n        trackDisposable(this);\n        setParentOfDisposable(this._store, this);\n    }\n    dispose() {\n        markAsDisposed(this);\n        this._store.dispose();\n    }\n    /**\n     * Adds `o` to the collection of disposables managed by this object.\n     */\n    _register(o) {\n        if (o === this) {\n            throw new Error('Cannot register a disposable on itself!');\n        }\n        return this._store.add(o);\n    }\n}\n/**\n * A disposable that does nothing when it is disposed of.\n *\n * TODO: This should not be a static property.\n */\nDisposable.None = Object.freeze({ dispose() { } });\n/**\n * Manages the lifecycle of a disposable value that may be changed.\n *\n * This ensures that when the disposable value is changed, the previously held disposable is disposed of. You can\n * also register a `MutableDisposable` on a `Disposable` to ensure it is automatically cleaned up.\n */\nexport class MutableDisposable {\n    constructor() {\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    get value() {\n        return this._isDisposed ? undefined : this._value;\n    }\n    set value(value) {\n        var _a;\n        if (this._isDisposed || value === this._value) {\n            return;\n        }\n        (_a = this._value) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (value) {\n            setParentOfDisposable(value, this);\n        }\n        this._value = value;\n    }\n    /**\n     * Resets the stored value and disposed of the previously stored value.\n     */\n    clear() {\n        this.value = undefined;\n    }\n    dispose() {\n        var _a;\n        this._isDisposed = true;\n        markAsDisposed(this);\n        (_a = this._value) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._value = undefined;\n    }\n}\nexport class RefCountedDisposable {\n    constructor(_disposable) {\n        this._disposable = _disposable;\n        this._counter = 1;\n    }\n    acquire() {\n        this._counter++;\n        return this;\n    }\n    release() {\n        if (--this._counter === 0) {\n            this._disposable.dispose();\n        }\n        return this;\n    }\n}\nexport class ImmortalReference {\n    constructor(object) {\n        this.object = object;\n    }\n    dispose() { }\n}\n/**\n * A map the manages the lifecycle of the values that it stores.\n */\nexport class DisposableMap {\n    constructor() {\n        this._store = new Map();\n        this._isDisposed = false;\n        trackDisposable(this);\n    }\n    /**\n     * Disposes of all stored values and mark this object as disposed.\n     *\n     * Trying to use this object after it has been disposed of is an error.\n     */\n    dispose() {\n        markAsDisposed(this);\n        this._isDisposed = true;\n        this.clearAndDisposeAll();\n    }\n    /**\n     * Disposes of all stored values and clear the map, but DO NOT mark this object as disposed.\n     */\n    clearAndDisposeAll() {\n        if (!this._store.size) {\n            return;\n        }\n        try {\n            dispose(this._store.values());\n        }\n        finally {\n            this._store.clear();\n        }\n    }\n    get(key) {\n        return this._store.get(key);\n    }\n    set(key, value, skipDisposeOnOverwrite = false) {\n        var _a;\n        if (this._isDisposed) {\n            console.warn(new Error('Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!').stack);\n        }\n        if (!skipDisposeOnOverwrite) {\n            (_a = this._store.get(key)) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        this._store.set(key, value);\n    }\n    /**\n     * Delete the value stored for `key` from this map and also dispose of it.\n     */\n    deleteAndDispose(key) {\n        var _a;\n        (_a = this._store.get(key)) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._store.delete(key);\n    }\n    [Symbol.iterator]() {\n        return this._store[Symbol.iterator]();\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nclass Node {\n    constructor(element) {\n        this.element = element;\n        this.next = Node.Undefined;\n        this.prev = Node.Undefined;\n    }\n}\nNode.Undefined = new Node(undefined);\nexport class LinkedList {\n    constructor() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n    }\n    get size() {\n        return this._size;\n    }\n    isEmpty() {\n        return this._first === Node.Undefined;\n    }\n    clear() {\n        let node = this._first;\n        while (node !== Node.Undefined) {\n            const next = node.next;\n            node.prev = Node.Undefined;\n            node.next = Node.Undefined;\n            node = next;\n        }\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n    }\n    unshift(element) {\n        return this._insert(element, false);\n    }\n    push(element) {\n        return this._insert(element, true);\n    }\n    _insert(element, atTheEnd) {\n        const newNode = new Node(element);\n        if (this._first === Node.Undefined) {\n            this._first = newNode;\n            this._last = newNode;\n        }\n        else if (atTheEnd) {\n            // push\n            const oldLast = this._last;\n            this._last = newNode;\n            newNode.prev = oldLast;\n            oldLast.next = newNode;\n        }\n        else {\n            // unshift\n            const oldFirst = this._first;\n            this._first = newNode;\n            newNode.next = oldFirst;\n            oldFirst.prev = newNode;\n        }\n        this._size += 1;\n        let didRemove = false;\n        return () => {\n            if (!didRemove) {\n                didRemove = true;\n                this._remove(newNode);\n            }\n        };\n    }\n    shift() {\n        if (this._first === Node.Undefined) {\n            return undefined;\n        }\n        else {\n            const res = this._first.element;\n            this._remove(this._first);\n            return res;\n        }\n    }\n    pop() {\n        if (this._last === Node.Undefined) {\n            return undefined;\n        }\n        else {\n            const res = this._last.element;\n            this._remove(this._last);\n            return res;\n        }\n    }\n    _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n            // middle\n            const anchor = node.prev;\n            anchor.next = node.next;\n            node.next.prev = anchor;\n        }\n        else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n            // only node\n            this._first = Node.Undefined;\n            this._last = Node.Undefined;\n        }\n        else if (node.next === Node.Undefined) {\n            // last\n            this._last = this._last.prev;\n            this._last.next = Node.Undefined;\n        }\n        else if (node.prev === Node.Undefined) {\n            // first\n            this._first = this._first.next;\n            this._first.prev = Node.Undefined;\n        }\n        // done\n        this._size -= 1;\n    }\n    *[Symbol.iterator]() {\n        let node = this._first;\n        while (node !== Node.Undefined) {\n            yield node.element;\n            node = node.next;\n        }\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst hasPerformanceNow = (globalThis.performance && typeof globalThis.performance.now === 'function');\nexport class StopWatch {\n    static create(highResolution) {\n        return new StopWatch(highResolution);\n    }\n    constructor(highResolution) {\n        this._now = hasPerformanceNow && highResolution === false ? Date.now : globalThis.performance.now.bind(globalThis.performance);\n        this._startTime = this._now();\n        this._stopTime = -1;\n    }\n    stop() {\n        this._stopTime = this._now();\n    }\n    elapsed() {\n        if (this._stopTime !== -1) {\n            return this._stopTime - this._startTime;\n        }\n        return this._now() - this._startTime;\n    }\n}\n", "import { onUnexpectedError } from './errors.js';\nimport { createSingleCallFunction } from './functional.js';\nimport { combinedDisposable, Disposable, DisposableStore, toDisposable } from './lifecycle.js';\nimport { LinkedList } from './linkedList.js';\nimport { StopWatch } from './stopwatch.js';\n// -----------------------------------------------------------------------------------------------------------------------\n// Uncomment the next line to print warnings whenever an emitter with listeners is disposed. That is a sign of code smell.\n// -----------------------------------------------------------------------------------------------------------------------\nconst _enableDisposeWithListenerWarning = false;\n// _enableDisposeWithListenerWarning = Boolean(\"TRUE\"); // causes a linter warning so that it cannot be pushed\n// -----------------------------------------------------------------------------------------------------------------------\n// Uncomment the next line to print warnings whenever a snapshotted event is used repeatedly without cleanup.\n// See https://github.com/microsoft/vscode/issues/142851\n// -----------------------------------------------------------------------------------------------------------------------\nconst _enableSnapshotPotentialLeakWarning = false;\nexport var Event;\n(function (Event) {\n    Event.None = () => Disposable.None;\n    function _addLeakageTraceLogic(options) {\n        if (_enableSnapshotPotentialLeakWarning) {\n            const { onDidAddListener: origListenerDidAdd } = options;\n            const stack = Stacktrace.create();\n            let count = 0;\n            options.onDidAddListener = () => {\n                if (++count === 2) {\n                    console.warn('snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here');\n                    stack.print();\n                }\n                origListenerDidAdd === null || origListenerDidAdd === void 0 ? void 0 : origListenerDidAdd();\n            };\n        }\n    }\n    /**\n     * Given an event, returns another event which debounces calls and defers the listeners to a later task via a shared\n     * `setTimeout`. The event is converted into a signal (`Event<void>`) to avoid additional object creation as a\n     * result of merging events and to try prevent race conditions that could arise when using related deferred and\n     * non-deferred events.\n     *\n     * This is useful for deferring non-critical work (eg. general UI updates) to ensure it does not block critical work\n     * (eg. latency of keypress to text rendered).\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function defer(event, disposable) {\n        return debounce(event, () => void 0, 0, undefined, true, undefined, disposable);\n    }\n    Event.defer = defer;\n    /**\n     * Given an event, returns another event which only fires once.\n     *\n     * @param event The event source for the new event.\n     */\n    function once(event) {\n        return (listener, thisArgs = null, disposables) => {\n            // we need this, in case the event fires during the listener call\n            let didFire = false;\n            let result = undefined;\n            result = event(e => {\n                if (didFire) {\n                    return;\n                }\n                else if (result) {\n                    result.dispose();\n                }\n                else {\n                    didFire = true;\n                }\n                return listener.call(thisArgs, e);\n            }, null, disposables);\n            if (didFire) {\n                result.dispose();\n            }\n            return result;\n        };\n    }\n    Event.once = once;\n    /**\n     * Maps an event of one type into an event of another type using a mapping function, similar to how\n     * `Array.prototype.map` works.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param map The mapping function.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function map(event, map, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(i => listener.call(thisArgs, map(i)), null, disposables), disposable);\n    }\n    Event.map = map;\n    /**\n     * Wraps an event in another event that performs some function on the event object before firing.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param each The function to perform on the event object.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function forEach(event, each, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(i => { each(i); listener.call(thisArgs, i); }, null, disposables), disposable);\n    }\n    Event.forEach = forEach;\n    function filter(event, filter, disposable) {\n        return snapshot((listener, thisArgs = null, disposables) => event(e => filter(e) && listener.call(thisArgs, e), null, disposables), disposable);\n    }\n    Event.filter = filter;\n    /**\n     * Given an event, returns the same event but typed as `Event<void>`.\n     */\n    function signal(event) {\n        return event;\n    }\n    Event.signal = signal;\n    function any(...events) {\n        return (listener, thisArgs = null, disposables) => {\n            const disposable = combinedDisposable(...events.map(event => event(e => listener.call(thisArgs, e))));\n            return addAndReturnDisposable(disposable, disposables);\n        };\n    }\n    Event.any = any;\n    /**\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     */\n    function reduce(event, merge, initial, disposable) {\n        let output = initial;\n        return map(event, e => {\n            output = merge(output, e);\n            return output;\n        }, disposable);\n    }\n    Event.reduce = reduce;\n    function snapshot(event, disposable) {\n        let listener;\n        const options = {\n            onWillAddFirstListener() {\n                listener = event(emitter.fire, emitter);\n            },\n            onDidRemoveLastListener() {\n                listener === null || listener === void 0 ? void 0 : listener.dispose();\n            }\n        };\n        if (!disposable) {\n            _addLeakageTraceLogic(options);\n        }\n        const emitter = new Emitter(options);\n        disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);\n        return emitter.event;\n    }\n    /**\n     * Adds the IDisposable to the store if it's set, and returns it. Useful to\n     * Event function implementation.\n     */\n    function addAndReturnDisposable(d, store) {\n        if (store instanceof Array) {\n            store.push(d);\n        }\n        else if (store) {\n            store.add(d);\n        }\n        return d;\n    }\n    function debounce(event, merge, delay = 100, leading = false, flushOnListenerRemove = false, leakWarningThreshold, disposable) {\n        let subscription;\n        let output = undefined;\n        let handle = undefined;\n        let numDebouncedCalls = 0;\n        let doFire;\n        const options = {\n            leakWarningThreshold,\n            onWillAddFirstListener() {\n                subscription = event(cur => {\n                    numDebouncedCalls++;\n                    output = merge(output, cur);\n                    if (leading && !handle) {\n                        emitter.fire(output);\n                        output = undefined;\n                    }\n                    doFire = () => {\n                        const _output = output;\n                        output = undefined;\n                        handle = undefined;\n                        if (!leading || numDebouncedCalls > 1) {\n                            emitter.fire(_output);\n                        }\n                        numDebouncedCalls = 0;\n                    };\n                    if (typeof delay === 'number') {\n                        clearTimeout(handle);\n                        handle = setTimeout(doFire, delay);\n                    }\n                    else {\n                        if (handle === undefined) {\n                            handle = 0;\n                            queueMicrotask(doFire);\n                        }\n                    }\n                });\n            },\n            onWillRemoveListener() {\n                if (flushOnListenerRemove && numDebouncedCalls > 0) {\n                    doFire === null || doFire === void 0 ? void 0 : doFire();\n                }\n            },\n            onDidRemoveLastListener() {\n                doFire = undefined;\n                subscription.dispose();\n            }\n        };\n        if (!disposable) {\n            _addLeakageTraceLogic(options);\n        }\n        const emitter = new Emitter(options);\n        disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);\n        return emitter.event;\n    }\n    Event.debounce = debounce;\n    /**\n     * Debounces an event, firing after some delay (default=0) with an array of all event original objects.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     */\n    function accumulate(event, delay = 0, disposable) {\n        return Event.debounce(event, (last, e) => {\n            if (!last) {\n                return [e];\n            }\n            last.push(e);\n            return last;\n        }, delay, undefined, true, undefined, disposable);\n    }\n    Event.accumulate = accumulate;\n    /**\n     * Filters an event such that some condition is _not_ met more than once in a row, effectively ensuring duplicate\n     * event objects from different sources do not fire the same event object.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param equals The equality condition.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     *\n     * @example\n     * ```\n     * // Fire only one time when a single window is opened or focused\n     * Event.latch(Event.any(onDidOpenWindow, onDidFocusWindow))\n     * ```\n     */\n    function latch(event, equals = (a, b) => a === b, disposable) {\n        let firstCall = true;\n        let cache;\n        return filter(event, value => {\n            const shouldEmit = firstCall || !equals(value, cache);\n            firstCall = false;\n            cache = value;\n            return shouldEmit;\n        }, disposable);\n    }\n    Event.latch = latch;\n    /**\n     * Splits an event whose parameter is a union type into 2 separate events for each type in the union.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @example\n     * ```\n     * const event = new EventEmitter<number | undefined>().event;\n     * const [numberEvent, undefinedEvent] = Event.split(event, isUndefined);\n     * ```\n     *\n     * @param event The event source for the new event.\n     * @param isT A function that determines what event is of the first type.\n     * @param disposable A disposable store to add the new EventEmitter to.\n     */\n    function split(event, isT, disposable) {\n        return [\n            Event.filter(event, isT, disposable),\n            Event.filter(event, e => !isT(e), disposable),\n        ];\n    }\n    Event.split = split;\n    /**\n     * Buffers an event until it has a listener attached.\n     *\n     * *NOTE* that this function returns an `Event` and it MUST be called with a `DisposableStore` whenever the returned\n     * event is accessible to \"third parties\", e.g the event is a public property. Otherwise a leaked listener on the\n     * returned event causes this utility to leak a listener on the original event.\n     *\n     * @param event The event source for the new event.\n     * @param flushAfterTimeout Determines whether to flush the buffer after a timeout immediately or after a\n     * `setTimeout` when the first event listener is added.\n     * @param _buffer Internal: A source event array used for tests.\n     *\n     * @example\n     * ```\n     * // Start accumulating events, when the first listener is attached, flush\n     * // the event after a timeout such that multiple listeners attached before\n     * // the timeout would receive the event\n     * this.onInstallExtension = Event.buffer(service.onInstallExtension, true);\n     * ```\n     */\n    function buffer(event, flushAfterTimeout = false, _buffer = [], disposable) {\n        let buffer = _buffer.slice();\n        let listener = event(e => {\n            if (buffer) {\n                buffer.push(e);\n            }\n            else {\n                emitter.fire(e);\n            }\n        });\n        if (disposable) {\n            disposable.add(listener);\n        }\n        const flush = () => {\n            buffer === null || buffer === void 0 ? void 0 : buffer.forEach(e => emitter.fire(e));\n            buffer = null;\n        };\n        const emitter = new Emitter({\n            onWillAddFirstListener() {\n                if (!listener) {\n                    listener = event(e => emitter.fire(e));\n                    if (disposable) {\n                        disposable.add(listener);\n                    }\n                }\n            },\n            onDidAddFirstListener() {\n                if (buffer) {\n                    if (flushAfterTimeout) {\n                        setTimeout(flush);\n                    }\n                    else {\n                        flush();\n                    }\n                }\n            },\n            onDidRemoveLastListener() {\n                if (listener) {\n                    listener.dispose();\n                }\n                listener = null;\n            }\n        });\n        if (disposable) {\n            disposable.add(emitter);\n        }\n        return emitter.event;\n    }\n    Event.buffer = buffer;\n    /**\n     * Wraps the event in an {@link IChainableEvent}, allowing a more functional programming style.\n     *\n     * @example\n     * ```\n     * // Normal\n     * const onEnterPressNormal = Event.filter(\n     *   Event.map(onKeyPress.event, e => new StandardKeyboardEvent(e)),\n     *   e.keyCode === KeyCode.Enter\n     * ).event;\n     *\n     * // Using chain\n     * const onEnterPressChain = Event.chain(onKeyPress.event, $ => $\n     *   .map(e => new StandardKeyboardEvent(e))\n     *   .filter(e => e.keyCode === KeyCode.Enter)\n     * );\n     * ```\n     */\n    function chain(event, sythensize) {\n        const fn = (listener, thisArgs, disposables) => {\n            const cs = sythensize(new ChainableSynthesis());\n            return event(function (value) {\n                const result = cs.evaluate(value);\n                if (result !== HaltChainable) {\n                    listener.call(thisArgs, result);\n                }\n            }, undefined, disposables);\n        };\n        return fn;\n    }\n    Event.chain = chain;\n    const HaltChainable = Symbol('HaltChainable');\n    class ChainableSynthesis {\n        constructor() {\n            this.steps = [];\n        }\n        map(fn) {\n            this.steps.push(fn);\n            return this;\n        }\n        forEach(fn) {\n            this.steps.push(v => {\n                fn(v);\n                return v;\n            });\n            return this;\n        }\n        filter(fn) {\n            this.steps.push(v => fn(v) ? v : HaltChainable);\n            return this;\n        }\n        reduce(merge, initial) {\n            let last = initial;\n            this.steps.push(v => {\n                last = merge(last, v);\n                return last;\n            });\n            return this;\n        }\n        latch(equals = (a, b) => a === b) {\n            let firstCall = true;\n            let cache;\n            this.steps.push(value => {\n                const shouldEmit = firstCall || !equals(value, cache);\n                firstCall = false;\n                cache = value;\n                return shouldEmit ? value : HaltChainable;\n            });\n            return this;\n        }\n        evaluate(value) {\n            for (const step of this.steps) {\n                value = step(value);\n                if (value === HaltChainable) {\n                    break;\n                }\n            }\n            return value;\n        }\n    }\n    /**\n     * Creates an {@link Event} from a node event emitter.\n     */\n    function fromNodeEventEmitter(emitter, eventName, map = id => id) {\n        const fn = (...args) => result.fire(map(...args));\n        const onFirstListenerAdd = () => emitter.on(eventName, fn);\n        const onLastListenerRemove = () => emitter.removeListener(eventName, fn);\n        const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });\n        return result.event;\n    }\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n    /**\n     * Creates an {@link Event} from a DOM event emitter.\n     */\n    function fromDOMEventEmitter(emitter, eventName, map = id => id) {\n        const fn = (...args) => result.fire(map(...args));\n        const onFirstListenerAdd = () => emitter.addEventListener(eventName, fn);\n        const onLastListenerRemove = () => emitter.removeEventListener(eventName, fn);\n        const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });\n        return result.event;\n    }\n    Event.fromDOMEventEmitter = fromDOMEventEmitter;\n    /**\n     * Creates a promise out of an event, using the {@link Event.once} helper.\n     */\n    function toPromise(event) {\n        return new Promise(resolve => once(event)(resolve));\n    }\n    Event.toPromise = toPromise;\n    /**\n     * Creates an event out of a promise that fires once when the promise is\n     * resolved with the result of the promise or `undefined`.\n     */\n    function fromPromise(promise) {\n        const result = new Emitter();\n        promise.then(res => {\n            result.fire(res);\n        }, () => {\n            result.fire(undefined);\n        }).finally(() => {\n            result.dispose();\n        });\n        return result.event;\n    }\n    Event.fromPromise = fromPromise;\n    function runAndSubscribe(event, handler, initial) {\n        handler(initial);\n        return event(e => handler(e));\n    }\n    Event.runAndSubscribe = runAndSubscribe;\n    class EmitterObserver {\n        constructor(_observable, store) {\n            this._observable = _observable;\n            this._counter = 0;\n            this._hasChanged = false;\n            const options = {\n                onWillAddFirstListener: () => {\n                    _observable.addObserver(this);\n                },\n                onDidRemoveLastListener: () => {\n                    _observable.removeObserver(this);\n                }\n            };\n            if (!store) {\n                _addLeakageTraceLogic(options);\n            }\n            this.emitter = new Emitter(options);\n            if (store) {\n                store.add(this.emitter);\n            }\n        }\n        beginUpdate(_observable) {\n            // assert(_observable === this.obs);\n            this._counter++;\n        }\n        handlePossibleChange(_observable) {\n            // assert(_observable === this.obs);\n        }\n        handleChange(_observable, _change) {\n            // assert(_observable === this.obs);\n            this._hasChanged = true;\n        }\n        endUpdate(_observable) {\n            // assert(_observable === this.obs);\n            this._counter--;\n            if (this._counter === 0) {\n                this._observable.reportChanges();\n                if (this._hasChanged) {\n                    this._hasChanged = false;\n                    this.emitter.fire(this._observable.get());\n                }\n            }\n        }\n    }\n    /**\n     * Creates an event emitter that is fired when the observable changes.\n     * Each listeners subscribes to the emitter.\n     */\n    function fromObservable(obs, store) {\n        const observer = new EmitterObserver(obs, store);\n        return observer.emitter.event;\n    }\n    Event.fromObservable = fromObservable;\n    /**\n     * Each listener is attached to the observable directly.\n     */\n    function fromObservableLight(observable) {\n        return (listener, thisArgs, disposables) => {\n            let count = 0;\n            let didChange = false;\n            const observer = {\n                beginUpdate() {\n                    count++;\n                },\n                endUpdate() {\n                    count--;\n                    if (count === 0) {\n                        observable.reportChanges();\n                        if (didChange) {\n                            didChange = false;\n                            listener.call(thisArgs);\n                        }\n                    }\n                },\n                handlePossibleChange() {\n                    // noop\n                },\n                handleChange() {\n                    didChange = true;\n                }\n            };\n            observable.addObserver(observer);\n            observable.reportChanges();\n            const disposable = {\n                dispose() {\n                    observable.removeObserver(observer);\n                }\n            };\n            if (disposables instanceof DisposableStore) {\n                disposables.add(disposable);\n            }\n            else if (Array.isArray(disposables)) {\n                disposables.push(disposable);\n            }\n            return disposable;\n        };\n    }\n    Event.fromObservableLight = fromObservableLight;\n})(Event || (Event = {}));\nexport class EventProfiling {\n    constructor(name) {\n        this.listenerCount = 0;\n        this.invocationCount = 0;\n        this.elapsedOverall = 0;\n        this.durations = [];\n        this.name = `${name}_${EventProfiling._idPool++}`;\n        EventProfiling.all.add(this);\n    }\n    start(listenerCount) {\n        this._stopWatch = new StopWatch();\n        this.listenerCount = listenerCount;\n    }\n    stop() {\n        if (this._stopWatch) {\n            const elapsed = this._stopWatch.elapsed();\n            this.durations.push(elapsed);\n            this.elapsedOverall += elapsed;\n            this.invocationCount += 1;\n            this._stopWatch = undefined;\n        }\n    }\n}\nEventProfiling.all = new Set();\nEventProfiling._idPool = 0;\nlet _globalLeakWarningThreshold = -1;\nclass LeakageMonitor {\n    constructor(threshold, name = Math.random().toString(18).slice(2, 5)) {\n        this.threshold = threshold;\n        this.name = name;\n        this._warnCountdown = 0;\n    }\n    dispose() {\n        var _a;\n        (_a = this._stacks) === null || _a === void 0 ? void 0 : _a.clear();\n    }\n    check(stack, listenerCount) {\n        const threshold = this.threshold;\n        if (threshold <= 0 || listenerCount < threshold) {\n            return undefined;\n        }\n        if (!this._stacks) {\n            this._stacks = new Map();\n        }\n        const count = (this._stacks.get(stack.value) || 0);\n        this._stacks.set(stack.value, count + 1);\n        this._warnCountdown -= 1;\n        if (this._warnCountdown <= 0) {\n            // only warn on first exceed and then every time the limit\n            // is exceeded by 50% again\n            this._warnCountdown = threshold * 0.5;\n            // find most frequent listener and print warning\n            let topStack;\n            let topCount = 0;\n            for (const [stack, count] of this._stacks) {\n                if (!topStack || topCount < count) {\n                    topStack = stack;\n                    topCount = count;\n                }\n            }\n            console.warn(`[${this.name}] potential listener LEAK detected, having ${listenerCount} listeners already. MOST frequent listener (${topCount}):`);\n            console.warn(topStack);\n        }\n        return () => {\n            const count = (this._stacks.get(stack.value) || 0);\n            this._stacks.set(stack.value, count - 1);\n        };\n    }\n}\nclass Stacktrace {\n    static create() {\n        var _a;\n        return new Stacktrace((_a = new Error().stack) !== null && _a !== void 0 ? _a : '');\n    }\n    constructor(value) {\n        this.value = value;\n    }\n    print() {\n        console.warn(this.value.split('\\n').slice(2).join('\\n'));\n    }\n}\nclass UniqueContainer {\n    constructor(value) {\n        this.value = value;\n    }\n}\nconst compactionThreshold = 2;\nconst forEachListener = (listeners, fn) => {\n    if (listeners instanceof UniqueContainer) {\n        fn(listeners);\n    }\n    else {\n        for (let i = 0; i < listeners.length; i++) {\n            const l = listeners[i];\n            if (l) {\n                fn(l);\n            }\n        }\n    }\n};\n/**\n * The Emitter can be used to expose an Event to the public\n * to fire it from the insides.\n * Sample:\n    class Document {\n\n        private readonly _onDidChange = new Emitter<(value:string)=>any>();\n\n        public onDidChange = this._onDidChange.event;\n\n        // getter-style\n        // get onDidChange(): Event<(value:string)=>any> {\n        // \treturn this._onDidChange.event;\n        // }\n\n        private _doIt() {\n            //...\n            this._onDidChange.fire(value);\n        }\n    }\n */\nexport class Emitter {\n    constructor(options) {\n        var _a, _b, _c, _d, _e;\n        this._size = 0;\n        this._options = options;\n        this._leakageMon = _globalLeakWarningThreshold > 0 || ((_a = this._options) === null || _a === void 0 ? void 0 : _a.leakWarningThreshold) ? new LeakageMonitor((_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.leakWarningThreshold) !== null && _c !== void 0 ? _c : _globalLeakWarningThreshold) : undefined;\n        this._perfMon = ((_d = this._options) === null || _d === void 0 ? void 0 : _d._profName) ? new EventProfiling(this._options._profName) : undefined;\n        this._deliveryQueue = (_e = this._options) === null || _e === void 0 ? void 0 : _e.deliveryQueue;\n    }\n    dispose() {\n        var _a, _b, _c, _d;\n        if (!this._disposed) {\n            this._disposed = true;\n            // It is bad to have listeners at the time of disposing an emitter, it is worst to have listeners keep the emitter\n            // alive via the reference that's embedded in their disposables. Therefore we loop over all remaining listeners and\n            // unset their subscriptions/disposables. Looping and blaming remaining listeners is done on next tick because the\n            // the following programming pattern is very popular:\n            //\n            // const someModel = this._disposables.add(new ModelObject()); // (1) create and register model\n            // this._disposables.add(someModel.onDidChange(() => { ... }); // (2) subscribe and register model-event listener\n            // ...later...\n            // this._disposables.dispose(); disposes (1) then (2): don't warn after (1) but after the \"overall dispose\" is done\n            if (((_a = this._deliveryQueue) === null || _a === void 0 ? void 0 : _a.current) === this) {\n                this._deliveryQueue.reset();\n            }\n            if (this._listeners) {\n                if (_enableDisposeWithListenerWarning) {\n                    const listeners = this._listeners;\n                    queueMicrotask(() => {\n                        forEachListener(listeners, l => { var _a; return (_a = l.stack) === null || _a === void 0 ? void 0 : _a.print(); });\n                    });\n                }\n                this._listeners = undefined;\n                this._size = 0;\n            }\n            (_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.onDidRemoveLastListener) === null || _c === void 0 ? void 0 : _c.call(_b);\n            (_d = this._leakageMon) === null || _d === void 0 ? void 0 : _d.dispose();\n        }\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        var _a;\n        (_a = this._event) !== null && _a !== void 0 ? _a : (this._event = (callback, thisArgs, disposables) => {\n            var _a, _b, _c, _d, _e;\n            if (this._leakageMon && this._size > this._leakageMon.threshold * 3) {\n                console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`);\n                return Disposable.None;\n            }\n            if (this._disposed) {\n                // todo: should we warn if a listener is added to a disposed emitter? This happens often\n                return Disposable.None;\n            }\n            if (thisArgs) {\n                callback = callback.bind(thisArgs);\n            }\n            const contained = new UniqueContainer(callback);\n            let removeMonitor;\n            let stack;\n            if (this._leakageMon && this._size >= Math.ceil(this._leakageMon.threshold * 0.2)) {\n                // check and record this emitter for potential leakage\n                contained.stack = Stacktrace.create();\n                removeMonitor = this._leakageMon.check(contained.stack, this._size + 1);\n            }\n            if (_enableDisposeWithListenerWarning) {\n                contained.stack = stack !== null && stack !== void 0 ? stack : Stacktrace.create();\n            }\n            if (!this._listeners) {\n                (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.onWillAddFirstListener) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n                this._listeners = contained;\n                (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidAddFirstListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n            }\n            else if (this._listeners instanceof UniqueContainer) {\n                (_e = this._deliveryQueue) !== null && _e !== void 0 ? _e : (this._deliveryQueue = new EventDeliveryQueuePrivate());\n                this._listeners = [this._listeners, contained];\n            }\n            else {\n                this._listeners.push(contained);\n            }\n            this._size++;\n            const result = toDisposable(() => { removeMonitor === null || removeMonitor === void 0 ? void 0 : removeMonitor(); this._removeListener(contained); });\n            if (disposables instanceof DisposableStore) {\n                disposables.add(result);\n            }\n            else if (Array.isArray(disposables)) {\n                disposables.push(result);\n            }\n            return result;\n        });\n        return this._event;\n    }\n    _removeListener(listener) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.onWillRemoveListener) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n        if (!this._listeners) {\n            return; // expected if a listener gets disposed\n        }\n        if (this._size === 1) {\n            this._listeners = undefined;\n            (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidRemoveLastListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n            this._size = 0;\n            return;\n        }\n        // size > 1 which requires that listeners be a list:\n        const listeners = this._listeners;\n        const index = listeners.indexOf(listener);\n        if (index === -1) {\n            console.log('disposed?', this._disposed);\n            console.log('size?', this._size);\n            console.log('arr?', JSON.stringify(this._listeners));\n            throw new Error('Attempted to dispose unknown listener');\n        }\n        this._size--;\n        listeners[index] = undefined;\n        const adjustDeliveryQueue = this._deliveryQueue.current === this;\n        if (this._size * compactionThreshold <= listeners.length) {\n            let n = 0;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i]) {\n                    listeners[n++] = listeners[i];\n                }\n                else if (adjustDeliveryQueue) {\n                    this._deliveryQueue.end--;\n                    if (n < this._deliveryQueue.i) {\n                        this._deliveryQueue.i--;\n                    }\n                }\n            }\n            listeners.length = n;\n        }\n    }\n    _deliver(listener, value) {\n        var _a;\n        if (!listener) {\n            return;\n        }\n        const errorHandler = ((_a = this._options) === null || _a === void 0 ? void 0 : _a.onListenerError) || onUnexpectedError;\n        if (!errorHandler) {\n            listener.value(value);\n            return;\n        }\n        try {\n            listener.value(value);\n        }\n        catch (e) {\n            errorHandler(e);\n        }\n    }\n    /** Delivers items in the queue. Assumes the queue is ready to go. */\n    _deliverQueue(dq) {\n        const listeners = dq.current._listeners;\n        while (dq.i < dq.end) {\n            // important: dq.i is incremented before calling deliver() because it might reenter deliverQueue()\n            this._deliver(listeners[dq.i++], dq.value);\n        }\n        dq.reset();\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        var _a, _b, _c, _d;\n        if ((_a = this._deliveryQueue) === null || _a === void 0 ? void 0 : _a.current) {\n            this._deliverQueue(this._deliveryQueue);\n            (_b = this._perfMon) === null || _b === void 0 ? void 0 : _b.stop(); // last fire() will have starting perfmon, stop it before starting the next dispatch\n        }\n        (_c = this._perfMon) === null || _c === void 0 ? void 0 : _c.start(this._size);\n        if (!this._listeners) {\n            // no-op\n        }\n        else if (this._listeners instanceof UniqueContainer) {\n            this._deliver(this._listeners, event);\n        }\n        else {\n            const dq = this._deliveryQueue;\n            dq.enqueue(this, event, this._listeners.length);\n            this._deliverQueue(dq);\n        }\n        (_d = this._perfMon) === null || _d === void 0 ? void 0 : _d.stop();\n    }\n    hasListeners() {\n        return this._size > 0;\n    }\n}\nexport const createEventDeliveryQueue = () => new EventDeliveryQueuePrivate();\nclass EventDeliveryQueuePrivate {\n    constructor() {\n        /**\n         * Index in current's listener list.\n         */\n        this.i = -1;\n        /**\n         * The last index in the listener's list to deliver.\n         */\n        this.end = 0;\n    }\n    enqueue(emitter, value, end) {\n        this.i = 0;\n        this.end = end;\n        this.current = emitter;\n        this.value = value;\n    }\n    reset() {\n        this.i = this.end; // force any current emission loop to stop, mainly for during dispose\n        this.current = undefined;\n        this.value = undefined;\n    }\n}\nexport class PauseableEmitter extends Emitter {\n    constructor(options) {\n        super(options);\n        this._isPaused = 0;\n        this._eventQueue = new LinkedList();\n        this._mergeFn = options === null || options === void 0 ? void 0 : options.merge;\n    }\n    pause() {\n        this._isPaused++;\n    }\n    resume() {\n        if (this._isPaused !== 0 && --this._isPaused === 0) {\n            if (this._mergeFn) {\n                // use the merge function to create a single composite\n                // event. make a copy in case firing pauses this emitter\n                if (this._eventQueue.size > 0) {\n                    const events = Array.from(this._eventQueue);\n                    this._eventQueue.clear();\n                    super.fire(this._mergeFn(events));\n                }\n            }\n            else {\n                // no merging, fire each event individually and test\n                // that this emitter isn't paused halfway through\n                while (!this._isPaused && this._eventQueue.size !== 0) {\n                    super.fire(this._eventQueue.shift());\n                }\n            }\n        }\n    }\n    fire(event) {\n        if (this._size) {\n            if (this._isPaused !== 0) {\n                this._eventQueue.push(event);\n            }\n            else {\n                super.fire(event);\n            }\n        }\n    }\n}\nexport class DebounceEmitter extends PauseableEmitter {\n    constructor(options) {\n        var _a;\n        super(options);\n        this._delay = (_a = options.delay) !== null && _a !== void 0 ? _a : 100;\n    }\n    fire(event) {\n        if (!this._handle) {\n            this.pause();\n            this._handle = setTimeout(() => {\n                this._handle = undefined;\n                this.resume();\n            }, this._delay);\n        }\n        super.fire(event);\n    }\n}\n/**\n * An emitter which queue all events and then process them at the\n * end of the event loop.\n */\nexport class MicrotaskEmitter extends Emitter {\n    constructor(options) {\n        super(options);\n        this._queuedEvents = [];\n        this._mergeFn = options === null || options === void 0 ? void 0 : options.merge;\n    }\n    fire(event) {\n        if (!this.hasListeners()) {\n            return;\n        }\n        this._queuedEvents.push(event);\n        if (this._queuedEvents.length === 1) {\n            queueMicrotask(() => {\n                if (this._mergeFn) {\n                    super.fire(this._mergeFn(this._queuedEvents));\n                }\n                else {\n                    this._queuedEvents.forEach(e => super.fire(e));\n                }\n                this._queuedEvents = [];\n            });\n        }\n    }\n}\n/**\n * An event emitter that multiplexes many events into a single event.\n *\n * @example Listen to the `onData` event of all `Thing`s, dynamically adding and removing `Thing`s\n * to the multiplexer as needed.\n *\n * ```typescript\n * const anythingDataMultiplexer = new EventMultiplexer<{ data: string }>();\n *\n * const thingListeners = DisposableMap<Thing, IDisposable>();\n *\n * thingService.onDidAddThing(thing => {\n *   thingListeners.set(thing, anythingDataMultiplexer.add(thing.onData);\n * });\n * thingService.onDidRemoveThing(thing => {\n *   thingListeners.deleteAndDispose(thing);\n * });\n *\n * anythingDataMultiplexer.event(e => {\n *   console.log('Something fired data ' + e.data)\n * });\n * ```\n */\nexport class EventMultiplexer {\n    constructor() {\n        this.hasListeners = false;\n        this.events = [];\n        this.emitter = new Emitter({\n            onWillAddFirstListener: () => this.onFirstListenerAdd(),\n            onDidRemoveLastListener: () => this.onLastListenerRemove()\n        });\n    }\n    get event() {\n        return this.emitter.event;\n    }\n    add(event) {\n        const e = { event: event, listener: null };\n        this.events.push(e);\n        if (this.hasListeners) {\n            this.hook(e);\n        }\n        const dispose = () => {\n            if (this.hasListeners) {\n                this.unhook(e);\n            }\n            const idx = this.events.indexOf(e);\n            this.events.splice(idx, 1);\n        };\n        return toDisposable(createSingleCallFunction(dispose));\n    }\n    onFirstListenerAdd() {\n        this.hasListeners = true;\n        this.events.forEach(e => this.hook(e));\n    }\n    onLastListenerRemove() {\n        this.hasListeners = false;\n        this.events.forEach(e => this.unhook(e));\n    }\n    hook(e) {\n        e.listener = e.event(r => this.emitter.fire(r));\n    }\n    unhook(e) {\n        var _a;\n        (_a = e.listener) === null || _a === void 0 ? void 0 : _a.dispose();\n        e.listener = null;\n    }\n    dispose() {\n        var _a;\n        this.emitter.dispose();\n        for (const e of this.events) {\n            (_a = e.listener) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        this.events = [];\n    }\n}\n/**\n * The EventBufferer is useful in situations in which you want\n * to delay firing your events during some code.\n * You can wrap that code and be sure that the event will not\n * be fired during that wrap.\n *\n * ```\n * const emitter: Emitter;\n * const delayer = new EventDelayer();\n * const delayedEvent = delayer.wrapEvent(emitter.event);\n *\n * delayedEvent(console.log);\n *\n * delayer.bufferEvents(() => {\n *   emitter.fire(); // event will not be fired yet\n * });\n *\n * // event will only be fired at this point\n * ```\n */\nexport class EventBufferer {\n    constructor() {\n        this.buffers = [];\n    }\n    wrapEvent(event) {\n        return (listener, thisArgs, disposables) => {\n            return event(i => {\n                const buffer = this.buffers[this.buffers.length - 1];\n                if (buffer) {\n                    buffer.push(() => listener.call(thisArgs, i));\n                }\n                else {\n                    listener.call(thisArgs, i);\n                }\n            }, undefined, disposables);\n        };\n    }\n    bufferEvents(fn) {\n        const buffer = [];\n        this.buffers.push(buffer);\n        const r = fn();\n        this.buffers.pop();\n        buffer.forEach(flush => flush());\n        return r;\n    }\n}\n/**\n * A Relay is an event forwarder which functions as a replugabble event pipe.\n * Once created, you can connect an input event to it and it will simply forward\n * events from that input event through its own `event` property. The `input`\n * can be changed at any point in time.\n */\nexport class Relay {\n    constructor() {\n        this.listening = false;\n        this.inputEvent = Event.None;\n        this.inputEventListener = Disposable.None;\n        this.emitter = new Emitter({\n            onDidAddFirstListener: () => {\n                this.listening = true;\n                this.inputEventListener = this.inputEvent(this.emitter.fire, this.emitter);\n            },\n            onDidRemoveLastListener: () => {\n                this.listening = false;\n                this.inputEventListener.dispose();\n            }\n        });\n        this.event = this.emitter.event;\n    }\n    set input(event) {\n        this.inputEvent = event;\n        if (this.listening) {\n            this.inputEventListener.dispose();\n            this.inputEventListener = event(this.emitter.fire, this.emitter);\n        }\n    }\n    dispose() {\n        this.inputEventListener.dispose();\n        this.emitter.dispose();\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter, Event } from './event.js';\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose() { clearTimeout(handle); } };\n});\nexport var CancellationToken;\n(function (CancellationToken) {\n    function isCancellationToken(thing) {\n        if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n            return true;\n        }\n        if (thing instanceof MutableToken) {\n            return true;\n        }\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        return typeof thing.isCancellationRequested === 'boolean'\n            && typeof thing.onCancellationRequested === 'function';\n    }\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n})(CancellationToken || (CancellationToken = {}));\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n        this._emitter = null;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = null;\n        }\n    }\n}\nexport class CancellationTokenSource {\n    constructor(parent) {\n        this._token = undefined;\n        this._parentListener = undefined;\n        this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually cancel\n            this._token.cancel();\n        }\n    }\n    dispose(cancel = false) {\n        var _a;\n        if (cancel) {\n            this.cancel();\n        }\n        (_a = this._parentListener) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Can be passed into the Delayed to defer using a microtask\n * */\nexport const MicrotaskDelay = Symbol('MicrotaskDelay');\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationTokenSource } from './cancellation.js';\nimport { CancellationError } from './errors.js';\nimport { Emitter, Event } from './event.js';\nimport { toDisposable } from './lifecycle.js';\nimport { setTimeout0 } from './platform.js';\nimport { MicrotaskDelay } from './symbols.js';\nexport function isThenable(obj) {\n    return !!obj && typeof obj.then === 'function';\n}\nexport function createCancelablePromise(callback) {\n    const source = new CancellationTokenSource();\n    const thenable = callback(source.token);\n    const promise = new Promise((resolve, reject) => {\n        const subscription = source.token.onCancellationRequested(() => {\n            subscription.dispose();\n            reject(new CancellationError());\n        });\n        Promise.resolve(thenable).then(value => {\n            subscription.dispose();\n            source.dispose();\n            resolve(value);\n        }, err => {\n            subscription.dispose();\n            source.dispose();\n            reject(err);\n        });\n    });\n    return new class {\n        cancel() {\n            source.cancel();\n            source.dispose();\n        }\n        then(resolve, reject) {\n            return promise.then(resolve, reject);\n        }\n        catch(reject) {\n            return this.then(undefined, reject);\n        }\n        finally(onfinally) {\n            return promise.finally(onfinally);\n        }\n    };\n}\nexport function raceCancellation(promise, token, defaultValue) {\n    return new Promise((resolve, reject) => {\n        const ref = token.onCancellationRequested(() => {\n            ref.dispose();\n            resolve(defaultValue);\n        });\n        promise.then(resolve, reject).finally(() => ref.dispose());\n    });\n}\n/**\n * A helper to prevent accumulation of sequential async tasks.\n *\n * Imagine a mail man with the sole task of delivering letters. As soon as\n * a letter submitted for delivery, he drives to the destination, delivers it\n * and returns to his base. Imagine that during the trip, N more letters were submitted.\n * When the mail man returns, he picks those N letters and delivers them all in a\n * single trip. Even though N+1 submissions occurred, only 2 deliveries were made.\n *\n * The throttler implements this via the queue() method, by providing it a task\n * factory. Following the example:\n *\n * \t\tconst throttler = new Throttler();\n * \t\tconst letters = [];\n *\n * \t\tfunction deliver() {\n * \t\t\tconst lettersToDeliver = letters;\n * \t\t\tletters = [];\n * \t\t\treturn makeTheTrip(lettersToDeliver);\n * \t\t}\n *\n * \t\tfunction onLetterReceived(l) {\n * \t\t\tletters.push(l);\n * \t\t\tthrottler.queue(deliver);\n * \t\t}\n */\nexport class Throttler {\n    constructor() {\n        this.isDisposed = false;\n        this.activePromise = null;\n        this.queuedPromise = null;\n        this.queuedPromiseFactory = null;\n    }\n    queue(promiseFactory) {\n        if (this.isDisposed) {\n            return Promise.reject(new Error('Throttler is disposed'));\n        }\n        if (this.activePromise) {\n            this.queuedPromiseFactory = promiseFactory;\n            if (!this.queuedPromise) {\n                const onComplete = () => {\n                    this.queuedPromise = null;\n                    if (this.isDisposed) {\n                        return;\n                    }\n                    const result = this.queue(this.queuedPromiseFactory);\n                    this.queuedPromiseFactory = null;\n                    return result;\n                };\n                this.queuedPromise = new Promise(resolve => {\n                    this.activePromise.then(onComplete, onComplete).then(resolve);\n                });\n            }\n            return new Promise((resolve, reject) => {\n                this.queuedPromise.then(resolve, reject);\n            });\n        }\n        this.activePromise = promiseFactory();\n        return new Promise((resolve, reject) => {\n            this.activePromise.then((result) => {\n                this.activePromise = null;\n                resolve(result);\n            }, (err) => {\n                this.activePromise = null;\n                reject(err);\n            });\n        });\n    }\n    dispose() {\n        this.isDisposed = true;\n    }\n}\nconst timeoutDeferred = (timeout, fn) => {\n    let scheduled = true;\n    const handle = setTimeout(() => {\n        scheduled = false;\n        fn();\n    }, timeout);\n    return {\n        isTriggered: () => scheduled,\n        dispose: () => {\n            clearTimeout(handle);\n            scheduled = false;\n        },\n    };\n};\nconst microtaskDeferred = (fn) => {\n    let scheduled = true;\n    queueMicrotask(() => {\n        if (scheduled) {\n            scheduled = false;\n            fn();\n        }\n    });\n    return {\n        isTriggered: () => scheduled,\n        dispose: () => { scheduled = false; },\n    };\n};\n/**\n * A helper to delay (debounce) execution of a task that is being requested often.\n *\n * Following the throttler, now imagine the mail man wants to optimize the number of\n * trips proactively. The trip itself can be long, so he decides not to make the trip\n * as soon as a letter is submitted. Instead he waits a while, in case more\n * letters are submitted. After said waiting period, if no letters were submitted, he\n * decides to make the trip. Imagine that N more letters were submitted after the first\n * one, all within a short period of time between each other. Even though N+1\n * submissions occurred, only 1 delivery was made.\n *\n * The delayer offers this behavior via the trigger() method, into which both the task\n * to be executed and the waiting period (delay) must be passed in as arguments. Following\n * the example:\n *\n * \t\tconst delayer = new Delayer(WAITING_PERIOD);\n * \t\tconst letters = [];\n *\n * \t\tfunction letterReceived(l) {\n * \t\t\tletters.push(l);\n * \t\t\tdelayer.trigger(() => { return makeTheTrip(); });\n * \t\t}\n */\nexport class Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.deferred = null;\n        this.completionPromise = null;\n        this.doResolve = null;\n        this.doReject = null;\n        this.task = null;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        this.cancelTimeout();\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve, reject) => {\n                this.doResolve = resolve;\n                this.doReject = reject;\n            }).then(() => {\n                this.completionPromise = null;\n                this.doResolve = null;\n                if (this.task) {\n                    const task = this.task;\n                    this.task = null;\n                    return task();\n                }\n                return undefined;\n            });\n        }\n        const fn = () => {\n            var _a;\n            this.deferred = null;\n            (_a = this.doResolve) === null || _a === void 0 ? void 0 : _a.call(this, null);\n        };\n        this.deferred = delay === MicrotaskDelay ? microtaskDeferred(fn) : timeoutDeferred(delay, fn);\n        return this.completionPromise;\n    }\n    isTriggered() {\n        var _a;\n        return !!((_a = this.deferred) === null || _a === void 0 ? void 0 : _a.isTriggered());\n    }\n    cancel() {\n        var _a;\n        this.cancelTimeout();\n        if (this.completionPromise) {\n            (_a = this.doReject) === null || _a === void 0 ? void 0 : _a.call(this, new CancellationError());\n            this.completionPromise = null;\n        }\n    }\n    cancelTimeout() {\n        var _a;\n        (_a = this.deferred) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.deferred = null;\n    }\n    dispose() {\n        this.cancel();\n    }\n}\n/**\n * A helper to delay execution of a task that is being requested often, while\n * preventing accumulation of consecutive executions, while the task runs.\n *\n * The mail man is clever and waits for a certain amount of time, before going\n * out to deliver letters. While the mail man is going out, more letters arrive\n * and can only be delivered once he is back. Once he is back the mail man will\n * do one more trip to deliver the letters that have accumulated while he was out.\n */\nexport class ThrottledDelayer {\n    constructor(defaultDelay) {\n        this.delayer = new Delayer(defaultDelay);\n        this.throttler = new Throttler();\n    }\n    trigger(promiseFactory, delay) {\n        return this.delayer.trigger(() => this.throttler.queue(promiseFactory), delay);\n    }\n    cancel() {\n        this.delayer.cancel();\n    }\n    dispose() {\n        this.delayer.dispose();\n        this.throttler.dispose();\n    }\n}\nexport function timeout(millis, token) {\n    if (!token) {\n        return createCancelablePromise(token => timeout(millis, token));\n    }\n    return new Promise((resolve, reject) => {\n        const handle = setTimeout(() => {\n            disposable.dispose();\n            resolve();\n        }, millis);\n        const disposable = token.onCancellationRequested(() => {\n            clearTimeout(handle);\n            disposable.dispose();\n            reject(new CancellationError());\n        });\n    });\n}\n/**\n * Creates a timeout that can be disposed using its returned value.\n * @param handler The timeout handler.\n * @param timeout An optional timeout in milliseconds.\n * @param store An optional {@link DisposableStore} that will have the timeout disposable managed automatically.\n *\n * @example\n * const store = new DisposableStore;\n * // Call the timeout after 1000ms at which point it will be automatically\n * // evicted from the store.\n * const timeoutDisposable = disposableTimeout(() => {}, 1000, store);\n *\n * if (foo) {\n *   // Cancel the timeout and evict it from store.\n *   timeoutDisposable.dispose();\n * }\n */\nexport function disposableTimeout(handler, timeout = 0, store) {\n    const timer = setTimeout(() => {\n        handler();\n        if (store) {\n            disposable.dispose();\n        }\n    }, timeout);\n    const disposable = toDisposable(() => {\n        clearTimeout(timer);\n        store === null || store === void 0 ? void 0 : store.deleteAndLeak(disposable);\n    });\n    store === null || store === void 0 ? void 0 : store.add(disposable);\n    return disposable;\n}\nexport function first(promiseFactories, shouldStop = t => !!t, defaultValue = null) {\n    let index = 0;\n    const len = promiseFactories.length;\n    const loop = () => {\n        if (index >= len) {\n            return Promise.resolve(defaultValue);\n        }\n        const factory = promiseFactories[index++];\n        const promise = Promise.resolve(factory());\n        return promise.then(result => {\n            if (shouldStop(result)) {\n                return Promise.resolve(result);\n            }\n            return loop();\n        });\n    };\n    return loop();\n}\nexport class TimeoutTimer {\n    constructor(runner, timeout) {\n        this._token = -1;\n        if (typeof runner === 'function' && typeof timeout === 'number') {\n            this.setIfNotSet(runner, timeout);\n        }\n    }\n    dispose() {\n        this.cancel();\n    }\n    cancel() {\n        if (this._token !== -1) {\n            clearTimeout(this._token);\n            this._token = -1;\n        }\n    }\n    cancelAndSet(runner, timeout) {\n        this.cancel();\n        this._token = setTimeout(() => {\n            this._token = -1;\n            runner();\n        }, timeout);\n    }\n    setIfNotSet(runner, timeout) {\n        if (this._token !== -1) {\n            // timer is already set\n            return;\n        }\n        this._token = setTimeout(() => {\n            this._token = -1;\n            runner();\n        }, timeout);\n    }\n}\nexport class IntervalTimer {\n    constructor() {\n        this.disposable = undefined;\n    }\n    cancel() {\n        var _a;\n        (_a = this.disposable) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.disposable = undefined;\n    }\n    cancelAndSet(runner, interval, context = globalThis) {\n        this.cancel();\n        const handle = context.setInterval(() => {\n            runner();\n        }, interval);\n        this.disposable = toDisposable(() => {\n            context.clearInterval(handle);\n            this.disposable = undefined;\n        });\n    }\n    dispose() {\n        this.cancel();\n    }\n}\nexport class RunOnceScheduler {\n    constructor(runner, delay) {\n        this.timeoutToken = -1;\n        this.runner = runner;\n        this.timeout = delay;\n        this.timeoutHandler = this.onTimeout.bind(this);\n    }\n    /**\n     * Dispose RunOnceScheduler\n     */\n    dispose() {\n        this.cancel();\n        this.runner = null;\n    }\n    /**\n     * Cancel current scheduled runner (if any).\n     */\n    cancel() {\n        if (this.isScheduled()) {\n            clearTimeout(this.timeoutToken);\n            this.timeoutToken = -1;\n        }\n    }\n    /**\n     * Cancel previous runner (if any) & schedule a new runner.\n     */\n    schedule(delay = this.timeout) {\n        this.cancel();\n        this.timeoutToken = setTimeout(this.timeoutHandler, delay);\n    }\n    get delay() {\n        return this.timeout;\n    }\n    set delay(value) {\n        this.timeout = value;\n    }\n    /**\n     * Returns true if scheduled.\n     */\n    isScheduled() {\n        return this.timeoutToken !== -1;\n    }\n    onTimeout() {\n        this.timeoutToken = -1;\n        if (this.runner) {\n            this.doRun();\n        }\n    }\n    doRun() {\n        var _a;\n        (_a = this.runner) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n}\n/**\n * Execute the callback the next time the browser is idle, returning an\n * {@link IDisposable} that will cancel the callback when disposed. This wraps\n * [requestIdleCallback] so it will fallback to [setTimeout] if the environment\n * doesn't support it.\n *\n * @param callback The callback to run when idle, this includes an\n * [IdleDeadline] that provides the time alloted for the idle callback by the\n * browser. Not respecting this deadline will result in a degraded user\n * experience.\n * @param timeout A timeout at which point to queue no longer wait for an idle\n * callback but queue it on the regular event loop (like setTimeout). Typically\n * this should not be used.\n *\n * [IdleDeadline]: https://developer.mozilla.org/en-US/docs/Web/API/IdleDeadline\n * [requestIdleCallback]: https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n * [setTimeout]: https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout\n *\n * **Note** that there is `dom.ts#runWhenWindowIdle` which is better suited when running inside a browser\n * context\n */\nexport let runWhenGlobalIdle;\nexport let _runWhenIdle;\n(function () {\n    if (typeof globalThis.requestIdleCallback !== 'function' || typeof globalThis.cancelIdleCallback !== 'function') {\n        _runWhenIdle = (_targetWindow, runner) => {\n            setTimeout0(() => {\n                if (disposed) {\n                    return;\n                }\n                const end = Date.now() + 15; // one frame at 64fps\n                const deadline = {\n                    didTimeout: true,\n                    timeRemaining() {\n                        return Math.max(0, end - Date.now());\n                    }\n                };\n                runner(Object.freeze(deadline));\n            });\n            let disposed = false;\n            return {\n                dispose() {\n                    if (disposed) {\n                        return;\n                    }\n                    disposed = true;\n                }\n            };\n        };\n    }\n    else {\n        _runWhenIdle = (targetWindow, runner, timeout) => {\n            const handle = targetWindow.requestIdleCallback(runner, typeof timeout === 'number' ? { timeout } : undefined);\n            let disposed = false;\n            return {\n                dispose() {\n                    if (disposed) {\n                        return;\n                    }\n                    disposed = true;\n                    targetWindow.cancelIdleCallback(handle);\n                }\n            };\n        };\n    }\n    runWhenGlobalIdle = (runner) => _runWhenIdle(globalThis, runner);\n})();\nexport class AbstractIdleValue {\n    constructor(targetWindow, executor) {\n        this._didRun = false;\n        this._executor = () => {\n            try {\n                this._value = executor();\n            }\n            catch (err) {\n                this._error = err;\n            }\n            finally {\n                this._didRun = true;\n            }\n        };\n        this._handle = _runWhenIdle(targetWindow, () => this._executor());\n    }\n    dispose() {\n        this._handle.dispose();\n    }\n    get value() {\n        if (!this._didRun) {\n            this._handle.dispose();\n            this._executor();\n        }\n        if (this._error) {\n            throw this._error;\n        }\n        return this._value;\n    }\n    get isInitialized() {\n        return this._didRun;\n    }\n}\n/**\n * An `IdleValue` that always uses the current window (which might be throttled or inactive)\n *\n * **Note** that there is `dom.ts#WindowIdleValue` which is better suited when running inside a browser\n * context\n */\nexport class GlobalIdleValue extends AbstractIdleValue {\n    constructor(executor) {\n        super(globalThis, executor);\n    }\n}\n/**\n * Creates a promise whose resolution or rejection can be controlled imperatively.\n */\nexport class DeferredPromise {\n    get isRejected() {\n        var _a;\n        return ((_a = this.outcome) === null || _a === void 0 ? void 0 : _a.outcome) === 1 /* DeferredOutcome.Rejected */;\n    }\n    get isSettled() {\n        return !!this.outcome;\n    }\n    constructor() {\n        this.p = new Promise((c, e) => {\n            this.completeCallback = c;\n            this.errorCallback = e;\n        });\n    }\n    complete(value) {\n        return new Promise(resolve => {\n            this.completeCallback(value);\n            this.outcome = { outcome: 0 /* DeferredOutcome.Resolved */, value };\n            resolve();\n        });\n    }\n    error(err) {\n        return new Promise(resolve => {\n            this.errorCallback(err);\n            this.outcome = { outcome: 1 /* DeferredOutcome.Rejected */, value: err };\n            resolve();\n        });\n    }\n    cancel() {\n        return this.error(new CancellationError());\n    }\n}\n//#endregion\n//#region Promises\nexport var Promises;\n(function (Promises) {\n    /**\n     * A drop-in replacement for `Promise.all` with the only difference\n     * that the method awaits every promise to either fulfill or reject.\n     *\n     * Similar to `Promise.all`, only the first error will be returned\n     * if any.\n     */\n    async function settled(promises) {\n        let firstError = undefined;\n        const result = await Promise.all(promises.map(promise => promise.then(value => value, error => {\n            if (!firstError) {\n                firstError = error;\n            }\n            return undefined; // do not rethrow so that other promises can settle\n        })));\n        if (typeof firstError !== 'undefined') {\n            throw firstError;\n        }\n        return result; // cast is needed and protected by the `throw` above\n    }\n    Promises.settled = settled;\n    /**\n     * A helper to create a new `Promise<T>` with a body that is a promise\n     * itself. By default, an error that raises from the async body will\n     * end up as a unhandled rejection, so this utility properly awaits the\n     * body and rejects the promise as a normal promise does without async\n     * body.\n     *\n     * This method should only be used in rare cases where otherwise `async`\n     * cannot be used (e.g. when callbacks are involved that require this).\n     */\n    function withAsyncBody(bodyFn) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            try {\n                await bodyFn(resolve, reject);\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    }\n    Promises.withAsyncBody = withAsyncBody;\n})(Promises || (Promises = {}));\n/**\n * A rich implementation for an `AsyncIterable<T>`.\n */\nexport class AsyncIterableObject {\n    static fromArray(items) {\n        return new AsyncIterableObject((writer) => {\n            writer.emitMany(items);\n        });\n    }\n    static fromPromise(promise) {\n        return new AsyncIterableObject(async (emitter) => {\n            emitter.emitMany(await promise);\n        });\n    }\n    static fromPromises(promises) {\n        return new AsyncIterableObject(async (emitter) => {\n            await Promise.all(promises.map(async (p) => emitter.emitOne(await p)));\n        });\n    }\n    static merge(iterables) {\n        return new AsyncIterableObject(async (emitter) => {\n            await Promise.all(iterables.map(async (iterable) => {\n                for await (const item of iterable) {\n                    emitter.emitOne(item);\n                }\n            }));\n        });\n    }\n    constructor(executor) {\n        this._state = 0 /* AsyncIterableSourceState.Initial */;\n        this._results = [];\n        this._error = null;\n        this._onStateChanged = new Emitter();\n        queueMicrotask(async () => {\n            const writer = {\n                emitOne: (item) => this.emitOne(item),\n                emitMany: (items) => this.emitMany(items),\n                reject: (error) => this.reject(error)\n            };\n            try {\n                await Promise.resolve(executor(writer));\n                this.resolve();\n            }\n            catch (err) {\n                this.reject(err);\n            }\n            finally {\n                writer.emitOne = undefined;\n                writer.emitMany = undefined;\n                writer.reject = undefined;\n            }\n        });\n    }\n    [Symbol.asyncIterator]() {\n        let i = 0;\n        return {\n            next: async () => {\n                do {\n                    if (this._state === 2 /* AsyncIterableSourceState.DoneError */) {\n                        throw this._error;\n                    }\n                    if (i < this._results.length) {\n                        return { done: false, value: this._results[i++] };\n                    }\n                    if (this._state === 1 /* AsyncIterableSourceState.DoneOK */) {\n                        return { done: true, value: undefined };\n                    }\n                    await Event.toPromise(this._onStateChanged.event);\n                } while (true);\n            }\n        };\n    }\n    static map(iterable, mapFn) {\n        return new AsyncIterableObject(async (emitter) => {\n            for await (const item of iterable) {\n                emitter.emitOne(mapFn(item));\n            }\n        });\n    }\n    map(mapFn) {\n        return AsyncIterableObject.map(this, mapFn);\n    }\n    static filter(iterable, filterFn) {\n        return new AsyncIterableObject(async (emitter) => {\n            for await (const item of iterable) {\n                if (filterFn(item)) {\n                    emitter.emitOne(item);\n                }\n            }\n        });\n    }\n    filter(filterFn) {\n        return AsyncIterableObject.filter(this, filterFn);\n    }\n    static coalesce(iterable) {\n        return AsyncIterableObject.filter(iterable, item => !!item);\n    }\n    coalesce() {\n        return AsyncIterableObject.coalesce(this);\n    }\n    static async toPromise(iterable) {\n        const result = [];\n        for await (const item of iterable) {\n            result.push(item);\n        }\n        return result;\n    }\n    toPromise() {\n        return AsyncIterableObject.toPromise(this);\n    }\n    /**\n     * The value will be appended at the end.\n     *\n     * **NOTE** If `resolve()` or `reject()` have already been called, this method has no effect.\n     */\n    emitOne(value) {\n        if (this._state !== 0 /* AsyncIterableSourceState.Initial */) {\n            return;\n        }\n        // it is important to add new values at the end,\n        // as we may have iterators already running on the array\n        this._results.push(value);\n        this._onStateChanged.fire();\n    }\n    /**\n     * The values will be appended at the end.\n     *\n     * **NOTE** If `resolve()` or `reject()` have already been called, this method has no effect.\n     */\n    emitMany(values) {\n        if (this._state !== 0 /* AsyncIterableSourceState.Initial */) {\n            return;\n        }\n        // it is important to add new values at the end,\n        // as we may have iterators already running on the array\n        this._results = this._results.concat(values);\n        this._onStateChanged.fire();\n    }\n    /**\n     * Calling `resolve()` will mark the result array as complete.\n     *\n     * **NOTE** `resolve()` must be called, otherwise all consumers of this iterable will hang indefinitely, similar to a non-resolved promise.\n     * **NOTE** If `resolve()` or `reject()` have already been called, this method has no effect.\n     */\n    resolve() {\n        if (this._state !== 0 /* AsyncIterableSourceState.Initial */) {\n            return;\n        }\n        this._state = 1 /* AsyncIterableSourceState.DoneOK */;\n        this._onStateChanged.fire();\n    }\n    /**\n     * Writing an error will permanently invalidate this iterable.\n     * The current users will receive an error thrown, as will all future users.\n     *\n     * **NOTE** If `resolve()` or `reject()` have already been called, this method has no effect.\n     */\n    reject(error) {\n        if (this._state !== 0 /* AsyncIterableSourceState.Initial */) {\n            return;\n        }\n        this._state = 2 /* AsyncIterableSourceState.DoneError */;\n        this._error = error;\n        this._onStateChanged.fire();\n    }\n}\nAsyncIterableObject.EMPTY = AsyncIterableObject.fromArray([]);\nexport class CancelableAsyncIterableObject extends AsyncIterableObject {\n    constructor(_source, executor) {\n        super(executor);\n        this._source = _source;\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nexport function createCancelableAsyncIterable(callback) {\n    const source = new CancellationTokenSource();\n    const innerIterable = callback(source.token);\n    return new CancelableAsyncIterableObject(source, async (emitter) => {\n        const subscription = source.token.onCancellationRequested(() => {\n            subscription.dispose();\n            source.dispose();\n            emitter.reject(new CancellationError());\n        });\n        try {\n            for await (const item of innerIterable) {\n                if (source.token.isCancellationRequested) {\n                    // canceled in the meantime\n                    return;\n                }\n                emitter.emitOne(item);\n            }\n            subscription.dispose();\n            source.dispose();\n        }\n        catch (err) {\n            subscription.dispose();\n            source.dispose();\n            emitter.reject(err);\n        }\n    });\n}\n//#endregion\n", "/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */\n\nconst {\n\tentries,\n\tsetPrototypeOf,\n\tisFrozen,\n\tgetPrototypeOf,\n\tgetOwnPropertyDescriptor\n} = Object;\nlet {\n\tfreeze,\n\tseal,\n\tcreate\n} = Object; // eslint-disable-line import/no-mutable-exports\n\nlet {\n\tapply,\n\tconstruct\n} = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n\tapply = function apply(fun, thisValue, args) {\n\t\treturn fun.apply(thisValue, args);\n\t};\n}\n\nif (!freeze) {\n\tfreeze = function freeze(x) {\n\t\treturn x;\n\t};\n}\n\nif (!seal) {\n\tseal = function seal(x) {\n\t\treturn x;\n\t};\n}\n\nif (!construct) {\n\tconstruct = function construct(Func, args) {\n\t\treturn new Func(...args);\n\t};\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\nfunction unapply(func) {\n\treturn function (thisArg) {\n\t\tfor (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\targs[_key - 1] = arguments[_key];\n\t\t}\n\n\t\treturn apply(func, thisArg, args);\n\t};\n}\nfunction unconstruct(func) {\n\treturn function () {\n\t\tfor (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\targs[_key2] = arguments[_key2];\n\t\t}\n\n\t\treturn construct(func, args);\n\t};\n}\n/* Add properties to a lookup table */\n\nfunction addToSet(set, array, transformCaseFunc) {\n\tvar _transformCaseFunc;\n\n\ttransformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n\n\tif (setPrototypeOf) {\n\t\t// Make 'in' and truthy checks like Boolean(set.constructor)\n\t\t// independent of any properties defined on Object.prototype.\n\t\t// Prevent prototype setters from intercepting set as a this value.\n\t\tsetPrototypeOf(set, null);\n\t}\n\n\tlet l = array.length;\n\n\twhile (l--) {\n\t\tlet element = array[l];\n\n\t\tif (typeof element === 'string') {\n\t\t\tconst lcElement = transformCaseFunc(element);\n\n\t\t\tif (lcElement !== element) {\n\t\t\t\t// Config presets (e.g. tags.js, attrs.js) are immutable.\n\t\t\t\tif (!isFrozen(array)) {\n\t\t\t\t\tarray[l] = lcElement;\n\t\t\t\t}\n\n\t\t\t\telement = lcElement;\n\t\t\t}\n\t\t}\n\n\t\tset[element] = true;\n\t}\n\n\treturn set;\n}\n/* Shallow clone an object */\n\nfunction clone(object) {\n\tconst newObject = create(null);\n\n\tfor (const [property, value] of entries(object)) {\n\t\tnewObject[property] = value;\n\t}\n\n\treturn newObject;\n}\n/* This method automatically checks if the prop is function\n * or getter and behaves accordingly. */\n\nfunction lookupGetter(object, prop) {\n\twhile (object !== null) {\n\t\tconst desc = getOwnPropertyDescriptor(object, prop);\n\n\t\tif (desc) {\n\t\t\tif (desc.get) {\n\t\t\t\treturn unapply(desc.get);\n\t\t\t}\n\n\t\t\tif (typeof desc.value === 'function') {\n\t\t\t\treturn unapply(desc.value);\n\t\t\t}\n\t\t}\n\n\t\tobject = getPrototypeOf(object);\n\t}\n\n\tfunction fallbackValue(element) {\n\t\tconsole.warn('fallback value for', element);\n\t\treturn null;\n\t}\n\n\treturn fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\n\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']); // Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\n\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tMUSTACHE_EXPR: MUSTACHE_EXPR,\n\tERB_EXPR: ERB_EXPR,\n\tTMPLIT_EXPR: TMPLIT_EXPR,\n\tDATA_ATTR: DATA_ATTR,\n\tARIA_ATTR: ARIA_ATTR,\n\tIS_ALLOWED_URI: IS_ALLOWED_URI,\n\tIS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n\tATTR_WHITESPACE: ATTR_WHITESPACE,\n\tDOCTYPE_NAME: DOCTYPE_NAME\n});\n\nconst getGlobal = () => typeof window === 'undefined' ? null : window;\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\n\n\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n\tif (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n\t\treturn null;\n\t} // Allow the callers to control the unique policy name\n\t// by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n\t// Policy creation with duplicate names throws in Trusted Types.\n\n\n\tlet suffix = null;\n\tconst ATTR_NAME = 'data-tt-policy-suffix';\n\n\tif (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n\t\tsuffix = purifyHostElement.getAttribute(ATTR_NAME);\n\t}\n\n\tconst policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n\ttry {\n\t\treturn trustedTypes.createPolicy(policyName, {\n\t\t\tcreateHTML(html) {\n\t\t\t\treturn html;\n\t\t\t},\n\n\t\t\tcreateScriptURL(scriptUrl) {\n\t\t\t\treturn scriptUrl;\n\t\t\t}\n\n\t\t});\n\t} catch (_) {\n\t\t// Policy creation failed (most likely another DOMPurify script has\n\t\t// already run). Skip creating the policy, as this will only cause errors\n\t\t// if TT are enforced.\n\t\tconsole.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n\t\treturn null;\n\t}\n};\n\nfunction createDOMPurify() {\n\tlet window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n\tconst DOMPurify = root => createDOMPurify(root);\n\t/**\n\t * Version label, exposed for easier checks\n\t * if DOMPurify is up to date or not\n\t */\n\n\n\tDOMPurify.version = '3.0.5';\n\t/**\n\t * Array of elements that DOMPurify removed during sanitation.\n\t * Empty if nothing was removed.\n\t */\n\n\tDOMPurify.removed = [];\n\n\tif (!window || !window.document || window.document.nodeType !== 9) {\n\t\t// Not running in a browser, provide a factory function\n\t\t// so that you can pass your own Window\n\t\tDOMPurify.isSupported = false;\n\t\treturn DOMPurify;\n\t}\n\n\tconst originalDocument = window.document;\n\tconst currentScript = originalDocument.currentScript;\n\tlet {\n\t\tdocument\n\t} = window;\n\tconst {\n\t\tDocumentFragment,\n\t\tHTMLTemplateElement,\n\t\tNode,\n\t\tElement,\n\t\tNodeFilter,\n\t\tNamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n\t\tHTMLFormElement,\n\t\tDOMParser,\n\t\ttrustedTypes\n\t} = window;\n\tconst ElementPrototype = Element.prototype;\n\tconst cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n\tconst getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n\tconst getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n\tconst getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n\t// new document created via createHTMLDocument. As per the spec\n\t// (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n\t// a new empty registry is used when creating a template contents owner\n\t// document, so we use that as our parent document to ensure nothing\n\t// is inherited.\n\n\tif (typeof HTMLTemplateElement === 'function') {\n\t\tconst template = document.createElement('template');\n\n\t\tif (template.content && template.content.ownerDocument) {\n\t\t\tdocument = template.content.ownerDocument;\n\t\t}\n\t}\n\n\tlet trustedTypesPolicy;\n\tlet emptyHTML = '';\n\tconst {\n\t\timplementation,\n\t\tcreateNodeIterator,\n\t\tcreateDocumentFragment,\n\t\tgetElementsByTagName\n\t} = document;\n\tconst {\n\t\timportNode\n\t} = originalDocument;\n\tlet hooks = {};\n\t/**\n\t * Expose whether this browser supports running the full DOMPurify.\n\t */\n\n\tDOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n\tconst {\n\t\tMUSTACHE_EXPR,\n\t\tERB_EXPR,\n\t\tTMPLIT_EXPR,\n\t\tDATA_ATTR,\n\t\tARIA_ATTR,\n\t\tIS_SCRIPT_OR_DATA,\n\t\tATTR_WHITESPACE\n\t} = EXPRESSIONS;\n\tlet {\n\t\tIS_ALLOWED_URI: IS_ALLOWED_URI$1\n\t} = EXPRESSIONS;\n\t/**\n\t * We consider the elements and attributes below to be safe. Ideally\n\t * don't add any new ones but feel free to remove unwanted ones.\n\t */\n\n\t/* allowed element names */\n\n\tlet ALLOWED_TAGS = null;\n\tconst DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n\t/* Allowed attribute names */\n\n\tlet ALLOWED_ATTR = null;\n\tconst DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n\t/*\n\t * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n\t * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n\t * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n\t * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n\t */\n\n\tlet CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n\t\ttagNameCheck: {\n\t\t\twritable: true,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true,\n\t\t\tvalue: null\n\t\t},\n\t\tattributeNameCheck: {\n\t\t\twritable: true,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true,\n\t\t\tvalue: null\n\t\t},\n\t\tallowCustomizedBuiltInElements: {\n\t\t\twritable: true,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true,\n\t\t\tvalue: false\n\t\t}\n\t}));\n\t/* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n\tlet FORBID_TAGS = null;\n\t/* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n\tlet FORBID_ATTR = null;\n\t/* Decide if ARIA attributes are okay */\n\n\tlet ALLOW_ARIA_ATTR = true;\n\t/* Decide if custom data attributes are okay */\n\n\tlet ALLOW_DATA_ATTR = true;\n\t/* Decide if unknown protocols are okay */\n\n\tlet ALLOW_UNKNOWN_PROTOCOLS = false;\n\t/* Decide if self-closing tags in attributes are allowed.\n\t * Usually removed due to a mXSS issue in jQuery 3.0 */\n\n\tlet ALLOW_SELF_CLOSE_IN_ATTR = true;\n\t/* Output should be safe for common template engines.\n\t * This means, DOMPurify removes data attributes, mustaches and ERB\n\t */\n\n\tlet SAFE_FOR_TEMPLATES = false;\n\t/* Decide if document with <html>... should be returned */\n\n\tlet WHOLE_DOCUMENT = false;\n\t/* Track whether config is already set on this instance of DOMPurify. */\n\n\tlet SET_CONFIG = false;\n\t/* Decide if all elements (e.g. style, script) must be children of\n\t * document.body. By default, browsers might move them to document.head */\n\n\tlet FORCE_BODY = false;\n\t/* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n\t * string (or a TrustedHTML object if Trusted Types are supported).\n\t * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n\t */\n\n\tlet RETURN_DOM = false;\n\t/* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n\t * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n\tlet RETURN_DOM_FRAGMENT = false;\n\t/* Try to return a Trusted Type object instead of a string, return a string in\n\t * case Trusted Types are not supported  */\n\n\tlet RETURN_TRUSTED_TYPE = false;\n\t/* Output should be free from DOM clobbering attacks?\n\t * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n\t */\n\n\tlet SANITIZE_DOM = true;\n\t/* Achieve full DOM Clobbering protection by isolating the namespace of named\n\t * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n\t *\n\t * HTML/DOM spec rules that enable DOM Clobbering:\n\t *   - Named Access on Window (§7.3.3)\n\t *   - DOM Tree Accessors (§3.1.5)\n\t *   - Form Element Parent-Child Relations (§4.10.3)\n\t *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n\t *   - HTMLCollection (§4.2.10.2)\n\t *\n\t * Namespace isolation is implemented by prefixing `id` and `name` attributes\n\t * with a constant string, i.e., `user-content-`\n\t */\n\n\tlet SANITIZE_NAMED_PROPS = false;\n\tconst SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\t/* Keep element content when removing element? */\n\n\tlet KEEP_CONTENT = true;\n\t/* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n\t * of importing it into a new Document and returning a sanitized copy */\n\n\tlet IN_PLACE = false;\n\t/* Allow usage of profiles like html, svg and mathMl */\n\n\tlet USE_PROFILES = {};\n\t/* Tags to ignore content of when KEEP_CONTENT is true */\n\n\tlet FORBID_CONTENTS = null;\n\tconst DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\t/* Tags that are safe for data: URIs */\n\n\tlet DATA_URI_TAGS = null;\n\tconst DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\t/* Attributes safe for values like \"javascript:\" */\n\n\tlet URI_SAFE_ATTRIBUTES = null;\n\tconst DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n\tconst MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\tconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\tconst HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n\t/* Document namespace */\n\n\tlet NAMESPACE = HTML_NAMESPACE;\n\tlet IS_EMPTY_INPUT = false;\n\t/* Allowed XHTML+XML namespaces */\n\n\tlet ALLOWED_NAMESPACES = null;\n\tconst DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\t/* Parsing of strict XHTML documents */\n\n\tlet PARSER_MEDIA_TYPE;\n\tconst SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n\tconst DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n\tlet transformCaseFunc;\n\t/* Keep a reference to config to pass to hooks */\n\n\tlet CONFIG = null;\n\t/* Ideally, do not touch anything below this line */\n\n\t/* ______________________________________________ */\n\n\tconst formElement = document.createElement('form');\n\n\tconst isRegexOrFunction = function isRegexOrFunction(testValue) {\n\t\treturn testValue instanceof RegExp || testValue instanceof Function;\n\t};\n\t/**\n\t * _parseConfig\n\t *\n\t * @param  {Object} cfg optional config literal\n\t */\n\t// eslint-disable-next-line complexity\n\n\n\tconst _parseConfig = function _parseConfig(cfg) {\n\t\tif (CONFIG && CONFIG === cfg) {\n\t\t\treturn;\n\t\t}\n\t\t/* Shield configuration object from tampering */\n\n\n\t\tif (!cfg || typeof cfg !== 'object') {\n\t\t\tcfg = {};\n\t\t}\n\t\t/* Shield configuration object from prototype pollution */\n\n\n\t\tcfg = clone(cfg);\n\t\tPARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n\t\t\tSUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n\t\ttransformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\t\t/* Set configuration parameters */\n\n\t\tALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n\t\tALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n\t\tALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n\t\tURI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n\t\t\tcfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n\t\t\ttransformCaseFunc // eslint-disable-line indent\n\t\t) // eslint-disable-line indent\n\t\t\t: DEFAULT_URI_SAFE_ATTRIBUTES;\n\t\tDATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n\t\t\tcfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n\t\t\ttransformCaseFunc // eslint-disable-line indent\n\t\t) // eslint-disable-line indent\n\t\t\t: DEFAULT_DATA_URI_TAGS;\n\t\tFORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n\t\tFORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n\t\tFORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n\t\tUSE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n\t\tALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n\t\tALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n\t\tALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n\t\tALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n\n\t\tSAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n\t\tWHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n\t\tRETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n\t\tRETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n\t\tRETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n\t\tFORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n\t\tSANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n\t\tSANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n\t\tKEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n\t\tIN_PLACE = cfg.IN_PLACE || false; // Default false\n\n\t\tIS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n\t\tNAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\t\tCUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n\n\t\tif (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n\t\t\tCUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n\t\t}\n\n\t\tif (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n\t\t\tCUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n\t\t}\n\n\t\tif (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n\t\t\tCUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n\t\t}\n\n\t\tif (SAFE_FOR_TEMPLATES) {\n\t\t\tALLOW_DATA_ATTR = false;\n\t\t}\n\n\t\tif (RETURN_DOM_FRAGMENT) {\n\t\t\tRETURN_DOM = true;\n\t\t}\n\t\t/* Parse profile info */\n\n\n\t\tif (USE_PROFILES) {\n\t\t\tALLOWED_TAGS = addToSet({}, [...text]);\n\t\t\tALLOWED_ATTR = [];\n\n\t\t\tif (USE_PROFILES.html === true) {\n\t\t\t\taddToSet(ALLOWED_TAGS, html$1);\n\t\t\t\taddToSet(ALLOWED_ATTR, html);\n\t\t\t}\n\n\t\t\tif (USE_PROFILES.svg === true) {\n\t\t\t\taddToSet(ALLOWED_TAGS, svg$1);\n\t\t\t\taddToSet(ALLOWED_ATTR, svg);\n\t\t\t\taddToSet(ALLOWED_ATTR, xml);\n\t\t\t}\n\n\t\t\tif (USE_PROFILES.svgFilters === true) {\n\t\t\t\taddToSet(ALLOWED_TAGS, svgFilters);\n\t\t\t\taddToSet(ALLOWED_ATTR, svg);\n\t\t\t\taddToSet(ALLOWED_ATTR, xml);\n\t\t\t}\n\n\t\t\tif (USE_PROFILES.mathMl === true) {\n\t\t\t\taddToSet(ALLOWED_TAGS, mathMl$1);\n\t\t\t\taddToSet(ALLOWED_ATTR, mathMl);\n\t\t\t\taddToSet(ALLOWED_ATTR, xml);\n\t\t\t}\n\t\t}\n\t\t/* Merge configuration parameters */\n\n\n\t\tif (cfg.ADD_TAGS) {\n\t\t\tif (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n\t\t\t\tALLOWED_TAGS = clone(ALLOWED_TAGS);\n\t\t\t}\n\n\t\t\taddToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n\t\t}\n\n\t\tif (cfg.ADD_ATTR) {\n\t\t\tif (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n\t\t\t\tALLOWED_ATTR = clone(ALLOWED_ATTR);\n\t\t\t}\n\n\t\t\taddToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n\t\t}\n\n\t\tif (cfg.ADD_URI_SAFE_ATTR) {\n\t\t\taddToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n\t\t}\n\n\t\tif (cfg.FORBID_CONTENTS) {\n\t\t\tif (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n\t\t\t\tFORBID_CONTENTS = clone(FORBID_CONTENTS);\n\t\t\t}\n\n\t\t\taddToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n\t\t}\n\t\t/* Add #text in case KEEP_CONTENT is set to true */\n\n\n\t\tif (KEEP_CONTENT) {\n\t\t\tALLOWED_TAGS['#text'] = true;\n\t\t}\n\t\t/* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n\t\tif (WHOLE_DOCUMENT) {\n\t\t\taddToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n\t\t}\n\t\t/* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n\t\tif (ALLOWED_TAGS.table) {\n\t\t\taddToSet(ALLOWED_TAGS, ['tbody']);\n\t\t\tdelete FORBID_TAGS.tbody;\n\t\t}\n\n\t\tif (cfg.TRUSTED_TYPES_POLICY) {\n\t\t\tif (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n\t\t\t\tthrow typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n\t\t\t}\n\n\t\t\tif (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n\t\t\t\tthrow typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n\t\t\t} // Overwrite existing TrustedTypes policy.\n\n\n\t\t\ttrustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY; // Sign local variables required by `sanitize`.\n\n\t\t\temptyHTML = trustedTypesPolicy.createHTML('');\n\t\t} else {\n\t\t\t// Uninitialized policy, attempt to initialize the internal dompurify policy.\n\t\t\tif (trustedTypesPolicy === undefined) {\n\t\t\t\ttrustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n\t\t\t} // If creating the internal policy succeeded sign internal variables.\n\n\n\t\t\tif (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n\t\t\t\temptyHTML = trustedTypesPolicy.createHTML('');\n\t\t\t}\n\t\t} // Prevent further manipulation of configuration.\n\t\t// Not available in IE8, Safari 5, etc.\n\n\n\t\tif (freeze) {\n\t\t\tfreeze(cfg);\n\t\t}\n\n\t\tCONFIG = cfg;\n\t};\n\n\tconst MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n\tconst HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n\t// namespace. We need to specify them explicitly\n\t// so that they don't get erroneously deleted from\n\t// HTML namespace.\n\n\tconst COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\t/* Keep track of all possible SVG and MathML tags\n\t * so that we can perform the namespace checks\n\t * correctly. */\n\n\tconst ALL_SVG_TAGS = addToSet({}, svg$1);\n\taddToSet(ALL_SVG_TAGS, svgFilters);\n\taddToSet(ALL_SVG_TAGS, svgDisallowed);\n\tconst ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n\taddToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n\t/**\n\t *\n\t *\n\t * @param  {Element} element a DOM element whose namespace is being checked\n\t * @returns {boolean} Return false if the element has a\n\t *  namespace that a spec-compliant parser would never\n\t *  return. Return true otherwise.\n\t */\n\n\tconst _checkValidNamespace = function _checkValidNamespace(element) {\n\t\tlet parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n\t\t// can be null. We just simulate parent in this case.\n\n\t\tif (!parent || !parent.tagName) {\n\t\t\tparent = {\n\t\t\t\tnamespaceURI: NAMESPACE,\n\t\t\t\ttagName: 'template'\n\t\t\t};\n\t\t}\n\n\t\tconst tagName = stringToLowerCase(element.tagName);\n\t\tconst parentTagName = stringToLowerCase(parent.tagName);\n\n\t\tif (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (element.namespaceURI === SVG_NAMESPACE) {\n\t\t\t// The only way to switch from HTML namespace to SVG\n\t\t\t// is via <svg>. If it happens via any other tag, then\n\t\t\t// it should be killed.\n\t\t\tif (parent.namespaceURI === HTML_NAMESPACE) {\n\t\t\t\treturn tagName === 'svg';\n\t\t\t} // The only way to switch from MathML to SVG is via`\n\t\t\t// svg if parent is either <annotation-xml> or MathML\n\t\t\t// text integration points.\n\n\n\t\t\tif (parent.namespaceURI === MATHML_NAMESPACE) {\n\t\t\t\treturn tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n\t\t\t} // We only allow elements that are defined in SVG\n\t\t\t// spec. All others are disallowed in SVG namespace.\n\n\n\t\t\treturn Boolean(ALL_SVG_TAGS[tagName]);\n\t\t}\n\n\t\tif (element.namespaceURI === MATHML_NAMESPACE) {\n\t\t\t// The only way to switch from HTML namespace to MathML\n\t\t\t// is via <math>. If it happens via any other tag, then\n\t\t\t// it should be killed.\n\t\t\tif (parent.namespaceURI === HTML_NAMESPACE) {\n\t\t\t\treturn tagName === 'math';\n\t\t\t} // The only way to switch from SVG to MathML is via\n\t\t\t// <math> and HTML integration points\n\n\n\t\t\tif (parent.namespaceURI === SVG_NAMESPACE) {\n\t\t\t\treturn tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n\t\t\t} // We only allow elements that are defined in MathML\n\t\t\t// spec. All others are disallowed in MathML namespace.\n\n\n\t\t\treturn Boolean(ALL_MATHML_TAGS[tagName]);\n\t\t}\n\n\t\tif (element.namespaceURI === HTML_NAMESPACE) {\n\t\t\t// The only way to switch from SVG to HTML is via\n\t\t\t// HTML integration points, and from MathML to HTML\n\t\t\t// is via MathML text integration points\n\t\t\tif (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n\t\t\t\treturn false;\n\t\t\t} // We disallow tags that are specific for MathML\n\t\t\t// or SVG and should never appear in HTML namespace\n\n\n\t\t\treturn !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n\t\t} // For XHTML and XML documents that support custom namespaces\n\n\n\t\tif (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n\t\t\treturn true;\n\t\t} // The code should never reach this place (this means\n\t\t// that the element somehow got namespace that is not\n\t\t// HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n\t\t// Return false just in case.\n\n\n\t\treturn false;\n\t};\n\t/**\n\t * _forceRemove\n\t *\n\t * @param  {Node} node a DOM node\n\t */\n\n\n\tconst _forceRemove = function _forceRemove(node) {\n\t\tarrayPush(DOMPurify.removed, {\n\t\t\telement: node\n\t\t});\n\n\t\ttry {\n\t\t\t// eslint-disable-next-line unicorn/prefer-dom-node-remove\n\t\t\tnode.parentNode.removeChild(node);\n\t\t} catch (_) {\n\t\t\tnode.remove();\n\t\t}\n\t};\n\t/**\n\t * _removeAttribute\n\t *\n\t * @param  {String} name an Attribute name\n\t * @param  {Node} node a DOM node\n\t */\n\n\n\tconst _removeAttribute = function _removeAttribute(name, node) {\n\t\ttry {\n\t\t\tarrayPush(DOMPurify.removed, {\n\t\t\t\tattribute: node.getAttributeNode(name),\n\t\t\t\tfrom: node\n\t\t\t});\n\t\t} catch (_) {\n\t\t\tarrayPush(DOMPurify.removed, {\n\t\t\t\tattribute: null,\n\t\t\t\tfrom: node\n\t\t\t});\n\t\t}\n\n\t\tnode.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n\t\tif (name === 'is' && !ALLOWED_ATTR[name]) {\n\t\t\tif (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n\t\t\t\ttry {\n\t\t\t\t\t_forceRemove(node);\n\t\t\t\t} catch (_) { }\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tnode.setAttribute(name, '');\n\t\t\t\t} catch (_) { }\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * _initDocument\n\t *\n\t * @param  {String} dirty a string of dirty markup\n\t * @return {Document} a DOM, filled with the dirty markup\n\t */\n\n\n\tconst _initDocument = function _initDocument(dirty) {\n\t\t/* Create a HTML document */\n\t\tlet doc;\n\t\tlet leadingWhitespace;\n\n\t\tif (FORCE_BODY) {\n\t\t\tdirty = '<remove></remove>' + dirty;\n\t\t} else {\n\t\t\t/* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n\t\t\tconst matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n\t\t\tleadingWhitespace = matches && matches[0];\n\t\t}\n\n\t\tif (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n\t\t\t// Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n\t\t\tdirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n\t\t}\n\n\t\tconst dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n\t\t/*\n\t\t * Use the DOMParser API by default, fallback later if needs be\n\t\t * DOMParser not work for svg when has multiple root element.\n\t\t */\n\n\t\tif (NAMESPACE === HTML_NAMESPACE) {\n\t\t\ttry {\n\t\t\t\tdoc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n\t\t\t} catch (_) { }\n\t\t}\n\t\t/* Use createHTMLDocument in case DOMParser is not available */\n\n\n\t\tif (!doc || !doc.documentElement) {\n\t\t\tdoc = implementation.createDocument(NAMESPACE, 'template', null);\n\n\t\t\ttry {\n\t\t\t\tdoc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n\t\t\t} catch (_) {// Syntax error if dirtyPayload is invalid xml\n\t\t\t}\n\t\t}\n\n\t\tconst body = doc.body || doc.documentElement;\n\n\t\tif (dirty && leadingWhitespace) {\n\t\t\tbody.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n\t\t}\n\t\t/* Work on whole document or just its body */\n\n\n\t\tif (NAMESPACE === HTML_NAMESPACE) {\n\t\t\treturn getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n\t\t}\n\n\t\treturn WHOLE_DOCUMENT ? doc.documentElement : body;\n\t};\n\t/**\n\t * _createIterator\n\t *\n\t * @param  {Document} root document/fragment to create iterator for\n\t * @return {Iterator} iterator instance\n\t */\n\n\n\tconst _createIterator = function _createIterator(root) {\n\t\treturn createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n\t\t\tNodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n\t};\n\t/**\n\t * _isClobbered\n\t *\n\t * @param  {Node} elm element to check for clobbering attacks\n\t * @return {Boolean} true if clobbered, false if safe\n\t */\n\n\n\tconst _isClobbered = function _isClobbered(elm) {\n\t\treturn elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n\t};\n\t/**\n\t * _isNode\n\t *\n\t * @param  {Node} obj object to check whether it's a DOM node\n\t * @return {Boolean} true is object is a DOM node\n\t */\n\n\n\tconst _isNode = function _isNode(object) {\n\t\treturn typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n\t};\n\t/**\n\t * _executeHook\n\t * Execute user configurable hooks\n\t *\n\t * @param  {String} entryPoint  Name of the hook's entry point\n\t * @param  {Node} currentNode node to work on with the hook\n\t * @param  {Object} data additional hook parameters\n\t */\n\n\n\tconst _executeHook = function _executeHook(entryPoint, currentNode, data) {\n\t\tif (!hooks[entryPoint]) {\n\t\t\treturn;\n\t\t}\n\n\t\tarrayForEach(hooks[entryPoint], hook => {\n\t\t\thook.call(DOMPurify, currentNode, data, CONFIG);\n\t\t});\n\t};\n\t/**\n\t * _sanitizeElements\n\t *\n\t * @protect nodeName\n\t * @protect textContent\n\t * @protect removeChild\n\t *\n\t * @param   {Node} currentNode to check for permission to exist\n\t * @return  {Boolean} true if node was killed, false if left alive\n\t */\n\n\n\tconst _sanitizeElements = function _sanitizeElements(currentNode) {\n\t\tlet content;\n\t\t/* Execute a hook if present */\n\n\t\t_executeHook('beforeSanitizeElements', currentNode, null);\n\t\t/* Check if element is clobbered or can clobber */\n\n\n\t\tif (_isClobbered(currentNode)) {\n\t\t\t_forceRemove(currentNode);\n\n\t\t\treturn true;\n\t\t}\n\t\t/* Now let's check the element's type and name */\n\n\n\t\tconst tagName = transformCaseFunc(currentNode.nodeName);\n\t\t/* Execute a hook if present */\n\n\t\t_executeHook('uponSanitizeElement', currentNode, {\n\t\t\ttagName,\n\t\t\tallowedTags: ALLOWED_TAGS\n\t\t});\n\t\t/* Detect mXSS attempts abusing namespace confusion */\n\n\n\t\tif (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n\t\t\t_forceRemove(currentNode);\n\n\t\t\treturn true;\n\t\t}\n\t\t/* Remove element if anything forbids its presence */\n\n\n\t\tif (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n\t\t\t/* Check if we have a custom element to handle */\n\t\t\tif (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n\t\t\t\tif (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n\t\t\t\tif (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n\t\t\t}\n\t\t\t/* Keep content except for bad-listed elements */\n\n\n\t\t\tif (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n\t\t\t\tconst parentNode = getParentNode(currentNode) || currentNode.parentNode;\n\t\t\t\tconst childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n\t\t\t\tif (childNodes && parentNode) {\n\t\t\t\t\tconst childCount = childNodes.length;\n\n\t\t\t\t\tfor (let i = childCount - 1; i >= 0; --i) {\n\t\t\t\t\t\tparentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_forceRemove(currentNode);\n\n\t\t\treturn true;\n\t\t}\n\t\t/* Check whether element has a valid namespace */\n\n\n\t\tif (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n\t\t\t_forceRemove(currentNode);\n\n\t\t\treturn true;\n\t\t}\n\t\t/* Make sure that older browsers don't get fallback-tag mXSS */\n\n\n\t\tif ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n\t\t\t_forceRemove(currentNode);\n\n\t\t\treturn true;\n\t\t}\n\t\t/* Sanitize element content to be template-safe */\n\n\n\t\tif (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n\t\t\t/* Get the element's text content */\n\t\t\tcontent = currentNode.textContent;\n\t\t\tcontent = stringReplace(content, MUSTACHE_EXPR, ' ');\n\t\t\tcontent = stringReplace(content, ERB_EXPR, ' ');\n\t\t\tcontent = stringReplace(content, TMPLIT_EXPR, ' ');\n\n\t\t\tif (currentNode.textContent !== content) {\n\t\t\t\tarrayPush(DOMPurify.removed, {\n\t\t\t\t\telement: currentNode.cloneNode()\n\t\t\t\t});\n\t\t\t\tcurrentNode.textContent = content;\n\t\t\t}\n\t\t}\n\t\t/* Execute a hook if present */\n\n\n\t\t_executeHook('afterSanitizeElements', currentNode, null);\n\n\t\treturn false;\n\t};\n\t/**\n\t * _isValidAttribute\n\t *\n\t * @param  {string} lcTag Lowercase tag name of containing element.\n\t * @param  {string} lcName Lowercase attribute name.\n\t * @param  {string} value Attribute value.\n\t * @return {Boolean} Returns true if `value` is valid, otherwise false.\n\t */\n\t// eslint-disable-next-line complexity\n\n\n\tconst _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n\t\t/* Make sure attribute cannot clobber */\n\t\tif (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n\t\t\treturn false;\n\t\t}\n\t\t/* Allow valid data-* attributes: At least one character after \"-\"\n\t\t\t\t(https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n\t\t\t\tXML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n\t\t\t\tWe don't need to check the value; it's always URI safe. */\n\n\n\t\tif (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)); else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)); else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n\t\t\tif ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n\t\t\t\t// b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n\t\t\t\t// and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n\t\t\t\t_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n\t\t\t\t// the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n\t\t\t\tlcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))); else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t/* Check value is safe. First, is attr inert? If so, is safe */\n\n\t\t} else if (URI_SAFE_ATTRIBUTES[lcName]); else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))); else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]); else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))); else if (value) {\n\t\t\treturn false;\n\t\t} else;\n\n\t\treturn true;\n\t};\n\t/**\n\t * _basicCustomElementCheck\n\t * checks if at least one dash is included in tagName, and it's not the first char\n\t * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n\t * @param {string} tagName name of the tag of the node to sanitize\n\t */\n\n\n\tconst _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n\t\treturn tagName.indexOf('-') > 0;\n\t};\n\t/**\n\t * _sanitizeAttributes\n\t *\n\t * @protect attributes\n\t * @protect nodeName\n\t * @protect removeAttribute\n\t * @protect setAttribute\n\t *\n\t * @param  {Node} currentNode to sanitize\n\t */\n\n\n\tconst _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n\t\tlet attr;\n\t\tlet value;\n\t\tlet lcName;\n\t\tlet l;\n\t\t/* Execute a hook if present */\n\n\t\t_executeHook('beforeSanitizeAttributes', currentNode, null);\n\n\t\tconst {\n\t\t\tattributes\n\t\t} = currentNode;\n\t\t/* Check if we have attributes; if not we might have a text node */\n\n\t\tif (!attributes) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst hookEvent = {\n\t\t\tattrName: '',\n\t\t\tattrValue: '',\n\t\t\tkeepAttr: true,\n\t\t\tallowedAttributes: ALLOWED_ATTR\n\t\t};\n\t\tl = attributes.length;\n\t\t/* Go backwards over all attributes; safely remove bad ones */\n\n\t\twhile (l--) {\n\t\t\tattr = attributes[l];\n\t\t\tconst {\n\t\t\t\tname,\n\t\t\t\tnamespaceURI\n\t\t\t} = attr;\n\t\t\tvalue = name === 'value' ? attr.value : stringTrim(attr.value);\n\t\t\tlcName = transformCaseFunc(name);\n\t\t\t/* Execute a hook if present */\n\n\t\t\thookEvent.attrName = lcName;\n\t\t\thookEvent.attrValue = value;\n\t\t\thookEvent.keepAttr = true;\n\t\t\thookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n\t\t\t_executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n\t\t\tvalue = hookEvent.attrValue;\n\t\t\t/* Did the hooks approve of the attribute? */\n\n\t\t\tif (hookEvent.forceKeepAttr) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Remove attribute */\n\n\n\t\t\t_removeAttribute(name, currentNode);\n\t\t\t/* Did the hooks approve of the attribute? */\n\n\n\t\t\tif (!hookEvent.keepAttr) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Work around a security issue in jQuery 3.0 */\n\n\n\t\t\tif (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n\t\t\t\t_removeAttribute(name, currentNode);\n\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Sanitize attribute content to be template-safe */\n\n\n\t\t\tif (SAFE_FOR_TEMPLATES) {\n\t\t\t\tvalue = stringReplace(value, MUSTACHE_EXPR, ' ');\n\t\t\t\tvalue = stringReplace(value, ERB_EXPR, ' ');\n\t\t\t\tvalue = stringReplace(value, TMPLIT_EXPR, ' ');\n\t\t\t}\n\t\t\t/* Is `value` valid for this attribute? */\n\n\n\t\t\tconst lcTag = transformCaseFunc(currentNode.nodeName);\n\n\t\t\tif (!_isValidAttribute(lcTag, lcName, value)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Full DOM Clobbering protection via namespace isolation,\n\t\t\t * Prefix id and name attributes with `user-content-`\n\t\t\t */\n\n\n\t\t\tif (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n\t\t\t\t// Remove the attribute with this value\n\t\t\t\t_removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n\t\t\t\tvalue = SANITIZE_NAMED_PROPS_PREFIX + value;\n\t\t\t}\n\t\t\t/* Handle attributes that require Trusted Types */\n\n\n\t\t\tif (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n\t\t\t\tif (namespaceURI); else {\n\t\t\t\t\tswitch (trustedTypes.getAttributeType(lcTag, lcName)) {\n\t\t\t\t\t\tcase 'TrustedHTML':\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue = trustedTypesPolicy.createHTML(value);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcase 'TrustedScriptURL':\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue = trustedTypesPolicy.createScriptURL(value);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Handle invalid data-* attribute set by try-catching it */\n\n\n\t\t\ttry {\n\t\t\t\tif (namespaceURI) {\n\t\t\t\t\tcurrentNode.setAttributeNS(namespaceURI, name, value);\n\t\t\t\t} else {\n\t\t\t\t\t/* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n\t\t\t\t\tcurrentNode.setAttribute(name, value);\n\t\t\t\t}\n\n\t\t\t\tarrayPop(DOMPurify.removed);\n\t\t\t} catch (_) { }\n\t\t}\n\t\t/* Execute a hook if present */\n\n\n\t\t_executeHook('afterSanitizeAttributes', currentNode, null);\n\t};\n\t/**\n\t * _sanitizeShadowDOM\n\t *\n\t * @param  {DocumentFragment} fragment to iterate over recursively\n\t */\n\n\n\tconst _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n\t\tlet shadowNode;\n\n\t\tconst shadowIterator = _createIterator(fragment);\n\t\t/* Execute a hook if present */\n\n\n\t\t_executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n\t\twhile (shadowNode = shadowIterator.nextNode()) {\n\t\t\t/* Execute a hook if present */\n\t\t\t_executeHook('uponSanitizeShadowNode', shadowNode, null);\n\t\t\t/* Sanitize tags and elements */\n\n\n\t\t\tif (_sanitizeElements(shadowNode)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Deep shadow DOM detected */\n\n\n\t\t\tif (shadowNode.content instanceof DocumentFragment) {\n\t\t\t\t_sanitizeShadowDOM(shadowNode.content);\n\t\t\t}\n\t\t\t/* Check attributes, sanitize if necessary */\n\n\n\t\t\t_sanitizeAttributes(shadowNode);\n\t\t}\n\t\t/* Execute a hook if present */\n\n\n\t\t_executeHook('afterSanitizeShadowDOM', fragment, null);\n\t};\n\t/**\n\t * Sanitize\n\t * Public method providing core sanitation functionality\n\t *\n\t * @param {String|Node} dirty string or DOM node\n\t * @param {Object} configuration object\n\t */\n\t// eslint-disable-next-line complexity\n\n\n\tDOMPurify.sanitize = function (dirty) {\n\t\tlet cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\tlet body;\n\t\tlet importedNode;\n\t\tlet currentNode;\n\t\tlet returnNode;\n\t\t/* Make sure we have a string to sanitize.\n\t\t\tDO NOT return early, as this will return the wrong type if\n\t\t\tthe user has requested a DOM object rather than a string */\n\n\t\tIS_EMPTY_INPUT = !dirty;\n\n\t\tif (IS_EMPTY_INPUT) {\n\t\t\tdirty = '<!-->';\n\t\t}\n\t\t/* Stringify, in case dirty is an object */\n\n\n\t\tif (typeof dirty !== 'string' && !_isNode(dirty)) {\n\t\t\tif (typeof dirty.toString === 'function') {\n\t\t\t\tdirty = dirty.toString();\n\n\t\t\t\tif (typeof dirty !== 'string') {\n\t\t\t\t\tthrow typeErrorCreate('dirty is not a string, aborting');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow typeErrorCreate('toString is not a function');\n\t\t\t}\n\t\t}\n\t\t/* Return dirty HTML if DOMPurify cannot run */\n\n\n\t\tif (!DOMPurify.isSupported) {\n\t\t\treturn dirty;\n\t\t}\n\t\t/* Assign config vars */\n\n\n\t\tif (!SET_CONFIG) {\n\t\t\t_parseConfig(cfg);\n\t\t}\n\t\t/* Clean up removed elements */\n\n\n\t\tDOMPurify.removed = [];\n\t\t/* Check if dirty is correctly typed for IN_PLACE */\n\n\t\tif (typeof dirty === 'string') {\n\t\t\tIN_PLACE = false;\n\t\t}\n\n\t\tif (IN_PLACE) {\n\t\t\t/* Do some early pre-sanitization to avoid unsafe root nodes */\n\t\t\tif (dirty.nodeName) {\n\t\t\t\tconst tagName = transformCaseFunc(dirty.nodeName);\n\n\t\t\t\tif (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n\t\t\t\t\tthrow typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (dirty instanceof Node) {\n\t\t\t/* If dirty is a DOM element, append to an empty document to avoid\n\t\t\t\t elements being stripped by the parser */\n\t\t\tbody = _initDocument('<!---->');\n\t\t\timportedNode = body.ownerDocument.importNode(dirty, true);\n\n\t\t\tif (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n\t\t\t\t/* Node is already a body, use as is */\n\t\t\t\tbody = importedNode;\n\t\t\t} else if (importedNode.nodeName === 'HTML') {\n\t\t\t\tbody = importedNode;\n\t\t\t} else {\n\t\t\t\t// eslint-disable-next-line unicorn/prefer-dom-node-append\n\t\t\t\tbody.appendChild(importedNode);\n\t\t\t}\n\t\t} else {\n\t\t\t/* Exit directly if we have nothing to do */\n\t\t\tif (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n\t\t\t\tdirty.indexOf('<') === -1) {\n\t\t\t\treturn trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n\t\t\t}\n\t\t\t/* Initialize the document to work on */\n\n\n\t\t\tbody = _initDocument(dirty);\n\t\t\t/* Check we have a DOM node from the data */\n\n\t\t\tif (!body) {\n\t\t\t\treturn RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n\t\t\t}\n\t\t}\n\t\t/* Remove first element node (ours) if FORCE_BODY is set */\n\n\n\t\tif (body && FORCE_BODY) {\n\t\t\t_forceRemove(body.firstChild);\n\t\t}\n\t\t/* Get node iterator */\n\n\n\t\tconst nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\t\t/* Now start iterating over the created document */\n\n\n\t\twhile (currentNode = nodeIterator.nextNode()) {\n\t\t\t/* Sanitize tags and elements */\n\t\t\tif (_sanitizeElements(currentNode)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t/* Shadow DOM detected, sanitize it */\n\n\n\t\t\tif (currentNode.content instanceof DocumentFragment) {\n\t\t\t\t_sanitizeShadowDOM(currentNode.content);\n\t\t\t}\n\t\t\t/* Check attributes, sanitize if necessary */\n\n\n\t\t\t_sanitizeAttributes(currentNode);\n\t\t}\n\t\t/* If we sanitized `dirty` in-place, return it. */\n\n\n\t\tif (IN_PLACE) {\n\t\t\treturn dirty;\n\t\t}\n\t\t/* Return sanitized string or DOM */\n\n\n\t\tif (RETURN_DOM) {\n\t\t\tif (RETURN_DOM_FRAGMENT) {\n\t\t\t\treturnNode = createDocumentFragment.call(body.ownerDocument);\n\n\t\t\t\twhile (body.firstChild) {\n\t\t\t\t\t// eslint-disable-next-line unicorn/prefer-dom-node-append\n\t\t\t\t\treturnNode.appendChild(body.firstChild);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturnNode = body;\n\t\t\t}\n\n\t\t\tif (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n\t\t\t\t/*\n\t\t\t\t\tAdoptNode() is not used because internal state is not reset\n\t\t\t\t\t(e.g. the past names map of a HTMLFormElement), this is safe\n\t\t\t\t\tin theory but we would rather not risk another attack vector.\n\t\t\t\t\tThe state that is cloned by importNode() is explicitly defined\n\t\t\t\t\tby the specs.\n\t\t\t\t*/\n\t\t\t\treturnNode = importNode.call(originalDocument, returnNode, true);\n\t\t\t}\n\n\t\t\treturn returnNode;\n\t\t}\n\n\t\tlet serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\t\t/* Serialize doctype if allowed */\n\n\t\tif (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n\t\t\tserializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n\t\t}\n\t\t/* Sanitize final string template-safe */\n\n\n\t\tif (SAFE_FOR_TEMPLATES) {\n\t\t\tserializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n\t\t\tserializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n\t\t\tserializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n\t\t}\n\n\t\treturn trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n\t};\n\t/**\n\t * Public method to set the configuration once\n\t * setConfig\n\t *\n\t * @param {Object} cfg configuration object\n\t */\n\n\n\tDOMPurify.setConfig = function (cfg) {\n\t\t_parseConfig(cfg);\n\n\t\tSET_CONFIG = true;\n\t};\n\t/**\n\t * Public method to remove the configuration\n\t * clearConfig\n\t *\n\t */\n\n\n\tDOMPurify.clearConfig = function () {\n\t\tCONFIG = null;\n\t\tSET_CONFIG = false;\n\t};\n\t/**\n\t * Public method to check if an attribute value is valid.\n\t * Uses last set config, if any. Otherwise, uses config defaults.\n\t * isValidAttribute\n\t *\n\t * @param  {string} tag Tag name of containing element.\n\t * @param  {string} attr Attribute name.\n\t * @param  {string} value Attribute value.\n\t * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n\t */\n\n\n\tDOMPurify.isValidAttribute = function (tag, attr, value) {\n\t\t/* Initialize shared config vars if necessary. */\n\t\tif (!CONFIG) {\n\t\t\t_parseConfig({});\n\t\t}\n\n\t\tconst lcTag = transformCaseFunc(tag);\n\t\tconst lcName = transformCaseFunc(attr);\n\t\treturn _isValidAttribute(lcTag, lcName, value);\n\t};\n\t/**\n\t * AddHook\n\t * Public method to add DOMPurify hooks\n\t *\n\t * @param {String} entryPoint entry point for the hook to add\n\t * @param {Function} hookFunction function to execute\n\t */\n\n\n\tDOMPurify.addHook = function (entryPoint, hookFunction) {\n\t\tif (typeof hookFunction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\thooks[entryPoint] = hooks[entryPoint] || [];\n\t\tarrayPush(hooks[entryPoint], hookFunction);\n\t};\n\t/**\n\t * RemoveHook\n\t * Public method to remove a DOMPurify hook at a given entryPoint\n\t * (pops it from the stack of hooks if more are present)\n\t *\n\t * @param {String} entryPoint entry point for the hook to remove\n\t * @return {Function} removed(popped) hook\n\t */\n\n\n\tDOMPurify.removeHook = function (entryPoint) {\n\t\tif (hooks[entryPoint]) {\n\t\t\treturn arrayPop(hooks[entryPoint]);\n\t\t}\n\t};\n\t/**\n\t * RemoveHooks\n\t * Public method to remove all DOMPurify hooks at a given entryPoint\n\t *\n\t * @param  {String} entryPoint entry point for the hooks to remove\n\t */\n\n\n\tDOMPurify.removeHooks = function (entryPoint) {\n\t\tif (hooks[entryPoint]) {\n\t\t\thooks[entryPoint] = [];\n\t\t}\n\t};\n\t/**\n\t * RemoveAllHooks\n\t * Public method to remove all DOMPurify hooks\n\t *\n\t */\n\n\n\tDOMPurify.removeAllHooks = function () {\n\t\thooks = {};\n\t};\n\n\treturn DOMPurify;\n}\n\nvar purify = createDOMPurify();\n\n// ESM-comment-begin\n// define(function () { return purify; });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport default purify;\nexport const version = purify.version;\nexport const isSupported = purify.isSupported;\nexport const sanitize = purify.sanitize;\nexport const setConfig = purify.setConfig;\nexport const clearConfig = purify.clearConfig;\nexport const isValidAttribute = purify.isValidAttribute;\nexport const addHook = purify.addHook;\nexport const removeHook = purify.removeHook;\nexport const removeHooks = purify.removeHooks;\nexport const removeAllHooks = purify.removeAllHooks;\n// ESM-uncomment-end\n", "/**\n * Uses a LRU cache to make a given parametrized function cached.\n * Caches just the last value.\n * The key must be JSON serializable.\n*/\nexport class LRUCachedFunction {\n    constructor(fn) {\n        this.fn = fn;\n        this.lastCache = undefined;\n        this.lastArgKey = undefined;\n    }\n    get(arg) {\n        const key = JSON.stringify(arg);\n        if (this.lastArgKey !== key) {\n            this.lastArgKey = key;\n            this.lastCache = this.fn(arg);\n        }\n        return this.lastCache;\n    }\n}\n/**\n * Uses an unbounded cache (referential equality) to memoize the results of the given function.\n*/\nexport class CachedFunction {\n    get cachedValues() {\n        return this._map;\n    }\n    constructor(fn) {\n        this.fn = fn;\n        this._map = new Map();\n    }\n    get(arg) {\n        if (this._map.has(arg)) {\n            return this._map.get(arg);\n        }\n        const value = this.fn(arg);\n        this._map.set(arg, value);\n        return value;\n    }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Lazy {\n    constructor(executor) {\n        this.executor = executor;\n        this._didRun = false;\n    }\n    /**\n     * Get the wrapped value.\n     *\n     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only\n     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value\n     */\n    get value() {\n        if (!this._didRun) {\n            try {\n                this._value = this.executor();\n            }\n            catch (err) {\n                this._error = err;\n            }\n            finally {\n                this._didRun = true;\n            }\n        }\n        if (this._error) {\n            throw this._error;\n        }\n        return this._value;\n    }\n    /**\n     * Get the wrapped value without forcing evaluation.\n     */\n    get rawValue() { return this._value; }\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nimport { LRUCachedFunction } from './cache.js';\nimport { Lazy } from './lazy.js';\nexport function isFalsyOrWhitespace(str) {\n    if (!str || typeof str !== 'string') {\n        return true;\n    }\n    return str.trim().length === 0;\n}\nconst _formatRegexp = /{(\\d+)}/g;\n/**\n * Helper to produce a string with a variable number of arguments. Insert variable segments\n * into the string using the {n} notation where N is the index of the argument following the string.\n * @param value string to which formatting is applied\n * @param args replacements for {n}-entries\n */\nexport function format(value, ...args) {\n    if (args.length === 0) {\n        return value;\n    }\n    return value.replace(_formatRegexp, function (match, group) {\n        const idx = parseInt(group, 10);\n        return isNaN(idx) || idx < 0 || idx >= args.length ?\n            match :\n            args[idx];\n    });\n}\n/**\n * Encodes the given value so that it can be used as literal value in html attributes.\n *\n * In other words, computes `$val`, such that `attr` in `<div attr=\"$val\" />` has the runtime value `value`.\n * This prevents XSS injection.\n */\nexport function htmlAttributeEncodeValue(value) {\n    return value.replace(/[<>\"'&]/g, ch => {\n        switch (ch) {\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '\"': return '&quot;';\n            case '\\'': return '&apos;';\n            case '&': return '&amp;';\n        }\n        return ch;\n    });\n}\n/**\n * Converts HTML characters inside the string to use entities instead. Makes the string safe from\n * being used e.g. in HTMLElement.innerHTML.\n */\nexport function escape(html) {\n    return html.replace(/[<>&]/g, function (match) {\n        switch (match) {\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '&': return '&amp;';\n            default: return match;\n        }\n    });\n}\n/**\n * Escapes regular expression characters in a given string\n */\nexport function escapeRegExpCharacters(value) {\n    return value.replace(/[\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\[\\]\\(\\)]/g, '\\\\$&');\n}\n/**\n * Removes all occurrences of needle from the beginning and end of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim (default is a blank)\n */\nexport function trim(haystack, needle = ' ') {\n    const trimmed = ltrim(haystack, needle);\n    return rtrim(trimmed, needle);\n}\n/**\n * Removes all occurrences of needle from the beginning of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim\n */\nexport function ltrim(haystack, needle) {\n    if (!haystack || !needle) {\n        return haystack;\n    }\n    const needleLen = needle.length;\n    if (needleLen === 0 || haystack.length === 0) {\n        return haystack;\n    }\n    let offset = 0;\n    while (haystack.indexOf(needle, offset) === offset) {\n        offset = offset + needleLen;\n    }\n    return haystack.substring(offset);\n}\n/**\n * Removes all occurrences of needle from the end of haystack.\n * @param haystack string to trim\n * @param needle the thing to trim\n */\nexport function rtrim(haystack, needle) {\n    if (!haystack || !needle) {\n        return haystack;\n    }\n    const needleLen = needle.length, haystackLen = haystack.length;\n    if (needleLen === 0 || haystackLen === 0) {\n        return haystack;\n    }\n    let offset = haystackLen, idx = -1;\n    while (true) {\n        idx = haystack.lastIndexOf(needle, offset - 1);\n        if (idx === -1 || idx + needleLen !== offset) {\n            break;\n        }\n        if (idx === 0) {\n            return '';\n        }\n        offset = idx;\n    }\n    return haystack.substring(0, offset);\n}\nexport function convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\nexport function stripWildcards(pattern) {\n    return pattern.replace(/\\*/g, '');\n}\nexport function createRegExp(searchString, isRegex, options = {}) {\n    if (!searchString) {\n        throw new Error('Cannot create regex from empty string');\n    }\n    if (!isRegex) {\n        searchString = escapeRegExpCharacters(searchString);\n    }\n    if (options.wholeWord) {\n        if (!/\\B/.test(searchString.charAt(0))) {\n            searchString = '\\\\b' + searchString;\n        }\n        if (!/\\B/.test(searchString.charAt(searchString.length - 1))) {\n            searchString = searchString + '\\\\b';\n        }\n    }\n    let modifiers = '';\n    if (options.global) {\n        modifiers += 'g';\n    }\n    if (!options.matchCase) {\n        modifiers += 'i';\n    }\n    if (options.multiline) {\n        modifiers += 'm';\n    }\n    if (options.unicode) {\n        modifiers += 'u';\n    }\n    return new RegExp(searchString, modifiers);\n}\nexport function regExpLeadsToEndlessLoop(regexp) {\n    // Exit early if it's one of these special cases which are meant to match\n    // against an empty string\n    if (regexp.source === '^' || regexp.source === '^$' || regexp.source === '$' || regexp.source === '^\\\\s*$') {\n        return false;\n    }\n    // We check against an empty string. If the regular expression doesn't advance\n    // (e.g. ends in an endless loop) it will match an empty string.\n    const match = regexp.exec('');\n    return !!(match && regexp.lastIndex === 0);\n}\nexport function splitLines(str) {\n    return str.split(/\\r\\n|\\r|\\n/);\n}\nexport function splitLinesIncludeSeparators(str) {\n    var _b;\n    const linesWithSeparators = [];\n    const splitLinesAndSeparators = str.split(/(\\r\\n|\\r|\\n)/);\n    for (let i = 0; i < Math.ceil(splitLinesAndSeparators.length / 2); i++) {\n        linesWithSeparators.push(splitLinesAndSeparators[2 * i] + ((_b = splitLinesAndSeparators[2 * i + 1]) !== null && _b !== void 0 ? _b : ''));\n    }\n    return linesWithSeparators;\n}\n/**\n * Returns first index of the string that is not whitespace.\n * If string is empty or contains only whitespaces, returns -1\n */\nexport function firstNonWhitespaceIndex(str) {\n    for (let i = 0, len = str.length; i < len; i++) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Returns the leading whitespace of the string.\n * If the string contains only whitespaces, returns entire string\n */\nexport function getLeadingWhitespace(str, start = 0, end = str.length) {\n    for (let i = start; i < end; i++) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return str.substring(start, i);\n        }\n    }\n    return str.substring(start, end);\n}\n/**\n * Returns last index of the string that is not whitespace.\n * If string is empty or contains only whitespaces, returns -1\n */\nexport function lastNonWhitespaceIndex(str, startIndex = str.length - 1) {\n    for (let i = startIndex; i >= 0; i--) {\n        const chCode = str.charCodeAt(i);\n        if (chCode !== 32 /* CharCode.Space */ && chCode !== 9 /* CharCode.Tab */) {\n            return i;\n        }\n    }\n    return -1;\n}\nexport function compare(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    else if (a > b) {\n        return 1;\n    }\n    else {\n        return 0;\n    }\n}\nexport function compareSubstring(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n        const codeA = a.charCodeAt(aStart);\n        const codeB = b.charCodeAt(bStart);\n        if (codeA < codeB) {\n            return -1;\n        }\n        else if (codeA > codeB) {\n            return 1;\n        }\n    }\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n    if (aLen < bLen) {\n        return -1;\n    }\n    else if (aLen > bLen) {\n        return 1;\n    }\n    return 0;\n}\nexport function compareIgnoreCase(a, b) {\n    return compareSubstringIgnoreCase(a, b, 0, a.length, 0, b.length);\n}\nexport function compareSubstringIgnoreCase(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n        let codeA = a.charCodeAt(aStart);\n        let codeB = b.charCodeAt(bStart);\n        if (codeA === codeB) {\n            // equal\n            continue;\n        }\n        if (codeA >= 128 || codeB >= 128) {\n            // not ASCII letters -> fallback to lower-casing strings\n            return compareSubstring(a.toLowerCase(), b.toLowerCase(), aStart, aEnd, bStart, bEnd);\n        }\n        // mapper lower-case ascii letter onto upper-case varinats\n        // [97-122] (lower ascii) --> [65-90] (upper ascii)\n        if (isLowerAsciiLetter(codeA)) {\n            codeA -= 32;\n        }\n        if (isLowerAsciiLetter(codeB)) {\n            codeB -= 32;\n        }\n        // compare both code points\n        const diff = codeA - codeB;\n        if (diff === 0) {\n            continue;\n        }\n        return diff;\n    }\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n    if (aLen < bLen) {\n        return -1;\n    }\n    else if (aLen > bLen) {\n        return 1;\n    }\n    return 0;\n}\nexport function isAsciiDigit(code) {\n    return code >= 48 /* CharCode.Digit0 */ && code <= 57 /* CharCode.Digit9 */;\n}\nexport function isLowerAsciiLetter(code) {\n    return code >= 97 /* CharCode.a */ && code <= 122 /* CharCode.z */;\n}\nexport function isUpperAsciiLetter(code) {\n    return code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */;\n}\nexport function equalsIgnoreCase(a, b) {\n    return a.length === b.length && compareSubstringIgnoreCase(a, b) === 0;\n}\nexport function startsWithIgnoreCase(str, candidate) {\n    const candidateLength = candidate.length;\n    if (candidate.length > str.length) {\n        return false;\n    }\n    return compareSubstringIgnoreCase(str, candidate, 0, candidateLength) === 0;\n}\n/**\n * @returns the length of the common prefix of the two strings.\n */\nexport function commonPrefixLength(a, b) {\n    const len = Math.min(a.length, b.length);\n    let i;\n    for (i = 0; i < len; i++) {\n        if (a.charCodeAt(i) !== b.charCodeAt(i)) {\n            return i;\n        }\n    }\n    return len;\n}\n/**\n * @returns the length of the common suffix of the two strings.\n */\nexport function commonSuffixLength(a, b) {\n    const len = Math.min(a.length, b.length);\n    let i;\n    const aLastIndex = a.length - 1;\n    const bLastIndex = b.length - 1;\n    for (i = 0; i < len; i++) {\n        if (a.charCodeAt(aLastIndex - i) !== b.charCodeAt(bLastIndex - i)) {\n            return i;\n        }\n    }\n    return len;\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function isHighSurrogate(charCode) {\n    return (0xD800 <= charCode && charCode <= 0xDBFF);\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function isLowSurrogate(charCode) {\n    return (0xDC00 <= charCode && charCode <= 0xDFFF);\n}\n/**\n * See http://en.wikipedia.org/wiki/Surrogate_pair\n */\nexport function computeCodePoint(highSurrogate, lowSurrogate) {\n    return ((highSurrogate - 0xD800) << 10) + (lowSurrogate - 0xDC00) + 0x10000;\n}\n/**\n * get the code point that begins at offset `offset`\n */\nexport function getNextCodePoint(str, len, offset) {\n    const charCode = str.charCodeAt(offset);\n    if (isHighSurrogate(charCode) && offset + 1 < len) {\n        const nextCharCode = str.charCodeAt(offset + 1);\n        if (isLowSurrogate(nextCharCode)) {\n            return computeCodePoint(charCode, nextCharCode);\n        }\n    }\n    return charCode;\n}\n/**\n * get the code point that ends right before offset `offset`\n */\nfunction getPrevCodePoint(str, offset) {\n    const charCode = str.charCodeAt(offset - 1);\n    if (isLowSurrogate(charCode) && offset > 1) {\n        const prevCharCode = str.charCodeAt(offset - 2);\n        if (isHighSurrogate(prevCharCode)) {\n            return computeCodePoint(prevCharCode, charCode);\n        }\n    }\n    return charCode;\n}\nexport class CodePointIterator {\n    get offset() {\n        return this._offset;\n    }\n    constructor(str, offset = 0) {\n        this._str = str;\n        this._len = str.length;\n        this._offset = offset;\n    }\n    setOffset(offset) {\n        this._offset = offset;\n    }\n    prevCodePoint() {\n        const codePoint = getPrevCodePoint(this._str, this._offset);\n        this._offset -= (codePoint >= 65536 /* Constants.UNICODE_SUPPLEMENTARY_PLANE_BEGIN */ ? 2 : 1);\n        return codePoint;\n    }\n    nextCodePoint() {\n        const codePoint = getNextCodePoint(this._str, this._len, this._offset);\n        this._offset += (codePoint >= 65536 /* Constants.UNICODE_SUPPLEMENTARY_PLANE_BEGIN */ ? 2 : 1);\n        return codePoint;\n    }\n    eol() {\n        return (this._offset >= this._len);\n    }\n}\nexport class GraphemeIterator {\n    get offset() {\n        return this._iterator.offset;\n    }\n    constructor(str, offset = 0) {\n        this._iterator = new CodePointIterator(str, offset);\n    }\n    nextGraphemeLength() {\n        const graphemeBreakTree = GraphemeBreakTree.getInstance();\n        const iterator = this._iterator;\n        const initialOffset = iterator.offset;\n        let graphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.nextCodePoint());\n        while (!iterator.eol()) {\n            const offset = iterator.offset;\n            const nextGraphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.nextCodePoint());\n            if (breakBetweenGraphemeBreakType(graphemeBreakType, nextGraphemeBreakType)) {\n                // move iterator back\n                iterator.setOffset(offset);\n                break;\n            }\n            graphemeBreakType = nextGraphemeBreakType;\n        }\n        return (iterator.offset - initialOffset);\n    }\n    prevGraphemeLength() {\n        const graphemeBreakTree = GraphemeBreakTree.getInstance();\n        const iterator = this._iterator;\n        const initialOffset = iterator.offset;\n        let graphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.prevCodePoint());\n        while (iterator.offset > 0) {\n            const offset = iterator.offset;\n            const prevGraphemeBreakType = graphemeBreakTree.getGraphemeBreakType(iterator.prevCodePoint());\n            if (breakBetweenGraphemeBreakType(prevGraphemeBreakType, graphemeBreakType)) {\n                // move iterator back\n                iterator.setOffset(offset);\n                break;\n            }\n            graphemeBreakType = prevGraphemeBreakType;\n        }\n        return (initialOffset - iterator.offset);\n    }\n    eol() {\n        return this._iterator.eol();\n    }\n}\nexport function nextCharLength(str, initialOffset) {\n    const iterator = new GraphemeIterator(str, initialOffset);\n    return iterator.nextGraphemeLength();\n}\nexport function prevCharLength(str, initialOffset) {\n    const iterator = new GraphemeIterator(str, initialOffset);\n    return iterator.prevGraphemeLength();\n}\nexport function getCharContainingOffset(str, offset) {\n    if (offset > 0 && isLowSurrogate(str.charCodeAt(offset))) {\n        offset--;\n    }\n    const endOffset = offset + nextCharLength(str, offset);\n    const startOffset = endOffset - prevCharLength(str, endOffset);\n    return [startOffset, endOffset];\n}\nlet CONTAINS_RTL = undefined;\nfunction makeContainsRtl() {\n    // Generated using https://github.com/alexdima/unicode-utils/blob/main/rtl-test.js\n    return /(?:[\\u05BE\\u05C0\\u05C3\\u05C6\\u05D0-\\u05F4\\u0608\\u060B\\u060D\\u061B-\\u064A\\u066D-\\u066F\\u0671-\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1-\\u07EA\\u07F4\\u07F5\\u07FA\\u07FE-\\u0815\\u081A\\u0824\\u0828\\u0830-\\u0858\\u085E-\\u088E\\u08A0-\\u08C9\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFD3D\\uFD50-\\uFDC7\\uFDF0-\\uFDFC\\uFE70-\\uFEFC]|\\uD802[\\uDC00-\\uDD1B\\uDD20-\\uDE00\\uDE10-\\uDE35\\uDE40-\\uDEE4\\uDEEB-\\uDF35\\uDF40-\\uDFFF]|\\uD803[\\uDC00-\\uDD23\\uDE80-\\uDEA9\\uDEAD-\\uDF45\\uDF51-\\uDF81\\uDF86-\\uDFF6]|\\uD83A[\\uDC00-\\uDCCF\\uDD00-\\uDD43\\uDD4B-\\uDFFF]|\\uD83B[\\uDC00-\\uDEBB])/;\n}\n/**\n * Returns true if `str` contains any Unicode character that is classified as \"R\" or \"AL\".\n */\nexport function containsRTL(str) {\n    if (!CONTAINS_RTL) {\n        CONTAINS_RTL = makeContainsRtl();\n    }\n    return CONTAINS_RTL.test(str);\n}\nconst IS_BASIC_ASCII = /^[\\t\\n\\r\\x20-\\x7E]*$/;\n/**\n * Returns true if `str` contains only basic ASCII characters in the range 32 - 126 (including 32 and 126) or \\n, \\r, \\t\n */\nexport function isBasicASCII(str) {\n    return IS_BASIC_ASCII.test(str);\n}\nexport const UNUSUAL_LINE_TERMINATORS = /[\\u2028\\u2029]/; // LINE SEPARATOR (LS) or PARAGRAPH SEPARATOR (PS)\n/**\n * Returns true if `str` contains unusual line terminators, like LS or PS\n */\nexport function containsUnusualLineTerminators(str) {\n    return UNUSUAL_LINE_TERMINATORS.test(str);\n}\nexport function isFullWidthCharacter(charCode) {\n    // Do a cheap trick to better support wrapping of wide characters, treat them as 2 columns\n    // http://jrgraphix.net/research/unicode_blocks.php\n    //          2E80 - 2EFF   CJK Radicals Supplement\n    //          2F00 - 2FDF   Kangxi Radicals\n    //          2FF0 - 2FFF   Ideographic Description Characters\n    //          3000 - 303F   CJK Symbols and Punctuation\n    //          3040 - 309F   Hiragana\n    //          30A0 - 30FF   Katakana\n    //          3100 - 312F   Bopomofo\n    //          3130 - 318F   Hangul Compatibility Jamo\n    //          3190 - 319F   Kanbun\n    //          31A0 - 31BF   Bopomofo Extended\n    //          31F0 - 31FF   Katakana Phonetic Extensions\n    //          3200 - 32FF   Enclosed CJK Letters and Months\n    //          3300 - 33FF   CJK Compatibility\n    //          3400 - 4DBF   CJK Unified Ideographs Extension A\n    //          4DC0 - 4DFF   Yijing Hexagram Symbols\n    //          4E00 - 9FFF   CJK Unified Ideographs\n    //          A000 - A48F   Yi Syllables\n    //          A490 - A4CF   Yi Radicals\n    //          AC00 - D7AF   Hangul Syllables\n    // [IGNORE] D800 - DB7F   High Surrogates\n    // [IGNORE] DB80 - DBFF   High Private Use Surrogates\n    // [IGNORE] DC00 - DFFF   Low Surrogates\n    // [IGNORE] E000 - F8FF   Private Use Area\n    //          F900 - FAFF   CJK Compatibility Ideographs\n    // [IGNORE] FB00 - FB4F   Alphabetic Presentation Forms\n    // [IGNORE] FB50 - FDFF   Arabic Presentation Forms-A\n    // [IGNORE] FE00 - FE0F   Variation Selectors\n    // [IGNORE] FE20 - FE2F   Combining Half Marks\n    // [IGNORE] FE30 - FE4F   CJK Compatibility Forms\n    // [IGNORE] FE50 - FE6F   Small Form Variants\n    // [IGNORE] FE70 - FEFF   Arabic Presentation Forms-B\n    //          FF00 - FFEF   Halfwidth and Fullwidth Forms\n    //               [https://en.wikipedia.org/wiki/Halfwidth_and_fullwidth_forms]\n    //               of which FF01 - FF5E fullwidth ASCII of 21 to 7E\n    // [IGNORE]    and FF65 - FFDC halfwidth of Katakana and Hangul\n    // [IGNORE] FFF0 - FFFF   Specials\n    return ((charCode >= 0x2E80 && charCode <= 0xD7AF)\n        || (charCode >= 0xF900 && charCode <= 0xFAFF)\n        || (charCode >= 0xFF01 && charCode <= 0xFF5E));\n}\n/**\n * A fast function (therefore imprecise) to check if code points are emojis.\n * Generated using https://github.com/alexdima/unicode-utils/blob/main/emoji-test.js\n */\nexport function isEmojiImprecise(x) {\n    return ((x >= 0x1F1E6 && x <= 0x1F1FF) || (x === 8986) || (x === 8987) || (x === 9200)\n        || (x === 9203) || (x >= 9728 && x <= 10175) || (x === 11088) || (x === 11093)\n        || (x >= 127744 && x <= 128591) || (x >= 128640 && x <= 128764)\n        || (x >= 128992 && x <= 129008) || (x >= 129280 && x <= 129535)\n        || (x >= 129648 && x <= 129782));\n}\n// -- UTF-8 BOM\nexport const UTF8_BOM_CHARACTER = String.fromCharCode(65279 /* CharCode.UTF8_BOM */);\nexport function startsWithUTF8BOM(str) {\n    return !!(str && str.length > 0 && str.charCodeAt(0) === 65279 /* CharCode.UTF8_BOM */);\n}\nexport function containsUppercaseCharacter(target, ignoreEscapedChars = false) {\n    if (!target) {\n        return false;\n    }\n    if (ignoreEscapedChars) {\n        target = target.replace(/\\\\./g, '');\n    }\n    return target.toLowerCase() !== target;\n}\n/**\n * Produces 'a'-'z', followed by 'A'-'Z'... followed by 'a'-'z', etc.\n */\nexport function singleLetterHash(n) {\n    const LETTERS_CNT = (90 /* CharCode.Z */ - 65 /* CharCode.A */ + 1);\n    n = n % (2 * LETTERS_CNT);\n    if (n < LETTERS_CNT) {\n        return String.fromCharCode(97 /* CharCode.a */ + n);\n    }\n    return String.fromCharCode(65 /* CharCode.A */ + n - LETTERS_CNT);\n}\nfunction breakBetweenGraphemeBreakType(breakTypeA, breakTypeB) {\n    // http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundary_Rules\n    // !!! Let's make the common case a bit faster\n    if (breakTypeA === 0 /* GraphemeBreakType.Other */) {\n        // see https://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakTest-13.0.0d10.html#table\n        return (breakTypeB !== 5 /* GraphemeBreakType.Extend */ && breakTypeB !== 7 /* GraphemeBreakType.SpacingMark */);\n    }\n    // Do not break between a CR and LF. Otherwise, break before and after controls.\n    // GB3                                        CR × LF\n    // GB4                       (Control | CR | LF) ÷\n    // GB5                                           ÷ (Control | CR | LF)\n    if (breakTypeA === 2 /* GraphemeBreakType.CR */) {\n        if (breakTypeB === 3 /* GraphemeBreakType.LF */) {\n            return false; // GB3\n        }\n    }\n    if (breakTypeA === 4 /* GraphemeBreakType.Control */ || breakTypeA === 2 /* GraphemeBreakType.CR */ || breakTypeA === 3 /* GraphemeBreakType.LF */) {\n        return true; // GB4\n    }\n    if (breakTypeB === 4 /* GraphemeBreakType.Control */ || breakTypeB === 2 /* GraphemeBreakType.CR */ || breakTypeB === 3 /* GraphemeBreakType.LF */) {\n        return true; // GB5\n    }\n    // Do not break Hangul syllable sequences.\n    // GB6                                         L × (L | V | LV | LVT)\n    // GB7                                  (LV | V) × (V | T)\n    // GB8                                 (LVT | T) × T\n    if (breakTypeA === 8 /* GraphemeBreakType.L */) {\n        if (breakTypeB === 8 /* GraphemeBreakType.L */ || breakTypeB === 9 /* GraphemeBreakType.V */ || breakTypeB === 11 /* GraphemeBreakType.LV */ || breakTypeB === 12 /* GraphemeBreakType.LVT */) {\n            return false; // GB6\n        }\n    }\n    if (breakTypeA === 11 /* GraphemeBreakType.LV */ || breakTypeA === 9 /* GraphemeBreakType.V */) {\n        if (breakTypeB === 9 /* GraphemeBreakType.V */ || breakTypeB === 10 /* GraphemeBreakType.T */) {\n            return false; // GB7\n        }\n    }\n    if (breakTypeA === 12 /* GraphemeBreakType.LVT */ || breakTypeA === 10 /* GraphemeBreakType.T */) {\n        if (breakTypeB === 10 /* GraphemeBreakType.T */) {\n            return false; // GB8\n        }\n    }\n    // Do not break before extending characters or ZWJ.\n    // GB9                                           × (Extend | ZWJ)\n    if (breakTypeB === 5 /* GraphemeBreakType.Extend */ || breakTypeB === 13 /* GraphemeBreakType.ZWJ */) {\n        return false; // GB9\n    }\n    // The GB9a and GB9b rules only apply to extended grapheme clusters:\n    // Do not break before SpacingMarks, or after Prepend characters.\n    // GB9a                                          × SpacingMark\n    // GB9b                                  Prepend ×\n    if (breakTypeB === 7 /* GraphemeBreakType.SpacingMark */) {\n        return false; // GB9a\n    }\n    if (breakTypeA === 1 /* GraphemeBreakType.Prepend */) {\n        return false; // GB9b\n    }\n    // Do not break within emoji modifier sequences or emoji zwj sequences.\n    // GB11    \\p{Extended_Pictographic} Extend* ZWJ × \\p{Extended_Pictographic}\n    if (breakTypeA === 13 /* GraphemeBreakType.ZWJ */ && breakTypeB === 14 /* GraphemeBreakType.Extended_Pictographic */) {\n        // Note: we are not implementing the rule entirely here to avoid introducing states\n        return false; // GB11\n    }\n    // GB12                          sot (RI RI)* RI × RI\n    // GB13                        [^RI] (RI RI)* RI × RI\n    if (breakTypeA === 6 /* GraphemeBreakType.Regional_Indicator */ && breakTypeB === 6 /* GraphemeBreakType.Regional_Indicator */) {\n        // Note: we are not implementing the rule entirely here to avoid introducing states\n        return false; // GB12 & GB13\n    }\n    // GB999                                     Any ÷ Any\n    return true;\n}\nclass GraphemeBreakTree {\n    static getInstance() {\n        if (!GraphemeBreakTree._INSTANCE) {\n            GraphemeBreakTree._INSTANCE = new GraphemeBreakTree();\n        }\n        return GraphemeBreakTree._INSTANCE;\n    }\n    constructor() {\n        this._data = getGraphemeBreakRawData();\n    }\n    getGraphemeBreakType(codePoint) {\n        // !!! Let's make 7bit ASCII a bit faster: 0..31\n        if (codePoint < 32) {\n            if (codePoint === 10 /* CharCode.LineFeed */) {\n                return 3 /* GraphemeBreakType.LF */;\n            }\n            if (codePoint === 13 /* CharCode.CarriageReturn */) {\n                return 2 /* GraphemeBreakType.CR */;\n            }\n            return 4 /* GraphemeBreakType.Control */;\n        }\n        // !!! Let's make 7bit ASCII a bit faster: 32..126\n        if (codePoint < 127) {\n            return 0 /* GraphemeBreakType.Other */;\n        }\n        const data = this._data;\n        const nodeCount = data.length / 3;\n        let nodeIndex = 1;\n        while (nodeIndex <= nodeCount) {\n            if (codePoint < data[3 * nodeIndex]) {\n                // go left\n                nodeIndex = 2 * nodeIndex;\n            }\n            else if (codePoint > data[3 * nodeIndex + 1]) {\n                // go right\n                nodeIndex = 2 * nodeIndex + 1;\n            }\n            else {\n                // hit\n                return data[3 * nodeIndex + 2];\n            }\n        }\n        return 0 /* GraphemeBreakType.Other */;\n    }\n}\nGraphemeBreakTree._INSTANCE = null;\nfunction getGraphemeBreakRawData() {\n    // generated using https://github.com/alexdima/unicode-utils/blob/main/grapheme-break.js\n    return JSON.parse('[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]');\n}\n//#endregion\n/**\n * Computes the offset after performing a left delete on the given string,\n * while considering unicode grapheme/emoji rules.\n*/\nexport function getLeftDeleteOffset(offset, str) {\n    if (offset === 0) {\n        return 0;\n    }\n    // Try to delete emoji part.\n    const emojiOffset = getOffsetBeforeLastEmojiComponent(offset, str);\n    if (emojiOffset !== undefined) {\n        return emojiOffset;\n    }\n    // Otherwise, just skip a single code point.\n    const iterator = new CodePointIterator(str, offset);\n    iterator.prevCodePoint();\n    return iterator.offset;\n}\nfunction getOffsetBeforeLastEmojiComponent(initialOffset, str) {\n    // See https://www.unicode.org/reports/tr51/tr51-14.html#EBNF_and_Regex for the\n    // structure of emojis.\n    const iterator = new CodePointIterator(str, initialOffset);\n    let codePoint = iterator.prevCodePoint();\n    // Skip modifiers\n    while ((isEmojiModifier(codePoint) || codePoint === 65039 /* CodePoint.emojiVariantSelector */ || codePoint === 8419 /* CodePoint.enclosingKeyCap */)) {\n        if (iterator.offset === 0) {\n            // Cannot skip modifier, no preceding emoji base.\n            return undefined;\n        }\n        codePoint = iterator.prevCodePoint();\n    }\n    // Expect base emoji\n    if (!isEmojiImprecise(codePoint)) {\n        // Unexpected code point, not a valid emoji.\n        return undefined;\n    }\n    let resultOffset = iterator.offset;\n    if (resultOffset > 0) {\n        // Skip optional ZWJ code points that combine multiple emojis.\n        // In theory, we should check if that ZWJ actually combines multiple emojis\n        // to prevent deleting ZWJs in situations we didn't account for.\n        const optionalZwjCodePoint = iterator.prevCodePoint();\n        if (optionalZwjCodePoint === 8205 /* CodePoint.zwj */) {\n            resultOffset = iterator.offset;\n        }\n    }\n    return resultOffset;\n}\nfunction isEmojiModifier(codePoint) {\n    return 0x1F3FB <= codePoint && codePoint <= 0x1F3FF;\n}\nexport const noBreakWhitespace = '\\xa0';\nexport class AmbiguousCharacters {\n    static getInstance(locales) {\n        return _a.cache.get(Array.from(locales));\n    }\n    static getLocales() {\n        return _a._locales.value;\n    }\n    constructor(confusableDictionary) {\n        this.confusableDictionary = confusableDictionary;\n    }\n    isAmbiguous(codePoint) {\n        return this.confusableDictionary.has(codePoint);\n    }\n    /**\n     * Returns the non basic ASCII code point that the given code point can be confused,\n     * or undefined if such code point does note exist.\n     */\n    getPrimaryConfusable(codePoint) {\n        return this.confusableDictionary.get(codePoint);\n    }\n    getConfusableCodePoints() {\n        return new Set(this.confusableDictionary.keys());\n    }\n}\n_a = AmbiguousCharacters;\nAmbiguousCharacters.ambiguousCharacterData = new Lazy(() => {\n    // Generated using https://github.com/hediet/vscode-unicode-data\n    // Stored as key1, value1, key2, value2, ...\n    return JSON.parse('{\\\"_common\\\":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],\\\"_default\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"cs\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"de\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"es\\\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"fr\\\":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"it\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"ja\\\":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],\\\"ko\\\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"pl\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"pt-BR\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"qps-ploc\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"ru\\\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"tr\\\":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\\\"zh-hans\\\":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],\\\"zh-hant\\\":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}');\n});\nAmbiguousCharacters.cache = new LRUCachedFunction((locales) => {\n    function arrayToMap(arr) {\n        const result = new Map();\n        for (let i = 0; i < arr.length; i += 2) {\n            result.set(arr[i], arr[i + 1]);\n        }\n        return result;\n    }\n    function mergeMaps(map1, map2) {\n        const result = new Map(map1);\n        for (const [key, value] of map2) {\n            result.set(key, value);\n        }\n        return result;\n    }\n    function intersectMaps(map1, map2) {\n        if (!map1) {\n            return map2;\n        }\n        const result = new Map();\n        for (const [key, value] of map1) {\n            if (map2.has(key)) {\n                result.set(key, value);\n            }\n        }\n        return result;\n    }\n    const data = _a.ambiguousCharacterData.value;\n    let filteredLocales = locales.filter((l) => !l.startsWith('_') && l in data);\n    if (filteredLocales.length === 0) {\n        filteredLocales = ['_default'];\n    }\n    let languageSpecificMap = undefined;\n    for (const locale of filteredLocales) {\n        const map = arrayToMap(data[locale]);\n        languageSpecificMap = intersectMaps(languageSpecificMap, map);\n    }\n    const commonMap = arrayToMap(data['_common']);\n    const map = mergeMaps(commonMap, languageSpecificMap);\n    return new _a(map);\n});\nAmbiguousCharacters._locales = new Lazy(() => Object.keys(_a.ambiguousCharacterData.value).filter((k) => !k.startsWith('_')));\nexport class InvisibleCharacters {\n    static getRawData() {\n        // Generated using https://github.com/hediet/vscode-unicode-data\n        return JSON.parse('[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]');\n    }\n    static getData() {\n        if (!this._data) {\n            this._data = new Set(InvisibleCharacters.getRawData());\n        }\n        return this._data;\n    }\n    static isInvisibleCharacter(codePoint) {\n        return InvisibleCharacters.getData().has(codePoint);\n    }\n    static get codePoints() {\n        return InvisibleCharacters.getData();\n    }\n}\nInvisibleCharacters._data = undefined;\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isMacintosh, isWindows } from './platform.js';\nlet safeProcess;\n// Native sandbox environment\nconst vscodeGlobal = globalThis.vscode;\nif (typeof vscodeGlobal !== 'undefined' && typeof vscodeGlobal.process !== 'undefined') {\n    const sandboxProcess = vscodeGlobal.process;\n    safeProcess = {\n        get platform() { return sandboxProcess.platform; },\n        get arch() { return sandboxProcess.arch; },\n        get env() { return sandboxProcess.env; },\n        cwd() { return sandboxProcess.cwd(); }\n    };\n}\n// Native node.js environment\nelse if (typeof process !== 'undefined') {\n    safeProcess = {\n        get platform() { return process.platform; },\n        get arch() { return process.arch; },\n        get env() { return process.env; },\n        cwd() { return process.env['VSCODE_CWD'] || process.cwd(); }\n    };\n}\n// Web environment\nelse {\n    safeProcess = {\n        // Supported\n        get platform() { return isWindows ? 'win32' : isMacintosh ? 'darwin' : 'linux'; },\n        get arch() { return undefined; /* arch is undefined in web */ },\n        // Unsupported\n        get env() { return {}; },\n        cwd() { return '/'; }\n    };\n}\n/**\n * Provides safe access to the `cwd` property in node.js, sandboxed or web\n * environments.\n *\n * Note: in web, this property is hardcoded to be `/`.\n *\n * @skipMangle\n */\nexport const cwd = safeProcess.cwd;\n/**\n * Provides safe access to the `env` property in node.js, sandboxed or web\n * environments.\n *\n * Note: in web, this property is hardcoded to be `{}`.\n */\nexport const env = safeProcess.env;\n/**\n * Provides safe access to the `platform` property in node.js, sandboxed or web\n * environments.\n */\nexport const platform = safeProcess.platform;\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// NOTE: VSCode's copy of nodejs path library to be usable in common (non-node) namespace\n// Copied from: https://github.com/nodejs/node/blob/v16.14.2/lib/path.js\n/**\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nimport * as process from './process.js';\nconst CHAR_UPPERCASE_A = 65; /* A */\nconst CHAR_LOWERCASE_A = 97; /* a */\nconst CHAR_UPPERCASE_Z = 90; /* Z */\nconst CHAR_LOWERCASE_Z = 122; /* z */\nconst CHAR_DOT = 46; /* . */\nconst CHAR_FORWARD_SLASH = 47; /* / */\nconst CHAR_BACKWARD_SLASH = 92; /* \\ */\nconst CHAR_COLON = 58; /* : */\nconst CHAR_QUESTION_MARK = 63; /* ? */\nclass ErrorInvalidArgType extends Error {\n    constructor(name, expected, actual) {\n        // determiner: 'must be' or 'must not be'\n        let determiner;\n        if (typeof expected === 'string' && expected.indexOf('not ') === 0) {\n            determiner = 'must not be';\n            expected = expected.replace(/^not /, '');\n        }\n        else {\n            determiner = 'must be';\n        }\n        const type = name.indexOf('.') !== -1 ? 'property' : 'argument';\n        let msg = `The \"${name}\" ${type} ${determiner} of type ${expected}`;\n        msg += `. Received type ${typeof actual}`;\n        super(msg);\n        this.code = 'ERR_INVALID_ARG_TYPE';\n    }\n}\nfunction validateObject(pathObject, name) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n        throw new ErrorInvalidArgType(name, 'Object', pathObject);\n    }\n}\nfunction validateString(value, name) {\n    if (typeof value !== 'string') {\n        throw new ErrorInvalidArgType(name, 'string', value);\n    }\n}\nconst platformIsWin32 = (process.platform === 'win32');\nfunction isPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n}\nfunction isPosixPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH;\n}\nfunction isWindowsDeviceRoot(code) {\n    return (code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n        (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z);\n}\n// Resolves . and .. elements in a path with directory names\nfunction normalizeString(path, allowAboveRoot, separator, isPathSeparator) {\n    let res = '';\n    let lastSegmentLength = 0;\n    let lastSlash = -1;\n    let dots = 0;\n    let code = 0;\n    for (let i = 0; i <= path.length; ++i) {\n        if (i < path.length) {\n            code = path.charCodeAt(i);\n        }\n        else if (isPathSeparator(code)) {\n            break;\n        }\n        else {\n            code = CHAR_FORWARD_SLASH;\n        }\n        if (isPathSeparator(code)) {\n            if (lastSlash === i - 1 || dots === 1) {\n                // NOOP\n            }\n            else if (dots === 2) {\n                if (res.length < 2 || lastSegmentLength !== 2 ||\n                    res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n                    res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n                    if (res.length > 2) {\n                        const lastSlashIndex = res.lastIndexOf(separator);\n                        if (lastSlashIndex === -1) {\n                            res = '';\n                            lastSegmentLength = 0;\n                        }\n                        else {\n                            res = res.slice(0, lastSlashIndex);\n                            lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);\n                        }\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                    else if (res.length !== 0) {\n                        res = '';\n                        lastSegmentLength = 0;\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                }\n                if (allowAboveRoot) {\n                    res += res.length > 0 ? `${separator}..` : '..';\n                    lastSegmentLength = 2;\n                }\n            }\n            else {\n                if (res.length > 0) {\n                    res += `${separator}${path.slice(lastSlash + 1, i)}`;\n                }\n                else {\n                    res = path.slice(lastSlash + 1, i);\n                }\n                lastSegmentLength = i - lastSlash - 1;\n            }\n            lastSlash = i;\n            dots = 0;\n        }\n        else if (code === CHAR_DOT && dots !== -1) {\n            ++dots;\n        }\n        else {\n            dots = -1;\n        }\n    }\n    return res;\n}\nfunction _format(sep, pathObject) {\n    validateObject(pathObject, 'pathObject');\n    const dir = pathObject.dir || pathObject.root;\n    const base = pathObject.base ||\n        `${pathObject.name || ''}${pathObject.ext || ''}`;\n    if (!dir) {\n        return base;\n    }\n    return dir === pathObject.root ? `${dir}${base}` : `${dir}${sep}${base}`;\n}\nexport const win32 = {\n    // path.resolve([from ...], to)\n    resolve(...pathSegments) {\n        let resolvedDevice = '';\n        let resolvedTail = '';\n        let resolvedAbsolute = false;\n        for (let i = pathSegments.length - 1; i >= -1; i--) {\n            let path;\n            if (i >= 0) {\n                path = pathSegments[i];\n                validateString(path, 'path');\n                // Skip empty entries\n                if (path.length === 0) {\n                    continue;\n                }\n            }\n            else if (resolvedDevice.length === 0) {\n                path = process.cwd();\n            }\n            else {\n                // Windows has the concept of drive-specific current working\n                // directories. If we've resolved a drive letter but not yet an\n                // absolute path, get cwd for that drive, or the process cwd if\n                // the drive cwd is not available. We're sure the device is not\n                // a UNC path at this points, because UNC paths are always absolute.\n                path = process.env[`=${resolvedDevice}`] || process.cwd();\n                // Verify that a cwd was found and that it actually points\n                // to our drive. If not, default to the drive's root.\n                if (path === undefined ||\n                    (path.slice(0, 2).toLowerCase() !== resolvedDevice.toLowerCase() &&\n                        path.charCodeAt(2) === CHAR_BACKWARD_SLASH)) {\n                    path = `${resolvedDevice}\\\\`;\n                }\n            }\n            const len = path.length;\n            let rootEnd = 0;\n            let device = '';\n            let isAbsolute = false;\n            const code = path.charCodeAt(0);\n            // Try to match a root\n            if (len === 1) {\n                if (isPathSeparator(code)) {\n                    // `path` contains just a path separator\n                    rootEnd = 1;\n                    isAbsolute = true;\n                }\n            }\n            else if (isPathSeparator(code)) {\n                // Possible UNC root\n                // If we started with a separator, we know we at least have an\n                // absolute path of some kind (UNC or otherwise)\n                isAbsolute = true;\n                if (isPathSeparator(path.charCodeAt(1))) {\n                    // Matched double path separator at beginning\n                    let j = 2;\n                    let last = j;\n                    // Match 1 or more non-path separators\n                    while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        const firstPart = path.slice(last, j);\n                        // Matched!\n                        last = j;\n                        // Match 1 or more path separators\n                        while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j < len && j !== last) {\n                            // Matched!\n                            last = j;\n                            // Match 1 or more non-path separators\n                            while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                                j++;\n                            }\n                            if (j === len || j !== last) {\n                                // We matched a UNC root\n                                device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\n                                rootEnd = j;\n                            }\n                        }\n                    }\n                }\n                else {\n                    rootEnd = 1;\n                }\n            }\n            else if (isWindowsDeviceRoot(code) &&\n                path.charCodeAt(1) === CHAR_COLON) {\n                // Possible device root\n                device = path.slice(0, 2);\n                rootEnd = 2;\n                if (len > 2 && isPathSeparator(path.charCodeAt(2))) {\n                    // Treat separator following drive name as an absolute path\n                    // indicator\n                    isAbsolute = true;\n                    rootEnd = 3;\n                }\n            }\n            if (device.length > 0) {\n                if (resolvedDevice.length > 0) {\n                    if (device.toLowerCase() !== resolvedDevice.toLowerCase()) {\n                        // This path points to another device so it is not applicable\n                        continue;\n                    }\n                }\n                else {\n                    resolvedDevice = device;\n                }\n            }\n            if (resolvedAbsolute) {\n                if (resolvedDevice.length > 0) {\n                    break;\n                }\n            }\n            else {\n                resolvedTail = `${path.slice(rootEnd)}\\\\${resolvedTail}`;\n                resolvedAbsolute = isAbsolute;\n                if (isAbsolute && resolvedDevice.length > 0) {\n                    break;\n                }\n            }\n        }\n        // At this point the path should be resolved to a full absolute path,\n        // but handle relative paths to be safe (might happen when process.cwd()\n        // fails)\n        // Normalize the tail path\n        resolvedTail = normalizeString(resolvedTail, !resolvedAbsolute, '\\\\', isPathSeparator);\n        return resolvedAbsolute ?\n            `${resolvedDevice}\\\\${resolvedTail}` :\n            `${resolvedDevice}${resolvedTail}` || '.';\n    },\n    normalize(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return '.';\n        }\n        let rootEnd = 0;\n        let device;\n        let isAbsolute = false;\n        const code = path.charCodeAt(0);\n        // Try to match a root\n        if (len === 1) {\n            // `path` contains just a single char, exit early to avoid\n            // unnecessary work\n            return isPosixPathSeparator(code) ? '\\\\' : path;\n        }\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            // If we started with a separator, we know we at least have an absolute\n            // path of some kind (UNC or otherwise)\n            isAbsolute = true;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    const firstPart = path.slice(last, j);\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            // Return the normalized version of the UNC root since there\n                            // is nothing left to process\n                            return `\\\\\\\\${firstPart}\\\\${path.slice(last)}\\\\`;\n                        }\n                        if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            device = `\\\\\\\\${firstPart}\\\\${path.slice(last, j)}`;\n                            rootEnd = j;\n                        }\n                    }\n                }\n            }\n            else {\n                rootEnd = 1;\n            }\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            // Possible device root\n            device = path.slice(0, 2);\n            rootEnd = 2;\n            if (len > 2 && isPathSeparator(path.charCodeAt(2))) {\n                // Treat separator following drive name as an absolute path\n                // indicator\n                isAbsolute = true;\n                rootEnd = 3;\n            }\n        }\n        let tail = rootEnd < len ?\n            normalizeString(path.slice(rootEnd), !isAbsolute, '\\\\', isPathSeparator) :\n            '';\n        if (tail.length === 0 && !isAbsolute) {\n            tail = '.';\n        }\n        if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1))) {\n            tail += '\\\\';\n        }\n        if (device === undefined) {\n            return isAbsolute ? `\\\\${tail}` : tail;\n        }\n        return isAbsolute ? `${device}\\\\${tail}` : `${device}${tail}`;\n    },\n    isAbsolute(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return false;\n        }\n        const code = path.charCodeAt(0);\n        return isPathSeparator(code) ||\n            // Possible device root\n            (len > 2 &&\n                isWindowsDeviceRoot(code) &&\n                path.charCodeAt(1) === CHAR_COLON &&\n                isPathSeparator(path.charCodeAt(2)));\n    },\n    join(...paths) {\n        if (paths.length === 0) {\n            return '.';\n        }\n        let joined;\n        let firstPart;\n        for (let i = 0; i < paths.length; ++i) {\n            const arg = paths[i];\n            validateString(arg, 'path');\n            if (arg.length > 0) {\n                if (joined === undefined) {\n                    joined = firstPart = arg;\n                }\n                else {\n                    joined += `\\\\${arg}`;\n                }\n            }\n        }\n        if (joined === undefined) {\n            return '.';\n        }\n        // Make sure that the joined path doesn't start with two slashes, because\n        // normalize() will mistake it for a UNC path then.\n        //\n        // This step is skipped when it is very clear that the user actually\n        // intended to point at a UNC path. This is assumed when the first\n        // non-empty string arguments starts with exactly two slashes followed by\n        // at least one more non-slash character.\n        //\n        // Note that for normalize() to treat a path as a UNC path it needs to\n        // have at least 2 components, so we don't filter for that here.\n        // This means that the user can use join to construct UNC paths from\n        // a server name and a share name; for example:\n        //   path.join('//server', 'share') -> '\\\\\\\\server\\\\share\\\\')\n        let needsReplace = true;\n        let slashCount = 0;\n        if (typeof firstPart === 'string' && isPathSeparator(firstPart.charCodeAt(0))) {\n            ++slashCount;\n            const firstLen = firstPart.length;\n            if (firstLen > 1 && isPathSeparator(firstPart.charCodeAt(1))) {\n                ++slashCount;\n                if (firstLen > 2) {\n                    if (isPathSeparator(firstPart.charCodeAt(2))) {\n                        ++slashCount;\n                    }\n                    else {\n                        // We matched a UNC path in the first part\n                        needsReplace = false;\n                    }\n                }\n            }\n        }\n        if (needsReplace) {\n            // Find any more consecutive slashes we need to replace\n            while (slashCount < joined.length &&\n                isPathSeparator(joined.charCodeAt(slashCount))) {\n                slashCount++;\n            }\n            // Replace the slashes if needed\n            if (slashCount >= 2) {\n                joined = `\\\\${joined.slice(slashCount)}`;\n            }\n        }\n        return win32.normalize(joined);\n    },\n    // It will solve the relative path from `from` to `to`, for instance:\n    //  from = 'C:\\\\orandea\\\\test\\\\aaa'\n    //  to = 'C:\\\\orandea\\\\impl\\\\bbb'\n    // The output of the function should be: '..\\\\..\\\\impl\\\\bbb'\n    relative(from, to) {\n        validateString(from, 'from');\n        validateString(to, 'to');\n        if (from === to) {\n            return '';\n        }\n        const fromOrig = win32.resolve(from);\n        const toOrig = win32.resolve(to);\n        if (fromOrig === toOrig) {\n            return '';\n        }\n        from = fromOrig.toLowerCase();\n        to = toOrig.toLowerCase();\n        if (from === to) {\n            return '';\n        }\n        // Trim any leading backslashes\n        let fromStart = 0;\n        while (fromStart < from.length &&\n            from.charCodeAt(fromStart) === CHAR_BACKWARD_SLASH) {\n            fromStart++;\n        }\n        // Trim trailing backslashes (applicable to UNC paths only)\n        let fromEnd = from.length;\n        while (fromEnd - 1 > fromStart &&\n            from.charCodeAt(fromEnd - 1) === CHAR_BACKWARD_SLASH) {\n            fromEnd--;\n        }\n        const fromLen = fromEnd - fromStart;\n        // Trim any leading backslashes\n        let toStart = 0;\n        while (toStart < to.length &&\n            to.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {\n            toStart++;\n        }\n        // Trim trailing backslashes (applicable to UNC paths only)\n        let toEnd = to.length;\n        while (toEnd - 1 > toStart &&\n            to.charCodeAt(toEnd - 1) === CHAR_BACKWARD_SLASH) {\n            toEnd--;\n        }\n        const toLen = toEnd - toStart;\n        // Compare paths to find the longest common path from root\n        const length = fromLen < toLen ? fromLen : toLen;\n        let lastCommonSep = -1;\n        let i = 0;\n        for (; i < length; i++) {\n            const fromCode = from.charCodeAt(fromStart + i);\n            if (fromCode !== to.charCodeAt(toStart + i)) {\n                break;\n            }\n            else if (fromCode === CHAR_BACKWARD_SLASH) {\n                lastCommonSep = i;\n            }\n        }\n        // We found a mismatch before the first common path separator was seen, so\n        // return the original `to`.\n        if (i !== length) {\n            if (lastCommonSep === -1) {\n                return toOrig;\n            }\n        }\n        else {\n            if (toLen > length) {\n                if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH) {\n                    // We get here if `from` is the exact base path for `to`.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo\\\\bar\\\\baz'\n                    return toOrig.slice(toStart + i + 1);\n                }\n                if (i === 2) {\n                    // We get here if `from` is the device root.\n                    // For example: from='C:\\\\'; to='C:\\\\foo'\n                    return toOrig.slice(toStart + i);\n                }\n            }\n            if (fromLen > length) {\n                if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH) {\n                    // We get here if `to` is the exact base path for `from`.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo'\n                    lastCommonSep = i;\n                }\n                else if (i === 2) {\n                    // We get here if `to` is the device root.\n                    // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\'\n                    lastCommonSep = 3;\n                }\n            }\n            if (lastCommonSep === -1) {\n                lastCommonSep = 0;\n            }\n        }\n        let out = '';\n        // Generate the relative path based on the path difference between `to` and\n        // `from`\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH) {\n                out += out.length === 0 ? '..' : '\\\\..';\n            }\n        }\n        toStart += lastCommonSep;\n        // Lastly, append the rest of the destination (`to`) path that comes after\n        // the common path parts\n        if (out.length > 0) {\n            return `${out}${toOrig.slice(toStart, toEnd)}`;\n        }\n        if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {\n            ++toStart;\n        }\n        return toOrig.slice(toStart, toEnd);\n    },\n    toNamespacedPath(path) {\n        // Note: this will *probably* throw somewhere.\n        if (typeof path !== 'string' || path.length === 0) {\n            return path;\n        }\n        const resolvedPath = win32.resolve(path);\n        if (resolvedPath.length <= 2) {\n            return path;\n        }\n        if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH) {\n            // Possible UNC root\n            if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {\n                const code = resolvedPath.charCodeAt(2);\n                if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {\n                    // Matched non-long UNC root, convert the path to a long UNC path\n                    return `\\\\\\\\?\\\\UNC\\\\${resolvedPath.slice(2)}`;\n                }\n            }\n        }\n        else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0)) &&\n            resolvedPath.charCodeAt(1) === CHAR_COLON &&\n            resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH) {\n            // Matched device root, convert the path to a long UNC path\n            return `\\\\\\\\?\\\\${resolvedPath}`;\n        }\n        return path;\n    },\n    dirname(path) {\n        validateString(path, 'path');\n        const len = path.length;\n        if (len === 0) {\n            return '.';\n        }\n        let rootEnd = -1;\n        let offset = 0;\n        const code = path.charCodeAt(0);\n        if (len === 1) {\n            // `path` contains just a path separator, exit early to avoid\n            // unnecessary work or a dot.\n            return isPathSeparator(code) ? path : '.';\n        }\n        // Try to match a root\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            rootEnd = offset = 1;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            return path;\n                        }\n                        if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            // Offset by 1 to include the separator after the UNC root to\n                            // treat it as a \"normal root\" on top of a (UNC) root\n                            rootEnd = offset = j + 1;\n                        }\n                    }\n                }\n            }\n            // Possible device root\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            rootEnd = len > 2 && isPathSeparator(path.charCodeAt(2)) ? 3 : 2;\n            offset = rootEnd;\n        }\n        let end = -1;\n        let matchedSlash = true;\n        for (let i = len - 1; i >= offset; --i) {\n            if (isPathSeparator(path.charCodeAt(i))) {\n                if (!matchedSlash) {\n                    end = i;\n                    break;\n                }\n            }\n            else {\n                // We saw the first non-path separator\n                matchedSlash = false;\n            }\n        }\n        if (end === -1) {\n            if (rootEnd === -1) {\n                return '.';\n            }\n            end = rootEnd;\n        }\n        return path.slice(0, end);\n    },\n    basename(path, ext) {\n        if (ext !== undefined) {\n            validateString(ext, 'ext');\n        }\n        validateString(path, 'path');\n        let start = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i;\n        // Check for a drive letter prefix so as not to mistake the following\n        // path separator as an extra separator at the end of the path that can be\n        // disregarded\n        if (path.length >= 2 &&\n            isWindowsDeviceRoot(path.charCodeAt(0)) &&\n            path.charCodeAt(1) === CHAR_COLON) {\n            start = 2;\n        }\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n            if (ext === path) {\n                return '';\n            }\n            let extIdx = ext.length - 1;\n            let firstNonSlashEnd = -1;\n            for (i = path.length - 1; i >= start; --i) {\n                const code = path.charCodeAt(i);\n                if (isPathSeparator(code)) {\n                    // If we reached a path separator that was not part of a set of path\n                    // separators at the end of the string, stop now\n                    if (!matchedSlash) {\n                        start = i + 1;\n                        break;\n                    }\n                }\n                else {\n                    if (firstNonSlashEnd === -1) {\n                        // We saw the first non-path separator, remember this index in case\n                        // we need it if the extension ends up not matching\n                        matchedSlash = false;\n                        firstNonSlashEnd = i + 1;\n                    }\n                    if (extIdx >= 0) {\n                        // Try to match the explicit extension\n                        if (code === ext.charCodeAt(extIdx)) {\n                            if (--extIdx === -1) {\n                                // We matched the extension, so mark this as the end of our path\n                                // component\n                                end = i;\n                            }\n                        }\n                        else {\n                            // Extension does not match, so our result is the entire path\n                            // component\n                            extIdx = -1;\n                            end = firstNonSlashEnd;\n                        }\n                    }\n                }\n            }\n            if (start === end) {\n                end = firstNonSlashEnd;\n            }\n            else if (end === -1) {\n                end = path.length;\n            }\n            return path.slice(start, end);\n        }\n        for (i = path.length - 1; i >= start; --i) {\n            if (isPathSeparator(path.charCodeAt(i))) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            }\n            else if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n        if (end === -1) {\n            return '';\n        }\n        return path.slice(start, end);\n    },\n    extname(path) {\n        validateString(path, 'path');\n        let start = 0;\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Check for a drive letter prefix so as not to mistake the following\n        // path separator as an extra separator at the end of the path that can be\n        // disregarded\n        if (path.length >= 2 &&\n            path.charCodeAt(1) === CHAR_COLON &&\n            isWindowsDeviceRoot(path.charCodeAt(0))) {\n            start = startPart = 2;\n        }\n        for (let i = path.length - 1; i >= start; --i) {\n            const code = path.charCodeAt(i);\n            if (isPathSeparator(code)) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (startDot === -1 ||\n            end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            (preDotState === 1 &&\n                startDot === end - 1 &&\n                startDot === startPart + 1)) {\n            return '';\n        }\n        return path.slice(startDot, end);\n    },\n    format: _format.bind(null, '\\\\'),\n    parse(path) {\n        validateString(path, 'path');\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\n        if (path.length === 0) {\n            return ret;\n        }\n        const len = path.length;\n        let rootEnd = 0;\n        let code = path.charCodeAt(0);\n        if (len === 1) {\n            if (isPathSeparator(code)) {\n                // `path` contains just a path separator, exit early to avoid\n                // unnecessary work\n                ret.root = ret.dir = path;\n                return ret;\n            }\n            ret.base = ret.name = path;\n            return ret;\n        }\n        // Try to match a root\n        if (isPathSeparator(code)) {\n            // Possible UNC root\n            rootEnd = 1;\n            if (isPathSeparator(path.charCodeAt(1))) {\n                // Matched double path separator at beginning\n                let j = 2;\n                let last = j;\n                // Match 1 or more non-path separators\n                while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                    j++;\n                }\n                if (j < len && j !== last) {\n                    // Matched!\n                    last = j;\n                    // Match 1 or more path separators\n                    while (j < len && isPathSeparator(path.charCodeAt(j))) {\n                        j++;\n                    }\n                    if (j < len && j !== last) {\n                        // Matched!\n                        last = j;\n                        // Match 1 or more non-path separators\n                        while (j < len && !isPathSeparator(path.charCodeAt(j))) {\n                            j++;\n                        }\n                        if (j === len) {\n                            // We matched a UNC root only\n                            rootEnd = j;\n                        }\n                        else if (j !== last) {\n                            // We matched a UNC root with leftovers\n                            rootEnd = j + 1;\n                        }\n                    }\n                }\n            }\n        }\n        else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {\n            // Possible device root\n            if (len <= 2) {\n                // `path` contains just a drive root, exit early to avoid\n                // unnecessary work\n                ret.root = ret.dir = path;\n                return ret;\n            }\n            rootEnd = 2;\n            if (isPathSeparator(path.charCodeAt(2))) {\n                if (len === 3) {\n                    // `path` contains just a drive root, exit early to avoid\n                    // unnecessary work\n                    ret.root = ret.dir = path;\n                    return ret;\n                }\n                rootEnd = 3;\n            }\n        }\n        if (rootEnd > 0) {\n            ret.root = path.slice(0, rootEnd);\n        }\n        let startDot = -1;\n        let startPart = rootEnd;\n        let end = -1;\n        let matchedSlash = true;\n        let i = path.length - 1;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Get non-dir info\n        for (; i >= rootEnd; --i) {\n            code = path.charCodeAt(i);\n            if (isPathSeparator(code)) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (end !== -1) {\n            if (startDot === -1 ||\n                // We saw a non-dot character immediately before the dot\n                preDotState === 0 ||\n                // The (right-most) trimmed path component is exactly '..'\n                (preDotState === 1 &&\n                    startDot === end - 1 &&\n                    startDot === startPart + 1)) {\n                ret.base = ret.name = path.slice(startPart, end);\n            }\n            else {\n                ret.name = path.slice(startPart, startDot);\n                ret.base = path.slice(startPart, end);\n                ret.ext = path.slice(startDot, end);\n            }\n        }\n        // If the directory is the root, use the entire root as the `dir` including\n        // the trailing slash if any (`C:\\abc` -> `C:\\`). Otherwise, strip out the\n        // trailing slash (`C:\\abc\\def` -> `C:\\abc`).\n        if (startPart > 0 && startPart !== rootEnd) {\n            ret.dir = path.slice(0, startPart - 1);\n        }\n        else {\n            ret.dir = ret.root;\n        }\n        return ret;\n    },\n    sep: '\\\\',\n    delimiter: ';',\n    win32: null,\n    posix: null\n};\nconst posixCwd = (() => {\n    if (platformIsWin32) {\n        // Converts Windows' backslash path separators to POSIX forward slashes\n        // and truncates any drive indicator\n        const regexp = /\\\\/g;\n        return () => {\n            const cwd = process.cwd().replace(regexp, '/');\n            return cwd.slice(cwd.indexOf('/'));\n        };\n    }\n    // We're already on POSIX, no need for any transformations\n    return () => process.cwd();\n})();\nexport const posix = {\n    // path.resolve([from ...], to)\n    resolve(...pathSegments) {\n        let resolvedPath = '';\n        let resolvedAbsolute = false;\n        for (let i = pathSegments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n            const path = i >= 0 ? pathSegments[i] : posixCwd();\n            validateString(path, 'path');\n            // Skip empty entries\n            if (path.length === 0) {\n                continue;\n            }\n            resolvedPath = `${path}/${resolvedPath}`;\n            resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        }\n        // At this point the path should be resolved to a full absolute path, but\n        // handle relative paths to be safe (might happen when process.cwd() fails)\n        // Normalize the path\n        resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, '/', isPosixPathSeparator);\n        if (resolvedAbsolute) {\n            return `/${resolvedPath}`;\n        }\n        return resolvedPath.length > 0 ? resolvedPath : '.';\n    },\n    normalize(path) {\n        validateString(path, 'path');\n        if (path.length === 0) {\n            return '.';\n        }\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        const trailingSeparator = path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;\n        // Normalize the path\n        path = normalizeString(path, !isAbsolute, '/', isPosixPathSeparator);\n        if (path.length === 0) {\n            if (isAbsolute) {\n                return '/';\n            }\n            return trailingSeparator ? './' : '.';\n        }\n        if (trailingSeparator) {\n            path += '/';\n        }\n        return isAbsolute ? `/${path}` : path;\n    },\n    isAbsolute(path) {\n        validateString(path, 'path');\n        return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n    },\n    join(...paths) {\n        if (paths.length === 0) {\n            return '.';\n        }\n        let joined;\n        for (let i = 0; i < paths.length; ++i) {\n            const arg = paths[i];\n            validateString(arg, 'path');\n            if (arg.length > 0) {\n                if (joined === undefined) {\n                    joined = arg;\n                }\n                else {\n                    joined += `/${arg}`;\n                }\n            }\n        }\n        if (joined === undefined) {\n            return '.';\n        }\n        return posix.normalize(joined);\n    },\n    relative(from, to) {\n        validateString(from, 'from');\n        validateString(to, 'to');\n        if (from === to) {\n            return '';\n        }\n        // Trim leading forward slashes.\n        from = posix.resolve(from);\n        to = posix.resolve(to);\n        if (from === to) {\n            return '';\n        }\n        const fromStart = 1;\n        const fromEnd = from.length;\n        const fromLen = fromEnd - fromStart;\n        const toStart = 1;\n        const toLen = to.length - toStart;\n        // Compare paths to find the longest common path from root\n        const length = (fromLen < toLen ? fromLen : toLen);\n        let lastCommonSep = -1;\n        let i = 0;\n        for (; i < length; i++) {\n            const fromCode = from.charCodeAt(fromStart + i);\n            if (fromCode !== to.charCodeAt(toStart + i)) {\n                break;\n            }\n            else if (fromCode === CHAR_FORWARD_SLASH) {\n                lastCommonSep = i;\n            }\n        }\n        if (i === length) {\n            if (toLen > length) {\n                if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {\n                    // We get here if `from` is the exact base path for `to`.\n                    // For example: from='/foo/bar'; to='/foo/bar/baz'\n                    return to.slice(toStart + i + 1);\n                }\n                if (i === 0) {\n                    // We get here if `from` is the root\n                    // For example: from='/'; to='/foo'\n                    return to.slice(toStart + i);\n                }\n            }\n            else if (fromLen > length) {\n                if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {\n                    // We get here if `to` is the exact base path for `from`.\n                    // For example: from='/foo/bar/baz'; to='/foo/bar'\n                    lastCommonSep = i;\n                }\n                else if (i === 0) {\n                    // We get here if `to` is the root.\n                    // For example: from='/foo/bar'; to='/'\n                    lastCommonSep = 0;\n                }\n            }\n        }\n        let out = '';\n        // Generate the relative path based on the path difference between `to`\n        // and `from`.\n        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n            if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                out += out.length === 0 ? '..' : '/..';\n            }\n        }\n        // Lastly, append the rest of the destination (`to`) path that comes after\n        // the common path parts.\n        return `${out}${to.slice(toStart + lastCommonSep)}`;\n    },\n    toNamespacedPath(path) {\n        // Non-op on posix systems\n        return path;\n    },\n    dirname(path) {\n        validateString(path, 'path');\n        if (path.length === 0) {\n            return '.';\n        }\n        const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        let end = -1;\n        let matchedSlash = true;\n        for (let i = path.length - 1; i >= 1; --i) {\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                if (!matchedSlash) {\n                    end = i;\n                    break;\n                }\n            }\n            else {\n                // We saw the first non-path separator\n                matchedSlash = false;\n            }\n        }\n        if (end === -1) {\n            return hasRoot ? '/' : '.';\n        }\n        if (hasRoot && end === 1) {\n            return '//';\n        }\n        return path.slice(0, end);\n    },\n    basename(path, ext) {\n        if (ext !== undefined) {\n            validateString(ext, 'ext');\n        }\n        validateString(path, 'path');\n        let start = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i;\n        if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n            if (ext === path) {\n                return '';\n            }\n            let extIdx = ext.length - 1;\n            let firstNonSlashEnd = -1;\n            for (i = path.length - 1; i >= 0; --i) {\n                const code = path.charCodeAt(i);\n                if (code === CHAR_FORWARD_SLASH) {\n                    // If we reached a path separator that was not part of a set of path\n                    // separators at the end of the string, stop now\n                    if (!matchedSlash) {\n                        start = i + 1;\n                        break;\n                    }\n                }\n                else {\n                    if (firstNonSlashEnd === -1) {\n                        // We saw the first non-path separator, remember this index in case\n                        // we need it if the extension ends up not matching\n                        matchedSlash = false;\n                        firstNonSlashEnd = i + 1;\n                    }\n                    if (extIdx >= 0) {\n                        // Try to match the explicit extension\n                        if (code === ext.charCodeAt(extIdx)) {\n                            if (--extIdx === -1) {\n                                // We matched the extension, so mark this as the end of our path\n                                // component\n                                end = i;\n                            }\n                        }\n                        else {\n                            // Extension does not match, so our result is the entire path\n                            // component\n                            extIdx = -1;\n                            end = firstNonSlashEnd;\n                        }\n                    }\n                }\n            }\n            if (start === end) {\n                end = firstNonSlashEnd;\n            }\n            else if (end === -1) {\n                end = path.length;\n            }\n            return path.slice(start, end);\n        }\n        for (i = path.length - 1; i >= 0; --i) {\n            if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                }\n            }\n            else if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // path component\n                matchedSlash = false;\n                end = i + 1;\n            }\n        }\n        if (end === -1) {\n            return '';\n        }\n        return path.slice(start, end);\n    },\n    extname(path) {\n        validateString(path, 'path');\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        for (let i = path.length - 1; i >= 0; --i) {\n            const code = path.charCodeAt(i);\n            if (code === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (startDot === -1 ||\n            end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            (preDotState === 1 &&\n                startDot === end - 1 &&\n                startDot === startPart + 1)) {\n            return '';\n        }\n        return path.slice(startDot, end);\n    },\n    format: _format.bind(null, '/'),\n    parse(path) {\n        validateString(path, 'path');\n        const ret = { root: '', dir: '', base: '', ext: '', name: '' };\n        if (path.length === 0) {\n            return ret;\n        }\n        const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n        let start;\n        if (isAbsolute) {\n            ret.root = '/';\n            start = 1;\n        }\n        else {\n            start = 0;\n        }\n        let startDot = -1;\n        let startPart = 0;\n        let end = -1;\n        let matchedSlash = true;\n        let i = path.length - 1;\n        // Track the state of characters (if any) we see before our first dot and\n        // after any path separator we find\n        let preDotState = 0;\n        // Get non-dir info\n        for (; i >= start; --i) {\n            const code = path.charCodeAt(i);\n            if (code === CHAR_FORWARD_SLASH) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                    startPart = i + 1;\n                    break;\n                }\n                continue;\n            }\n            if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n            }\n            if (code === CHAR_DOT) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) {\n                    startDot = i;\n                }\n                else if (preDotState !== 1) {\n                    preDotState = 1;\n                }\n            }\n            else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n            }\n        }\n        if (end !== -1) {\n            const start = startPart === 0 && isAbsolute ? 1 : startPart;\n            if (startDot === -1 ||\n                // We saw a non-dot character immediately before the dot\n                preDotState === 0 ||\n                // The (right-most) trimmed path component is exactly '..'\n                (preDotState === 1 &&\n                    startDot === end - 1 &&\n                    startDot === startPart + 1)) {\n                ret.base = ret.name = path.slice(start, end);\n            }\n            else {\n                ret.name = path.slice(start, startDot);\n                ret.base = path.slice(start, end);\n                ret.ext = path.slice(startDot, end);\n            }\n        }\n        if (startPart > 0) {\n            ret.dir = path.slice(0, startPart - 1);\n        }\n        else if (isAbsolute) {\n            ret.dir = '/';\n        }\n        return ret;\n    },\n    sep: '/',\n    delimiter: ':',\n    win32: null,\n    posix: null\n};\nposix.win32 = win32.win32 = win32;\nposix.posix = win32.posix = posix;\nexport const normalize = (platformIsWin32 ? win32.normalize : posix.normalize);\nexport const resolve = (platformIsWin32 ? win32.resolve : posix.resolve);\nexport const relative = (platformIsWin32 ? win32.relative : posix.relative);\nexport const dirname = (platformIsWin32 ? win32.dirname : posix.dirname);\nexport const basename = (platformIsWin32 ? win32.basename : posix.basename);\nexport const extname = (platformIsWin32 ? win32.extname : posix.extname);\nexport const sep = (platformIsWin32 ? win32.sep : posix.sep);\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as paths from './path.js';\nimport { isWindows } from './platform.js';\nconst _schemePattern = /^\\w[\\w\\d+.-]*$/;\nconst _singleSlashStart = /^\\//;\nconst _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${ret.authority}\", path: \"${ret.path}\", query: \"${ret.query}\", fragment: \"${ret.fragment}\"}`);\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nconst _empty = '';\nconst _slash = '/';\nconst _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nexport class URI {\n    static isUri(thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'string'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    }\n    /**\n     * @internal\n     */\n    constructor(schemeOrData, authority, path, query, fragment, _strict = false) {\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    // ---- filesystem path -----------------------\n    /**\n     * Returns a string representing the corresponding file system path of this URI.\n     * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n     * platform specific path separator.\n     *\n     * * Will *not* validate the path for invalid characters and semantics.\n     * * Will *not* look at the scheme of this URI.\n     * * The result shall *not* be used for display purposes but for accessing a file on disk.\n     *\n     *\n     * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n     * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n     *\n     * ```ts\n        const u = URI.parse('file://server/c$/folder/file.txt')\n        u.authority === 'server'\n        u.path === '/shares/c$/file.txt'\n        u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n    ```\n     *\n     * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n     * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n     * with URIs that represent files on disk (`file` scheme).\n     */\n    get fsPath() {\n        // if (this.scheme !== 'file') {\n        // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n        // }\n        return uriToFsPath(this, false);\n    }\n    // ---- modify to new -------------------------\n    with(change) {\n        if (!change) {\n            return this;\n        }\n        let { scheme, authority, path, query, fragment } = change;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new Uri(scheme, authority, path, query, fragment);\n    }\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.example.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    static parse(value, _strict = false) {\n        const match = _regexp.exec(value);\n        if (!match) {\n            return new Uri(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new Uri(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);\n    }\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    static file(path) {\n        let authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            const idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new Uri('file', authority, path, _empty, _empty);\n    }\n    /**\n     * Creates new URI from uri components.\n     *\n     * Unless `strict` is `true` the scheme is defaults to be `file`. This function performs\n     * validation and should be used for untrusted uri components retrieved from storage,\n     * user input, command arguments etc\n     */\n    static from(components, strict) {\n        const result = new Uri(components.scheme, components.authority, components.path, components.query, components.fragment, strict);\n        return result;\n    }\n    /**\n     * Join a URI path with path fragments and normalizes the resulting path.\n     *\n     * @param uri The input URI.\n     * @param pathFragment The path fragment to add to the URI path.\n     * @returns The resulting URI.\n     */\n    static joinPath(uri, ...pathFragment) {\n        if (!uri.path) {\n            throw new Error(`[UriError]: cannot call joinPath on URI without path`);\n        }\n        let newPath;\n        if (isWindows && uri.scheme === 'file') {\n            newPath = URI.file(paths.win32.join(uriToFsPath(uri, true), ...pathFragment)).path;\n        }\n        else {\n            newPath = paths.posix.join(uri.path, ...pathFragment);\n        }\n        return uri.with({ path: newPath });\n    }\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    toString(skipEncoding = false) {\n        return _asFormatted(this, skipEncoding);\n    }\n    toJSON() {\n        return this;\n    }\n    static revive(data) {\n        var _a, _b;\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            const result = new Uri(data);\n            result._formatted = (_a = data.external) !== null && _a !== void 0 ? _a : null;\n            result._fsPath = data._sep === _pathSepMarker ? (_b = data.fsPath) !== null && _b !== void 0 ? _b : null : null;\n            return result;\n        }\n    }\n}\nconst _pathSepMarker = isWindows ? 1 : undefined;\n// This class exists so that URI is compatible with vscode.Uri (API).\nclass Uri extends URI {\n    constructor() {\n        super(...arguments);\n        this._formatted = null;\n        this._fsPath = null;\n    }\n    get fsPath() {\n        if (!this._fsPath) {\n            this._fsPath = uriToFsPath(this, false);\n        }\n        return this._fsPath;\n    }\n    toString(skipEncoding = false) {\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    }\n    toJSON() {\n        const res = {\n            $mid: 1 /* MarshalledId.Uri */\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        //--- uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        // TODO\n        // this isn't correct and can violate the UriComponents contract but\n        // this is part of the vscode.Uri API and we shouldn't change how that\n        // works anymore\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    }\n}\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nconst encodeTable = {\n    [58 /* CharCode.Colon */]: '%3A', // gen-delims\n    [47 /* CharCode.Slash */]: '%2F',\n    [63 /* CharCode.QuestionMark */]: '%3F',\n    [35 /* CharCode.Hash */]: '%23',\n    [91 /* CharCode.OpenSquareBracket */]: '%5B',\n    [93 /* CharCode.CloseSquareBracket */]: '%5D',\n    [64 /* CharCode.AtSign */]: '%40',\n    [33 /* CharCode.ExclamationMark */]: '%21', // sub-delims\n    [36 /* CharCode.DollarSign */]: '%24',\n    [38 /* CharCode.Ampersand */]: '%26',\n    [39 /* CharCode.SingleQuote */]: '%27',\n    [40 /* CharCode.OpenParen */]: '%28',\n    [41 /* CharCode.CloseParen */]: '%29',\n    [42 /* CharCode.Asterisk */]: '%2A',\n    [43 /* CharCode.Plus */]: '%2B',\n    [44 /* CharCode.Comma */]: '%2C',\n    [59 /* CharCode.Semicolon */]: '%3B',\n    [61 /* CharCode.Equals */]: '%3D',\n    [32 /* CharCode.Space */]: '%20',\n};\nfunction encodeURIComponentFast(uriComponent, isPath, isAuthority) {\n    let res = undefined;\n    let nativeEncodePos = -1;\n    for (let pos = 0; pos < uriComponent.length; pos++) {\n        const code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* CharCode.a */ && code <= 122 /* CharCode.z */)\n            || (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */)\n            || (code >= 48 /* CharCode.Digit0 */ && code <= 57 /* CharCode.Digit9 */)\n            || code === 45 /* CharCode.Dash */\n            || code === 46 /* CharCode.Period */\n            || code === 95 /* CharCode.Underline */\n            || code === 126 /* CharCode.Tilde */\n            || (isPath && code === 47 /* CharCode.Slash */)\n            || (isAuthority && code === 91 /* CharCode.OpenSquareBracket */)\n            || (isAuthority && code === 93 /* CharCode.CloseSquareBracket */)\n            || (isAuthority && code === 58 /* CharCode.Colon */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            const escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    let res = undefined;\n    for (let pos = 0; pos < path.length; pos++) {\n        const code = path.charCodeAt(pos);\n        if (code === 35 /* CharCode.Hash */ || code === 63 /* CharCode.QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri, keepDriveLetterCasing) {\n    let value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = `//${uri.authority}${uri.path}`;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* CharCode.Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* CharCode.A */ && uri.path.charCodeAt(1) <= 90 /* CharCode.Z */ || uri.path.charCodeAt(1) >= 97 /* CharCode.a */ && uri.path.charCodeAt(1) <= 122 /* CharCode.z */)\n        && uri.path.charCodeAt(2) === 58 /* CharCode.Colon */) {\n        if (!keepDriveLetterCasing) {\n            // windows drive letter: file:///c:/far/boo\n            value = uri.path[1].toLowerCase() + uri.path.substr(2);\n        }\n        else {\n            value = uri.path.substr(1);\n        }\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    const encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    let res = '';\n    let { scheme, authority, path, query, fragment } = uri;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        let idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            const userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.lastIndexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false, false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false, true);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.lastIndexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false, true);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false, true);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* CharCode.Slash */ && path.charCodeAt(2) === 58 /* CharCode.Colon */) {\n            const code = path.charCodeAt(1);\n            if (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */) {\n                path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* CharCode.Colon */) {\n            const code = path.charCodeAt(0);\n            if (code >= 65 /* CharCode.A */ && code <= 90 /* CharCode.Z */) {\n                path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true, false);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false, false) : fragment;\n    }\n    return res;\n}\n// --- decode\nfunction decodeURIComponentGraceful(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (_a) {\n        if (str.length > 3) {\n            return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n        }\n        else {\n            return str;\n        }\n    }\n}\nconst _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\nfunction percentDecode(str) {\n    if (!str.match(_rEncodedAsHex)) {\n        return str;\n    }\n    return str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as errors from './errors.js';\nimport * as platform from './platform.js';\nimport { equalsIgnoreCase, startsWithIgnoreCase } from './strings.js';\nimport { URI } from './uri.js';\nexport var Schemas;\n(function (Schemas) {\n    /**\n     * A schema that is used for models that exist in memory\n     * only and that have no correspondence on a server or such.\n     */\n    Schemas.inMemory = 'inmemory';\n    /**\n     * A schema that is used for setting files\n     */\n    Schemas.vscode = 'vscode';\n    /**\n     * A schema that is used for internal private files\n     */\n    Schemas.internal = 'private';\n    /**\n     * A walk-through document.\n     */\n    Schemas.walkThrough = 'walkThrough';\n    /**\n     * An embedded code snippet.\n     */\n    Schemas.walkThroughSnippet = 'walkThroughSnippet';\n    Schemas.http = 'http';\n    Schemas.https = 'https';\n    Schemas.file = 'file';\n    Schemas.mailto = 'mailto';\n    Schemas.untitled = 'untitled';\n    Schemas.data = 'data';\n    Schemas.command = 'command';\n    Schemas.vscodeRemote = 'vscode-remote';\n    Schemas.vscodeRemoteResource = 'vscode-remote-resource';\n    Schemas.vscodeManagedRemoteResource = 'vscode-managed-remote-resource';\n    Schemas.vscodeUserData = 'vscode-userdata';\n    Schemas.vscodeCustomEditor = 'vscode-custom-editor';\n    Schemas.vscodeNotebookCell = 'vscode-notebook-cell';\n    Schemas.vscodeNotebookCellMetadata = 'vscode-notebook-cell-metadata';\n    Schemas.vscodeNotebookCellOutput = 'vscode-notebook-cell-output';\n    Schemas.vscodeInteractiveInput = 'vscode-interactive-input';\n    Schemas.vscodeSettings = 'vscode-settings';\n    Schemas.vscodeWorkspaceTrust = 'vscode-workspace-trust';\n    Schemas.vscodeTerminal = 'vscode-terminal';\n    /** Scheme used for code blocks in chat. */\n    Schemas.vscodeChatCodeBlock = 'vscode-chat-code-block';\n    /** Scheme used for the chat input editor. */\n    Schemas.vscodeChatSesssion = 'vscode-chat-editor';\n    /**\n     * Scheme used internally for webviews that aren't linked to a resource (i.e. not custom editors)\n     */\n    Schemas.webviewPanel = 'webview-panel';\n    /**\n     * Scheme used for loading the wrapper html and script in webviews.\n     */\n    Schemas.vscodeWebview = 'vscode-webview';\n    /**\n     * Scheme used for extension pages\n     */\n    Schemas.extension = 'extension';\n    /**\n     * Scheme used as a replacement of `file` scheme to load\n     * files with our custom protocol handler (desktop only).\n     */\n    Schemas.vscodeFileResource = 'vscode-file';\n    /**\n     * Scheme used for temporary resources\n     */\n    Schemas.tmp = 'tmp';\n    /**\n     * Scheme used vs live share\n     */\n    Schemas.vsls = 'vsls';\n    /**\n     * Scheme used for the Source Control commit input's text document\n     */\n    Schemas.vscodeSourceControl = 'vscode-scm';\n    /**\n     * Scheme used for special rendering of settings in the release notes\n     */\n    Schemas.codeSetting = 'code-setting';\n    /**\n     * Scheme used for special rendering of features in the release notes\n     */\n    Schemas.codeFeature = 'code-feature';\n})(Schemas || (Schemas = {}));\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\nexport const connectionTokenQueryName = 'tkn';\nclass RemoteAuthoritiesImpl {\n    constructor() {\n        this._hosts = Object.create(null);\n        this._ports = Object.create(null);\n        this._connectionTokens = Object.create(null);\n        this._preferredWebSchema = 'http';\n        this._delegate = null;\n        this._remoteResourcesPath = `/${Schemas.vscodeRemoteResource}`;\n    }\n    setPreferredWebSchema(schema) {\n        this._preferredWebSchema = schema;\n    }\n    rewrite(uri) {\n        if (this._delegate) {\n            try {\n                return this._delegate(uri);\n            }\n            catch (err) {\n                errors.onUnexpectedError(err);\n                return uri;\n            }\n        }\n        const authority = uri.authority;\n        let host = this._hosts[authority];\n        if (host && host.indexOf(':') !== -1 && host.indexOf('[') === -1) {\n            host = `[${host}]`;\n        }\n        const port = this._ports[authority];\n        const connectionToken = this._connectionTokens[authority];\n        let query = `path=${encodeURIComponent(uri.path)}`;\n        if (typeof connectionToken === 'string') {\n            query += `&${connectionTokenQueryName}=${encodeURIComponent(connectionToken)}`;\n        }\n        return URI.from({\n            scheme: platform.isWeb ? this._preferredWebSchema : Schemas.vscodeRemoteResource,\n            authority: `${host}:${port}`,\n            path: this._remoteResourcesPath,\n            query\n        });\n    }\n}\nexport const RemoteAuthorities = new RemoteAuthoritiesImpl();\nexport const VSCODE_AUTHORITY = 'vscode-app';\nclass FileAccessImpl {\n    /**\n     * Returns a URI to use in contexts where the browser is responsible\n     * for loading (e.g. fetch()) or when used within the DOM.\n     *\n     * **Note:** use `dom.ts#asCSSUrl` whenever the URL is to be used in CSS context.\n     */\n    uriToBrowserUri(uri) {\n        // Handle remote URIs via `RemoteAuthorities`\n        if (uri.scheme === Schemas.vscodeRemote) {\n            return RemoteAuthorities.rewrite(uri);\n        }\n        // Convert to `vscode-file` resource..\n        if (\n        // ...only ever for `file` resources\n        uri.scheme === Schemas.file &&\n            (\n            // ...and we run in native environments\n            platform.isNative ||\n                // ...or web worker extensions on desktop\n                (platform.webWorkerOrigin === `${Schemas.vscodeFileResource}://${FileAccessImpl.FALLBACK_AUTHORITY}`))) {\n            return uri.with({\n                scheme: Schemas.vscodeFileResource,\n                // We need to provide an authority here so that it can serve\n                // as origin for network and loading matters in chromium.\n                // If the URI is not coming with an authority already, we\n                // add our own\n                authority: uri.authority || FileAccessImpl.FALLBACK_AUTHORITY,\n                query: null,\n                fragment: null\n            });\n        }\n        return uri;\n    }\n}\nFileAccessImpl.FALLBACK_AUTHORITY = VSCODE_AUTHORITY;\nexport const FileAccess = new FileAccessImpl();\nexport var COI;\n(function (COI) {\n    const coiHeaders = new Map([\n        ['1', { 'Cross-Origin-Opener-Policy': 'same-origin' }],\n        ['2', { 'Cross-Origin-Embedder-Policy': 'require-corp' }],\n        ['3', { 'Cross-Origin-Opener-Policy': 'same-origin', 'Cross-Origin-Embedder-Policy': 'require-corp' }],\n    ]);\n    COI.CoopAndCoep = Object.freeze(coiHeaders.get('3'));\n    const coiSearchParamName = 'vscode-coi';\n    /**\n     * Extract desired headers from `vscode-coi` invocation\n     */\n    function getHeadersFromQuery(url) {\n        let params;\n        if (typeof url === 'string') {\n            params = new URL(url).searchParams;\n        }\n        else if (url instanceof URL) {\n            params = url.searchParams;\n        }\n        else if (URI.isUri(url)) {\n            params = new URL(url.toString(true)).searchParams;\n        }\n        const value = params === null || params === void 0 ? void 0 : params.get(coiSearchParamName);\n        if (!value) {\n            return undefined;\n        }\n        return coiHeaders.get(value);\n    }\n    COI.getHeadersFromQuery = getHeadersFromQuery;\n    /**\n     * Add the `vscode-coi` query attribute based on wanting `COOP` and `COEP`. Will be a noop when `crossOriginIsolated`\n     * isn't enabled the current context\n     */\n    function addSearchParam(urlOrSearch, coop, coep) {\n        if (!globalThis.crossOriginIsolated) {\n            // depends on the current context being COI\n            return;\n        }\n        const value = coop && coep ? '3' : coep ? '2' : '1';\n        if (urlOrSearch instanceof URLSearchParams) {\n            urlOrSearch.set(coiSearchParamName, value);\n        }\n        else {\n            urlOrSearch[coiSearchParamName] = value;\n        }\n    }\n    COI.addSearchParam = addSearchParam;\n})(COI || (COI = {}));\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from './strings.js';\n/**\n * Return a hash value for an object.\n */\nexport function hash(obj) {\n    return doHash(obj, 0);\n}\nexport function doHash(obj, hashVal) {\n    switch (typeof obj) {\n        case 'object':\n            if (obj === null) {\n                return numberHash(349, hashVal);\n            }\n            else if (Array.isArray(obj)) {\n                return arrayHash(obj, hashVal);\n            }\n            return objectHash(obj, hashVal);\n        case 'string':\n            return stringHash(obj, hashVal);\n        case 'boolean':\n            return booleanHash(obj, hashVal);\n        case 'number':\n            return numberHash(obj, hashVal);\n        case 'undefined':\n            return numberHash(937, hashVal);\n        default:\n            return numberHash(617, hashVal);\n    }\n}\nexport function numberHash(val, initialHashVal) {\n    return (((initialHashVal << 5) - initialHashVal) + val) | 0; // hashVal * 31 + ch, keep as int32\n}\nfunction booleanHash(b, initialHashVal) {\n    return numberHash(b ? 433 : 863, initialHashVal);\n}\nexport function stringHash(s, hashVal) {\n    hashVal = numberHash(149417, hashVal);\n    for (let i = 0, length = s.length; i < length; i++) {\n        hashVal = numberHash(s.charCodeAt(i), hashVal);\n    }\n    return hashVal;\n}\nfunction arrayHash(arr, initialHashVal) {\n    initialHashVal = numberHash(104579, initialHashVal);\n    return arr.reduce((hashVal, item) => doHash(item, hashVal), initialHashVal);\n}\nfunction objectHash(obj, initialHashVal) {\n    initialHashVal = numberHash(181387, initialHashVal);\n    return Object.keys(obj).sort().reduce((hashVal, key) => {\n        hashVal = stringHash(key, hashVal);\n        return doHash(obj[key], hashVal);\n    }, initialHashVal);\n}\nfunction leftRotate(value, bits, totalBits = 32) {\n    // delta + bits = totalBits\n    const delta = totalBits - bits;\n    // All ones, expect `delta` zeros aligned to the right\n    const mask = ~((1 << delta) - 1);\n    // Join (value left-shifted `bits` bits) with (masked value right-shifted `delta` bits)\n    return ((value << bits) | ((mask & value) >>> delta)) >>> 0;\n}\nfunction fill(dest, index = 0, count = dest.byteLength, value = 0) {\n    for (let i = 0; i < count; i++) {\n        dest[index + i] = value;\n    }\n}\nfunction leftPad(value, length, char = '0') {\n    while (value.length < length) {\n        value = char + value;\n    }\n    return value;\n}\nexport function toHexString(bufferOrValue, bitsize = 32) {\n    if (bufferOrValue instanceof ArrayBuffer) {\n        return Array.from(new Uint8Array(bufferOrValue)).map(b => b.toString(16).padStart(2, '0')).join('');\n    }\n    return leftPad((bufferOrValue >>> 0).toString(16), bitsize / 4);\n}\n/**\n * A SHA1 implementation that works with strings and does not allocate.\n */\nexport class StringSHA1 {\n    constructor() {\n        this._h0 = 0x67452301;\n        this._h1 = 0xEFCDAB89;\n        this._h2 = 0x98BADCFE;\n        this._h3 = 0x10325476;\n        this._h4 = 0xC3D2E1F0;\n        this._buff = new Uint8Array(64 /* SHA1Constant.BLOCK_SIZE */ + 3 /* to fit any utf-8 */);\n        this._buffDV = new DataView(this._buff.buffer);\n        this._buffLen = 0;\n        this._totalLen = 0;\n        this._leftoverHighSurrogate = 0;\n        this._finished = false;\n    }\n    update(str) {\n        const strLen = str.length;\n        if (strLen === 0) {\n            return;\n        }\n        const buff = this._buff;\n        let buffLen = this._buffLen;\n        let leftoverHighSurrogate = this._leftoverHighSurrogate;\n        let charCode;\n        let offset;\n        if (leftoverHighSurrogate !== 0) {\n            charCode = leftoverHighSurrogate;\n            offset = -1;\n            leftoverHighSurrogate = 0;\n        }\n        else {\n            charCode = str.charCodeAt(0);\n            offset = 0;\n        }\n        while (true) {\n            let codePoint = charCode;\n            if (strings.isHighSurrogate(charCode)) {\n                if (offset + 1 < strLen) {\n                    const nextCharCode = str.charCodeAt(offset + 1);\n                    if (strings.isLowSurrogate(nextCharCode)) {\n                        offset++;\n                        codePoint = strings.computeCodePoint(charCode, nextCharCode);\n                    }\n                    else {\n                        // illegal => unicode replacement character\n                        codePoint = 65533 /* SHA1Constant.UNICODE_REPLACEMENT */;\n                    }\n                }\n                else {\n                    // last character is a surrogate pair\n                    leftoverHighSurrogate = charCode;\n                    break;\n                }\n            }\n            else if (strings.isLowSurrogate(charCode)) {\n                // illegal => unicode replacement character\n                codePoint = 65533 /* SHA1Constant.UNICODE_REPLACEMENT */;\n            }\n            buffLen = this._push(buff, buffLen, codePoint);\n            offset++;\n            if (offset < strLen) {\n                charCode = str.charCodeAt(offset);\n            }\n            else {\n                break;\n            }\n        }\n        this._buffLen = buffLen;\n        this._leftoverHighSurrogate = leftoverHighSurrogate;\n    }\n    _push(buff, buffLen, codePoint) {\n        if (codePoint < 0x0080) {\n            buff[buffLen++] = codePoint;\n        }\n        else if (codePoint < 0x0800) {\n            buff[buffLen++] = 0b11000000 | ((codePoint & 0b00000000000000000000011111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        else if (codePoint < 0x10000) {\n            buff[buffLen++] = 0b11100000 | ((codePoint & 0b00000000000000001111000000000000) >>> 12);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        else {\n            buff[buffLen++] = 0b11110000 | ((codePoint & 0b00000000000111000000000000000000) >>> 18);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000111111000000000000) >>> 12);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000111111000000) >>> 6);\n            buff[buffLen++] = 0b10000000 | ((codePoint & 0b00000000000000000000000000111111) >>> 0);\n        }\n        if (buffLen >= 64 /* SHA1Constant.BLOCK_SIZE */) {\n            this._step();\n            buffLen -= 64 /* SHA1Constant.BLOCK_SIZE */;\n            this._totalLen += 64 /* SHA1Constant.BLOCK_SIZE */;\n            // take last 3 in case of UTF8 overflow\n            buff[0] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 0];\n            buff[1] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 1];\n            buff[2] = buff[64 /* SHA1Constant.BLOCK_SIZE */ + 2];\n        }\n        return buffLen;\n    }\n    digest() {\n        if (!this._finished) {\n            this._finished = true;\n            if (this._leftoverHighSurrogate) {\n                // illegal => unicode replacement character\n                this._leftoverHighSurrogate = 0;\n                this._buffLen = this._push(this._buff, this._buffLen, 65533 /* SHA1Constant.UNICODE_REPLACEMENT */);\n            }\n            this._totalLen += this._buffLen;\n            this._wrapUp();\n        }\n        return toHexString(this._h0) + toHexString(this._h1) + toHexString(this._h2) + toHexString(this._h3) + toHexString(this._h4);\n    }\n    _wrapUp() {\n        this._buff[this._buffLen++] = 0x80;\n        fill(this._buff, this._buffLen);\n        if (this._buffLen > 56) {\n            this._step();\n            fill(this._buff);\n        }\n        // this will fit because the mantissa can cover up to 52 bits\n        const ml = 8 * this._totalLen;\n        this._buffDV.setUint32(56, Math.floor(ml / 4294967296), false);\n        this._buffDV.setUint32(60, ml % 4294967296, false);\n        this._step();\n    }\n    _step() {\n        const bigBlock32 = StringSHA1._bigBlock32;\n        const data = this._buffDV;\n        for (let j = 0; j < 64 /* 16*4 */; j += 4) {\n            bigBlock32.setUint32(j, data.getUint32(j, false), false);\n        }\n        for (let j = 64; j < 320 /* 80*4 */; j += 4) {\n            bigBlock32.setUint32(j, leftRotate((bigBlock32.getUint32(j - 12, false) ^ bigBlock32.getUint32(j - 32, false) ^ bigBlock32.getUint32(j - 56, false) ^ bigBlock32.getUint32(j - 64, false)), 1), false);\n        }\n        let a = this._h0;\n        let b = this._h1;\n        let c = this._h2;\n        let d = this._h3;\n        let e = this._h4;\n        let f, k;\n        let temp;\n        for (let j = 0; j < 80; j++) {\n            if (j < 20) {\n                f = (b & c) | ((~b) & d);\n                k = 0x5A827999;\n            }\n            else if (j < 40) {\n                f = b ^ c ^ d;\n                k = 0x6ED9EBA1;\n            }\n            else if (j < 60) {\n                f = (b & c) | (b & d) | (c & d);\n                k = 0x8F1BBCDC;\n            }\n            else {\n                f = b ^ c ^ d;\n                k = 0xCA62C1D6;\n            }\n            temp = (leftRotate(a, 5) + f + e + k + bigBlock32.getUint32(j * 4, false)) & 0xffffffff;\n            e = d;\n            d = c;\n            c = leftRotate(b, 30);\n            b = a;\n            a = temp;\n        }\n        this._h0 = (this._h0 + a) & 0xffffffff;\n        this._h1 = (this._h1 + b) & 0xffffffff;\n        this._h2 = (this._h2 + c) & 0xffffffff;\n        this._h3 = (this._h3 + d) & 0xffffffff;\n        this._h4 = (this._h4 + e) & 0xffffffff;\n    }\n}\nStringSHA1._bigBlock32 = new DataView(new ArrayBuffer(320)); // 80 * 4 = 320\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { BrowserFeatures } from './canIUse.js';\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { AbstractIdleValue, IntervalTimer, _runWhenIdle } from '../common/async.js';\nimport { onUnexpectedError } from '../common/errors.js';\nimport * as event from '../common/event.js';\nimport * as dompurify from './dompurify/dompurify.js';\nimport { Disposable, DisposableStore, toDisposable } from '../common/lifecycle.js';\nimport { FileAccess, RemoteAuthorities } from '../common/network.js';\nimport * as platform from '../common/platform.js';\nimport { hash } from '../common/hash.js';\nimport { ensureCodeWindow, mainWindow } from './window.js';\n//# region Multi-Window Support Utilities\nexport const { registerWindow, getWindow, getDocument, getWindows, getWindowsCount, getWindowId, getWindowById, hasWindow, onDidRegisterWindow, onWillUnregisterWindow, onDidUnregisterWindow } = (function () {\n    const windows = new Map();\n    ensureCodeWindow(mainWindow, 1);\n    const mainWindowRegistration = { window: mainWindow, disposables: new DisposableStore() };\n    windows.set(mainWindow.vscodeWindowId, mainWindowRegistration);\n    const onDidRegisterWindow = new event.Emitter();\n    const onDidUnregisterWindow = new event.Emitter();\n    const onWillUnregisterWindow = new event.Emitter();\n    function getWindowById(windowId, fallbackToMain) {\n        const window = typeof windowId === 'number' ? windows.get(windowId) : undefined;\n        return window !== null && window !== void 0 ? window : (fallbackToMain ? mainWindowRegistration : undefined);\n    }\n    return {\n        onDidRegisterWindow: onDidRegisterWindow.event,\n        onWillUnregisterWindow: onWillUnregisterWindow.event,\n        onDidUnregisterWindow: onDidUnregisterWindow.event,\n        registerWindow(window) {\n            if (windows.has(window.vscodeWindowId)) {\n                return Disposable.None;\n            }\n            const disposables = new DisposableStore();\n            const registeredWindow = {\n                window,\n                disposables: disposables.add(new DisposableStore())\n            };\n            windows.set(window.vscodeWindowId, registeredWindow);\n            disposables.add(toDisposable(() => {\n                windows.delete(window.vscodeWindowId);\n                onDidUnregisterWindow.fire(window);\n            }));\n            disposables.add(addDisposableListener(window, EventType.BEFORE_UNLOAD, () => {\n                onWillUnregisterWindow.fire(window);\n            }));\n            onDidRegisterWindow.fire(registeredWindow);\n            return disposables;\n        },\n        getWindows() {\n            return windows.values();\n        },\n        getWindowsCount() {\n            return windows.size;\n        },\n        getWindowId(targetWindow) {\n            return targetWindow.vscodeWindowId;\n        },\n        hasWindow(windowId) {\n            return windows.has(windowId);\n        },\n        getWindowById,\n        getWindow(e) {\n            var _a;\n            const candidateNode = e;\n            if ((_a = candidateNode === null || candidateNode === void 0 ? void 0 : candidateNode.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) {\n                return candidateNode.ownerDocument.defaultView.window;\n            }\n            const candidateEvent = e;\n            if (candidateEvent === null || candidateEvent === void 0 ? void 0 : candidateEvent.view) {\n                return candidateEvent.view.window;\n            }\n            return mainWindow;\n        },\n        getDocument(e) {\n            const candidateNode = e;\n            return getWindow(candidateNode).document;\n        }\n    };\n})();\n//#endregion\nexport function clearNode(node) {\n    while (node.firstChild) {\n        node.firstChild.remove();\n    }\n}\nclass DomListener {\n    constructor(node, type, handler, options) {\n        this._node = node;\n        this._type = type;\n        this._handler = handler;\n        this._options = (options || false);\n        this._node.addEventListener(this._type, this._handler, this._options);\n    }\n    dispose() {\n        if (!this._handler) {\n            // Already disposed\n            return;\n        }\n        this._node.removeEventListener(this._type, this._handler, this._options);\n        // Prevent leakers from holding on to the dom or handler func\n        this._node = null;\n        this._handler = null;\n    }\n}\nexport function addDisposableListener(node, type, handler, useCaptureOrOptions) {\n    return new DomListener(node, type, handler, useCaptureOrOptions);\n}\nfunction _wrapAsStandardMouseEvent(targetWindow, handler) {\n    return function (e) {\n        return handler(new StandardMouseEvent(targetWindow, e));\n    };\n}\nfunction _wrapAsStandardKeyboardEvent(handler) {\n    return function (e) {\n        return handler(new StandardKeyboardEvent(e));\n    };\n}\nexport const addStandardDisposableListener = function addStandardDisposableListener(node, type, handler, useCapture) {\n    let wrapHandler = handler;\n    if (type === 'click' || type === 'mousedown') {\n        wrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n    }\n    else if (type === 'keydown' || type === 'keypress' || type === 'keyup') {\n        wrapHandler = _wrapAsStandardKeyboardEvent(handler);\n    }\n    return addDisposableListener(node, type, wrapHandler, useCapture);\n};\nexport const addStandardDisposableGenericMouseDownListener = function addStandardDisposableListener(node, handler, useCapture) {\n    const wrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n    return addDisposableGenericMouseDownListener(node, wrapHandler, useCapture);\n};\nexport const addStandardDisposableGenericMouseUpListener = function addStandardDisposableListener(node, handler, useCapture) {\n    const wrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n    return addDisposableGenericMouseUpListener(node, wrapHandler, useCapture);\n};\nexport function addDisposableGenericMouseDownListener(node, handler, useCapture) {\n    return addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_DOWN : EventType.MOUSE_DOWN, handler, useCapture);\n}\nexport function addDisposableGenericMouseUpListener(node, handler, useCapture) {\n    return addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_UP : EventType.MOUSE_UP, handler, useCapture);\n}\n/**\n * Execute the callback the next time the browser is idle, returning an\n * {@link IDisposable} that will cancel the callback when disposed. This wraps\n * [requestIdleCallback] so it will fallback to [setTimeout] if the environment\n * doesn't support it.\n *\n * @param targetWindow The window for which to run the idle callback\n * @param callback The callback to run when idle, this includes an\n * [IdleDeadline] that provides the time alloted for the idle callback by the\n * browser. Not respecting this deadline will result in a degraded user\n * experience.\n * @param timeout A timeout at which point to queue no longer wait for an idle\n * callback but queue it on the regular event loop (like setTimeout). Typically\n * this should not be used.\n *\n * [IdleDeadline]: https://developer.mozilla.org/en-US/docs/Web/API/IdleDeadline\n * [requestIdleCallback]: https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n * [setTimeout]: https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout\n */\nexport function runWhenWindowIdle(targetWindow, callback, timeout) {\n    return _runWhenIdle(targetWindow, callback, timeout);\n}\n/**\n * An implementation of the \"idle-until-urgent\"-strategy as introduced\n * here: https://philipwalton.com/articles/idle-until-urgent/\n */\nexport class WindowIdleValue extends AbstractIdleValue {\n    constructor(targetWindow, executor) {\n        super(targetWindow, executor);\n    }\n}\n/**\n * Schedule a callback to be run at the next animation frame.\n * This allows multiple parties to register callbacks that should run at the next animation frame.\n * If currently in an animation frame, `runner` will be executed immediately.\n * @return token that can be used to cancel the scheduled runner (only if `runner` was not executed immediately).\n */\nexport let runAtThisOrScheduleAtNextAnimationFrame;\n/**\n * Schedule a callback to be run at the next animation frame.\n * This allows multiple parties to register callbacks that should run at the next animation frame.\n * If currently in an animation frame, `runner` will be executed at the next animation frame.\n * @return token that can be used to cancel the scheduled runner.\n */\nexport let scheduleAtNextAnimationFrame;\nexport class WindowIntervalTimer extends IntervalTimer {\n    /**\n     *\n     * @param node The optional node from which the target window is determined\n     */\n    constructor(node) {\n        super();\n        this.defaultTarget = node && getWindow(node);\n    }\n    cancelAndSet(runner, interval, targetWindow) {\n        return super.cancelAndSet(runner, interval, targetWindow !== null && targetWindow !== void 0 ? targetWindow : this.defaultTarget);\n    }\n}\nclass AnimationFrameQueueItem {\n    constructor(runner, priority = 0) {\n        this._runner = runner;\n        this.priority = priority;\n        this._canceled = false;\n    }\n    dispose() {\n        this._canceled = true;\n    }\n    execute() {\n        if (this._canceled) {\n            return;\n        }\n        try {\n            this._runner();\n        }\n        catch (e) {\n            onUnexpectedError(e);\n        }\n    }\n    // Sort by priority (largest to lowest)\n    static sort(a, b) {\n        return b.priority - a.priority;\n    }\n}\n(function () {\n    /**\n     * The runners scheduled at the next animation frame\n     */\n    const NEXT_QUEUE = new Map();\n    /**\n     * The runners scheduled at the current animation frame\n     */\n    const CURRENT_QUEUE = new Map();\n    /**\n     * A flag to keep track if the native requestAnimationFrame was already called\n     */\n    const animFrameRequested = new Map();\n    /**\n     * A flag to indicate if currently handling a native requestAnimationFrame callback\n     */\n    const inAnimationFrameRunner = new Map();\n    const animationFrameRunner = (targetWindowId) => {\n        var _a;\n        animFrameRequested.set(targetWindowId, false);\n        const currentQueue = (_a = NEXT_QUEUE.get(targetWindowId)) !== null && _a !== void 0 ? _a : [];\n        CURRENT_QUEUE.set(targetWindowId, currentQueue);\n        NEXT_QUEUE.set(targetWindowId, []);\n        inAnimationFrameRunner.set(targetWindowId, true);\n        while (currentQueue.length > 0) {\n            currentQueue.sort(AnimationFrameQueueItem.sort);\n            const top = currentQueue.shift();\n            top.execute();\n        }\n        inAnimationFrameRunner.set(targetWindowId, false);\n    };\n    scheduleAtNextAnimationFrame = (targetWindow, runner, priority = 0) => {\n        const targetWindowId = getWindowId(targetWindow);\n        const item = new AnimationFrameQueueItem(runner, priority);\n        let nextQueue = NEXT_QUEUE.get(targetWindowId);\n        if (!nextQueue) {\n            nextQueue = [];\n            NEXT_QUEUE.set(targetWindowId, nextQueue);\n        }\n        nextQueue.push(item);\n        if (!animFrameRequested.get(targetWindowId)) {\n            animFrameRequested.set(targetWindowId, true);\n            targetWindow.requestAnimationFrame(() => animationFrameRunner(targetWindowId));\n        }\n        return item;\n    };\n    runAtThisOrScheduleAtNextAnimationFrame = (targetWindow, runner, priority) => {\n        const targetWindowId = getWindowId(targetWindow);\n        if (inAnimationFrameRunner.get(targetWindowId)) {\n            const item = new AnimationFrameQueueItem(runner, priority);\n            let currentQueue = CURRENT_QUEUE.get(targetWindowId);\n            if (!currentQueue) {\n                currentQueue = [];\n                CURRENT_QUEUE.set(targetWindowId, currentQueue);\n            }\n            currentQueue.push(item);\n            return item;\n        }\n        else {\n            return scheduleAtNextAnimationFrame(targetWindow, runner, priority);\n        }\n    };\n})();\nexport function getComputedStyle(el) {\n    return getWindow(el).getComputedStyle(el, null);\n}\nexport function getClientArea(element, fallback) {\n    const elWindow = getWindow(element);\n    const elDocument = elWindow.document;\n    // Try with DOM clientWidth / clientHeight\n    if (element !== elDocument.body) {\n        return new Dimension(element.clientWidth, element.clientHeight);\n    }\n    // If visual view port exits and it's on mobile, it should be used instead of window innerWidth / innerHeight, or document.body.clientWidth / document.body.clientHeight\n    if (platform.isIOS && (elWindow === null || elWindow === void 0 ? void 0 : elWindow.visualViewport)) {\n        return new Dimension(elWindow.visualViewport.width, elWindow.visualViewport.height);\n    }\n    // Try innerWidth / innerHeight\n    if ((elWindow === null || elWindow === void 0 ? void 0 : elWindow.innerWidth) && elWindow.innerHeight) {\n        return new Dimension(elWindow.innerWidth, elWindow.innerHeight);\n    }\n    // Try with document.body.clientWidth / document.body.clientHeight\n    if (elDocument.body && elDocument.body.clientWidth && elDocument.body.clientHeight) {\n        return new Dimension(elDocument.body.clientWidth, elDocument.body.clientHeight);\n    }\n    // Try with document.documentElement.clientWidth / document.documentElement.clientHeight\n    if (elDocument.documentElement && elDocument.documentElement.clientWidth && elDocument.documentElement.clientHeight) {\n        return new Dimension(elDocument.documentElement.clientWidth, elDocument.documentElement.clientHeight);\n    }\n    if (fallback) {\n        return getClientArea(fallback);\n    }\n    throw new Error('Unable to figure out browser width and height');\n}\nclass SizeUtils {\n    // Adapted from WinJS\n    // Converts a CSS positioning string for the specified element to pixels.\n    static convertToPixels(element, value) {\n        return parseFloat(value) || 0;\n    }\n    static getDimension(element, cssPropertyName, jsPropertyName) {\n        const computedStyle = getComputedStyle(element);\n        const value = computedStyle ? computedStyle.getPropertyValue(cssPropertyName) : '0';\n        return SizeUtils.convertToPixels(element, value);\n    }\n    static getBorderLeftWidth(element) {\n        return SizeUtils.getDimension(element, 'border-left-width', 'borderLeftWidth');\n    }\n    static getBorderRightWidth(element) {\n        return SizeUtils.getDimension(element, 'border-right-width', 'borderRightWidth');\n    }\n    static getBorderTopWidth(element) {\n        return SizeUtils.getDimension(element, 'border-top-width', 'borderTopWidth');\n    }\n    static getBorderBottomWidth(element) {\n        return SizeUtils.getDimension(element, 'border-bottom-width', 'borderBottomWidth');\n    }\n    static getPaddingLeft(element) {\n        return SizeUtils.getDimension(element, 'padding-left', 'paddingLeft');\n    }\n    static getPaddingRight(element) {\n        return SizeUtils.getDimension(element, 'padding-right', 'paddingRight');\n    }\n    static getPaddingTop(element) {\n        return SizeUtils.getDimension(element, 'padding-top', 'paddingTop');\n    }\n    static getPaddingBottom(element) {\n        return SizeUtils.getDimension(element, 'padding-bottom', 'paddingBottom');\n    }\n    static getMarginLeft(element) {\n        return SizeUtils.getDimension(element, 'margin-left', 'marginLeft');\n    }\n    static getMarginTop(element) {\n        return SizeUtils.getDimension(element, 'margin-top', 'marginTop');\n    }\n    static getMarginRight(element) {\n        return SizeUtils.getDimension(element, 'margin-right', 'marginRight');\n    }\n    static getMarginBottom(element) {\n        return SizeUtils.getDimension(element, 'margin-bottom', 'marginBottom');\n    }\n}\nexport class Dimension {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    with(width = this.width, height = this.height) {\n        if (width !== this.width || height !== this.height) {\n            return new Dimension(width, height);\n        }\n        else {\n            return this;\n        }\n    }\n    static is(obj) {\n        return typeof obj === 'object' && typeof obj.height === 'number' && typeof obj.width === 'number';\n    }\n    static lift(obj) {\n        if (obj instanceof Dimension) {\n            return obj;\n        }\n        else {\n            return new Dimension(obj.width, obj.height);\n        }\n    }\n    static equals(a, b) {\n        if (a === b) {\n            return true;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        return a.width === b.width && a.height === b.height;\n    }\n}\nDimension.None = new Dimension(0, 0);\nexport function getTopLeftOffset(element) {\n    // Adapted from WinJS.Utilities.getPosition\n    // and added borders to the mix\n    let offsetParent = element.offsetParent;\n    let top = element.offsetTop;\n    let left = element.offsetLeft;\n    while ((element = element.parentNode) !== null\n        && element !== element.ownerDocument.body\n        && element !== element.ownerDocument.documentElement) {\n        top -= element.scrollTop;\n        const c = isShadowRoot(element) ? null : getComputedStyle(element);\n        if (c) {\n            left -= c.direction !== 'rtl' ? element.scrollLeft : -element.scrollLeft;\n        }\n        if (element === offsetParent) {\n            left += SizeUtils.getBorderLeftWidth(element);\n            top += SizeUtils.getBorderTopWidth(element);\n            top += element.offsetTop;\n            left += element.offsetLeft;\n            offsetParent = element.offsetParent;\n        }\n    }\n    return {\n        left: left,\n        top: top\n    };\n}\nexport function size(element, width, height) {\n    if (typeof width === 'number') {\n        element.style.width = `${width}px`;\n    }\n    if (typeof height === 'number') {\n        element.style.height = `${height}px`;\n    }\n}\n/**\n * Returns the position of a dom node relative to the entire page.\n */\nexport function getDomNodePagePosition(domNode) {\n    const bb = domNode.getBoundingClientRect();\n    const window = getWindow(domNode);\n    return {\n        left: bb.left + window.scrollX,\n        top: bb.top + window.scrollY,\n        width: bb.width,\n        height: bb.height\n    };\n}\n/**\n * Returns the effective zoom on a given element before window zoom level is applied\n */\nexport function getDomNodeZoomLevel(domNode) {\n    let testElement = domNode;\n    let zoom = 1.0;\n    do {\n        const elementZoomLevel = getComputedStyle(testElement).zoom;\n        if (elementZoomLevel !== null && elementZoomLevel !== undefined && elementZoomLevel !== '1') {\n            zoom *= elementZoomLevel;\n        }\n        testElement = testElement.parentElement;\n    } while (testElement !== null && testElement !== testElement.ownerDocument.documentElement);\n    return zoom;\n}\n// Adapted from WinJS\n// Gets the width of the element, including margins.\nexport function getTotalWidth(element) {\n    const margin = SizeUtils.getMarginLeft(element) + SizeUtils.getMarginRight(element);\n    return element.offsetWidth + margin;\n}\nexport function getContentWidth(element) {\n    const border = SizeUtils.getBorderLeftWidth(element) + SizeUtils.getBorderRightWidth(element);\n    const padding = SizeUtils.getPaddingLeft(element) + SizeUtils.getPaddingRight(element);\n    return element.offsetWidth - border - padding;\n}\n// Adapted from WinJS\n// Gets the height of the content of the specified element. The content height does not include borders or padding.\nexport function getContentHeight(element) {\n    const border = SizeUtils.getBorderTopWidth(element) + SizeUtils.getBorderBottomWidth(element);\n    const padding = SizeUtils.getPaddingTop(element) + SizeUtils.getPaddingBottom(element);\n    return element.offsetHeight - border - padding;\n}\n// Adapted from WinJS\n// Gets the height of the element, including its margins.\nexport function getTotalHeight(element) {\n    const margin = SizeUtils.getMarginTop(element) + SizeUtils.getMarginBottom(element);\n    return element.offsetHeight + margin;\n}\n// ----------------------------------------------------------------------------------------\nexport function isAncestor(testChild, testAncestor) {\n    return Boolean(testAncestor === null || testAncestor === void 0 ? void 0 : testAncestor.contains(testChild));\n}\nexport function findParentWithClass(node, clazz, stopAtClazzOrNode) {\n    while (node && node.nodeType === node.ELEMENT_NODE) {\n        if (node.classList.contains(clazz)) {\n            return node;\n        }\n        if (stopAtClazzOrNode) {\n            if (typeof stopAtClazzOrNode === 'string') {\n                if (node.classList.contains(stopAtClazzOrNode)) {\n                    return null;\n                }\n            }\n            else {\n                if (node === stopAtClazzOrNode) {\n                    return null;\n                }\n            }\n        }\n        node = node.parentNode;\n    }\n    return null;\n}\nexport function hasParentWithClass(node, clazz, stopAtClazzOrNode) {\n    return !!findParentWithClass(node, clazz, stopAtClazzOrNode);\n}\nexport function isShadowRoot(node) {\n    return (node && !!node.host && !!node.mode);\n}\nexport function isInShadowDOM(domNode) {\n    return !!getShadowRoot(domNode);\n}\nexport function getShadowRoot(domNode) {\n    var _a;\n    while (domNode.parentNode) {\n        if (domNode === ((_a = domNode.ownerDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n            // reached the body\n            return null;\n        }\n        domNode = domNode.parentNode;\n    }\n    return isShadowRoot(domNode) ? domNode : null;\n}\n/**\n * Returns the active element across all child windows\n * based on document focus. Falls back to the main\n * window if no window has focus.\n */\nexport function getActiveElement() {\n    let result = getActiveDocument().activeElement;\n    while (result === null || result === void 0 ? void 0 : result.shadowRoot) {\n        result = result.shadowRoot.activeElement;\n    }\n    return result;\n}\n/**\n * Returns true if the focused window active element matches\n * the provided element. Falls back to the main window if no\n * window has focus.\n */\nexport function isActiveElement(element) {\n    return getActiveElement() === element;\n}\n/**\n * Returns true if the focused window active element is contained in\n * `ancestor`. Falls back to the main window if no window has focus.\n */\nexport function isAncestorOfActiveElement(ancestor) {\n    return isAncestor(getActiveElement(), ancestor);\n}\n/**\n * Returns the active document across main and child windows.\n * Prefers the window with focus, otherwise falls back to\n * the main windows document.\n */\nexport function getActiveDocument() {\n    var _a;\n    if (getWindowsCount() <= 1) {\n        return mainWindow.document;\n    }\n    const documents = Array.from(getWindows()).map(({ window }) => window.document);\n    return (_a = documents.find(doc => doc.hasFocus())) !== null && _a !== void 0 ? _a : mainWindow.document;\n}\n/**\n * Returns the active window across main and child windows.\n * Prefers the window with focus, otherwise falls back to\n * the main window.\n */\nexport function getActiveWindow() {\n    var _a, _b;\n    const document = getActiveDocument();\n    return ((_b = (_a = document.defaultView) === null || _a === void 0 ? void 0 : _a.window) !== null && _b !== void 0 ? _b : mainWindow);\n}\nconst globalStylesheets = new Map();\n/**\n * A version of createStyleSheet which has a unified API to initialize/set the style content.\n */\nexport function createStyleSheet2() {\n    return new WrappedStyleElement();\n}\nclass WrappedStyleElement {\n    constructor() {\n        this._currentCssStyle = '';\n        this._styleSheet = undefined;\n    }\n    setStyle(cssStyle) {\n        if (cssStyle === this._currentCssStyle) {\n            return;\n        }\n        this._currentCssStyle = cssStyle;\n        if (!this._styleSheet) {\n            this._styleSheet = createStyleSheet(mainWindow.document.head, (s) => s.innerText = cssStyle);\n        }\n        else {\n            this._styleSheet.innerText = cssStyle;\n        }\n    }\n    dispose() {\n        if (this._styleSheet) {\n            this._styleSheet.remove();\n            this._styleSheet = undefined;\n        }\n    }\n}\nexport function createStyleSheet(container = mainWindow.document.head, beforeAppend, disposableStore) {\n    const style = document.createElement('style');\n    style.type = 'text/css';\n    style.media = 'screen';\n    beforeAppend === null || beforeAppend === void 0 ? void 0 : beforeAppend(style);\n    container.appendChild(style);\n    if (disposableStore) {\n        disposableStore.add(toDisposable(() => container.removeChild(style)));\n    }\n    // With <head> as container, the stylesheet becomes global and is tracked\n    // to support auxiliary windows to clone the stylesheet.\n    if (container === mainWindow.document.head) {\n        const globalStylesheetClones = new Set();\n        globalStylesheets.set(style, globalStylesheetClones);\n        for (const { window: targetWindow, disposables } of getWindows()) {\n            if (targetWindow === mainWindow) {\n                continue; // main window is already tracked\n            }\n            const cloneDisposable = disposables.add(cloneGlobalStyleSheet(style, globalStylesheetClones, targetWindow));\n            disposableStore === null || disposableStore === void 0 ? void 0 : disposableStore.add(cloneDisposable);\n        }\n    }\n    return style;\n}\nfunction cloneGlobalStyleSheet(globalStylesheet, globalStylesheetClones, targetWindow) {\n    var _a, _b;\n    const disposables = new DisposableStore();\n    const clone = globalStylesheet.cloneNode(true);\n    targetWindow.document.head.appendChild(clone);\n    disposables.add(toDisposable(() => targetWindow.document.head.removeChild(clone)));\n    for (const rule of getDynamicStyleSheetRules(globalStylesheet)) {\n        (_a = clone.sheet) === null || _a === void 0 ? void 0 : _a.insertRule(rule.cssText, (_b = clone.sheet) === null || _b === void 0 ? void 0 : _b.cssRules.length);\n    }\n    disposables.add(sharedMutationObserver.observe(globalStylesheet, disposables, { childList: true })(() => {\n        clone.textContent = globalStylesheet.textContent;\n    }));\n    globalStylesheetClones.add(clone);\n    disposables.add(toDisposable(() => globalStylesheetClones.delete(clone)));\n    return disposables;\n}\nexport const sharedMutationObserver = new class {\n    constructor() {\n        this.mutationObservers = new Map();\n    }\n    observe(target, disposables, options) {\n        let mutationObserversPerTarget = this.mutationObservers.get(target);\n        if (!mutationObserversPerTarget) {\n            mutationObserversPerTarget = new Map();\n            this.mutationObservers.set(target, mutationObserversPerTarget);\n        }\n        const optionsHash = hash(options);\n        let mutationObserverPerOptions = mutationObserversPerTarget.get(optionsHash);\n        if (!mutationObserverPerOptions) {\n            const onDidMutate = new event.Emitter();\n            const observer = new MutationObserver(mutations => onDidMutate.fire(mutations));\n            observer.observe(target, options);\n            const resolvedMutationObserverPerOptions = mutationObserverPerOptions = {\n                users: 1,\n                observer,\n                onDidMutate: onDidMutate.event\n            };\n            disposables.add(toDisposable(() => {\n                resolvedMutationObserverPerOptions.users -= 1;\n                if (resolvedMutationObserverPerOptions.users === 0) {\n                    onDidMutate.dispose();\n                    observer.disconnect();\n                    mutationObserversPerTarget === null || mutationObserversPerTarget === void 0 ? void 0 : mutationObserversPerTarget.delete(optionsHash);\n                    if ((mutationObserversPerTarget === null || mutationObserversPerTarget === void 0 ? void 0 : mutationObserversPerTarget.size) === 0) {\n                        this.mutationObservers.delete(target);\n                    }\n                }\n            }));\n            mutationObserversPerTarget.set(optionsHash, mutationObserverPerOptions);\n        }\n        else {\n            mutationObserverPerOptions.users += 1;\n        }\n        return mutationObserverPerOptions.onDidMutate;\n    }\n};\nlet _sharedStyleSheet = null;\nfunction getSharedStyleSheet() {\n    if (!_sharedStyleSheet) {\n        _sharedStyleSheet = createStyleSheet();\n    }\n    return _sharedStyleSheet;\n}\nfunction getDynamicStyleSheetRules(style) {\n    var _a, _b;\n    if ((_a = style === null || style === void 0 ? void 0 : style.sheet) === null || _a === void 0 ? void 0 : _a.rules) {\n        // Chrome, IE\n        return style.sheet.rules;\n    }\n    if ((_b = style === null || style === void 0 ? void 0 : style.sheet) === null || _b === void 0 ? void 0 : _b.cssRules) {\n        // FF\n        return style.sheet.cssRules;\n    }\n    return [];\n}\nexport function createCSSRule(selector, cssText, style = getSharedStyleSheet()) {\n    var _a, _b;\n    if (!style || !cssText) {\n        return;\n    }\n    (_a = style.sheet) === null || _a === void 0 ? void 0 : _a.insertRule(`${selector} {${cssText}}`, 0);\n    // Apply rule also to all cloned global stylesheets\n    for (const clonedGlobalStylesheet of (_b = globalStylesheets.get(style)) !== null && _b !== void 0 ? _b : []) {\n        createCSSRule(selector, cssText, clonedGlobalStylesheet);\n    }\n}\nexport function removeCSSRulesContainingSelector(ruleName, style = getSharedStyleSheet()) {\n    var _a, _b;\n    if (!style) {\n        return;\n    }\n    const rules = getDynamicStyleSheetRules(style);\n    const toDelete = [];\n    for (let i = 0; i < rules.length; i++) {\n        const rule = rules[i];\n        if (isCSSStyleRule(rule) && rule.selectorText.indexOf(ruleName) !== -1) {\n            toDelete.push(i);\n        }\n    }\n    for (let i = toDelete.length - 1; i >= 0; i--) {\n        (_a = style.sheet) === null || _a === void 0 ? void 0 : _a.deleteRule(toDelete[i]);\n    }\n    // Remove rules also from all cloned global stylesheets\n    for (const clonedGlobalStylesheet of (_b = globalStylesheets.get(style)) !== null && _b !== void 0 ? _b : []) {\n        removeCSSRulesContainingSelector(ruleName, clonedGlobalStylesheet);\n    }\n}\nfunction isCSSStyleRule(rule) {\n    return typeof rule.selectorText === 'string';\n}\nexport function isMouseEvent(e) {\n    // eslint-disable-next-line no-restricted-syntax\n    return e instanceof MouseEvent || e instanceof getWindow(e).MouseEvent;\n}\nexport function isKeyboardEvent(e) {\n    // eslint-disable-next-line no-restricted-syntax\n    return e instanceof KeyboardEvent || e instanceof getWindow(e).KeyboardEvent;\n}\nexport const EventType = {\n    // Mouse\n    CLICK: 'click',\n    AUXCLICK: 'auxclick',\n    DBLCLICK: 'dblclick',\n    MOUSE_UP: 'mouseup',\n    MOUSE_DOWN: 'mousedown',\n    MOUSE_OVER: 'mouseover',\n    MOUSE_MOVE: 'mousemove',\n    MOUSE_OUT: 'mouseout',\n    MOUSE_ENTER: 'mouseenter',\n    MOUSE_LEAVE: 'mouseleave',\n    MOUSE_WHEEL: 'wheel',\n    POINTER_UP: 'pointerup',\n    POINTER_DOWN: 'pointerdown',\n    POINTER_MOVE: 'pointermove',\n    POINTER_LEAVE: 'pointerleave',\n    CONTEXT_MENU: 'contextmenu',\n    WHEEL: 'wheel',\n    // Keyboard\n    KEY_DOWN: 'keydown',\n    KEY_PRESS: 'keypress',\n    KEY_UP: 'keyup',\n    // HTML Document\n    LOAD: 'load',\n    BEFORE_UNLOAD: 'beforeunload',\n    UNLOAD: 'unload',\n    PAGE_SHOW: 'pageshow',\n    PAGE_HIDE: 'pagehide',\n    PASTE: 'paste',\n    ABORT: 'abort',\n    ERROR: 'error',\n    RESIZE: 'resize',\n    SCROLL: 'scroll',\n    FULLSCREEN_CHANGE: 'fullscreenchange',\n    WK_FULLSCREEN_CHANGE: 'webkitfullscreenchange',\n    // Form\n    SELECT: 'select',\n    CHANGE: 'change',\n    SUBMIT: 'submit',\n    RESET: 'reset',\n    FOCUS: 'focus',\n    FOCUS_IN: 'focusin',\n    FOCUS_OUT: 'focusout',\n    BLUR: 'blur',\n    INPUT: 'input',\n    // Local Storage\n    STORAGE: 'storage',\n    // Drag\n    DRAG_START: 'dragstart',\n    DRAG: 'drag',\n    DRAG_ENTER: 'dragenter',\n    DRAG_LEAVE: 'dragleave',\n    DRAG_OVER: 'dragover',\n    DROP: 'drop',\n    DRAG_END: 'dragend',\n    // Animation\n    ANIMATION_START: browser.isWebKit ? 'webkitAnimationStart' : 'animationstart',\n    ANIMATION_END: browser.isWebKit ? 'webkitAnimationEnd' : 'animationend',\n    ANIMATION_ITERATION: browser.isWebKit ? 'webkitAnimationIteration' : 'animationiteration'\n};\nexport function isEventLike(obj) {\n    const candidate = obj;\n    return !!(candidate && typeof candidate.preventDefault === 'function' && typeof candidate.stopPropagation === 'function');\n}\nexport const EventHelper = {\n    stop: (e, cancelBubble) => {\n        e.preventDefault();\n        if (cancelBubble) {\n            e.stopPropagation();\n        }\n        return e;\n    }\n};\nexport function saveParentsScrollTop(node) {\n    const r = [];\n    for (let i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\n        r[i] = node.scrollTop;\n        node = node.parentNode;\n    }\n    return r;\n}\nexport function restoreParentsScrollTop(node, state) {\n    for (let i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\n        if (node.scrollTop !== state[i]) {\n            node.scrollTop = state[i];\n        }\n        node = node.parentNode;\n    }\n}\nclass FocusTracker extends Disposable {\n    static hasFocusWithin(element) {\n        if (element instanceof HTMLElement) {\n            const shadowRoot = getShadowRoot(element);\n            const activeElement = (shadowRoot ? shadowRoot.activeElement : element.ownerDocument.activeElement);\n            return isAncestor(activeElement, element);\n        }\n        else {\n            const window = element;\n            return isAncestor(window.document.activeElement, window.document);\n        }\n    }\n    constructor(element) {\n        super();\n        this._onDidFocus = this._register(new event.Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new event.Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        let hasFocus = FocusTracker.hasFocusWithin(element);\n        let loosingFocus = false;\n        const onFocus = () => {\n            loosingFocus = false;\n            if (!hasFocus) {\n                hasFocus = true;\n                this._onDidFocus.fire();\n            }\n        };\n        const onBlur = () => {\n            if (hasFocus) {\n                loosingFocus = true;\n                (element instanceof HTMLElement ? getWindow(element) : element).setTimeout(() => {\n                    if (loosingFocus) {\n                        loosingFocus = false;\n                        hasFocus = false;\n                        this._onDidBlur.fire();\n                    }\n                }, 0);\n            }\n        };\n        this._refreshStateHandler = () => {\n            const currentNodeHasFocus = FocusTracker.hasFocusWithin(element);\n            if (currentNodeHasFocus !== hasFocus) {\n                if (hasFocus) {\n                    onBlur();\n                }\n                else {\n                    onFocus();\n                }\n            }\n        };\n        this._register(addDisposableListener(element, EventType.FOCUS, onFocus, true));\n        this._register(addDisposableListener(element, EventType.BLUR, onBlur, true));\n        if (element instanceof HTMLElement) {\n            this._register(addDisposableListener(element, EventType.FOCUS_IN, () => this._refreshStateHandler()));\n            this._register(addDisposableListener(element, EventType.FOCUS_OUT, () => this._refreshStateHandler()));\n        }\n    }\n}\n/**\n * Creates a new `IFocusTracker` instance that tracks focus changes on the given `element` and its descendants.\n *\n * @param element The `HTMLElement` or `Window` to track focus changes on.\n * @returns An `IFocusTracker` instance.\n */\nexport function trackFocus(element) {\n    return new FocusTracker(element);\n}\nexport function after(sibling, child) {\n    sibling.after(child);\n    return child;\n}\nexport function append(parent, ...children) {\n    parent.append(...children);\n    if (children.length === 1 && typeof children[0] !== 'string') {\n        return children[0];\n    }\n}\nexport function prepend(parent, child) {\n    parent.insertBefore(child, parent.firstChild);\n    return child;\n}\n/**\n * Removes all children from `parent` and appends `children`\n */\nexport function reset(parent, ...children) {\n    parent.innerText = '';\n    append(parent, ...children);\n}\nconst SELECTOR_REGEX = /([\\w\\-]+)?(#([\\w\\-]+))?((\\.([\\w\\-]+))*)/;\nexport var Namespace;\n(function (Namespace) {\n    Namespace[\"HTML\"] = \"http://www.w3.org/1999/xhtml\";\n    Namespace[\"SVG\"] = \"http://www.w3.org/2000/svg\";\n})(Namespace || (Namespace = {}));\nfunction _$(namespace, description, attrs, ...children) {\n    const match = SELECTOR_REGEX.exec(description);\n    if (!match) {\n        throw new Error('Bad use of emmet');\n    }\n    const tagName = match[1] || 'div';\n    let result;\n    if (namespace !== Namespace.HTML) {\n        result = document.createElementNS(namespace, tagName);\n    }\n    else {\n        result = document.createElement(tagName);\n    }\n    if (match[3]) {\n        result.id = match[3];\n    }\n    if (match[4]) {\n        result.className = match[4].replace(/\\./g, ' ').trim();\n    }\n    if (attrs) {\n        Object.entries(attrs).forEach(([name, value]) => {\n            if (typeof value === 'undefined') {\n                return;\n            }\n            if (/^on\\w+$/.test(name)) {\n                result[name] = value;\n            }\n            else if (name === 'selected') {\n                if (value) {\n                    result.setAttribute(name, 'true');\n                }\n            }\n            else {\n                result.setAttribute(name, value);\n            }\n        });\n    }\n    result.append(...children);\n    return result;\n}\nexport function $(description, attrs, ...children) {\n    return _$(Namespace.HTML, description, attrs, ...children);\n}\n$.SVG = function (description, attrs, ...children) {\n    return _$(Namespace.SVG, description, attrs, ...children);\n};\nexport function setVisibility(visible, ...elements) {\n    if (visible) {\n        show(...elements);\n    }\n    else {\n        hide(...elements);\n    }\n}\nexport function show(...elements) {\n    for (const element of elements) {\n        element.style.display = '';\n        element.removeAttribute('aria-hidden');\n    }\n}\nexport function hide(...elements) {\n    for (const element of elements) {\n        element.style.display = 'none';\n        element.setAttribute('aria-hidden', 'true');\n    }\n}\n/**\n * Find a value usable for a dom node size such that the likelihood that it would be\n * displayed with constant screen pixels size is as high as possible.\n *\n * e.g. We would desire for the cursors to be 2px (CSS px) wide. Under a devicePixelRatio\n * of 1.25, the cursor will be 2.5 screen pixels wide. Depending on how the dom node aligns/\"snaps\"\n * with the screen pixels, it will sometimes be rendered with 2 screen pixels, and sometimes with 3 screen pixels.\n */\nexport function computeScreenAwareSize(window, cssPx) {\n    const screenPx = window.devicePixelRatio * cssPx;\n    return Math.max(1, Math.floor(screenPx)) / window.devicePixelRatio;\n}\n/**\n * Open safely a new window. This is the best way to do so, but you cannot tell\n * if the window was opened or if it was blocked by the browser's popup blocker.\n * If you want to tell if the browser blocked the new window, use {@link windowOpenWithSuccess}.\n *\n * See https://github.com/microsoft/monaco-editor/issues/601\n * To protect against malicious code in the linked site, particularly phishing attempts,\n * the window.opener should be set to null to prevent the linked site from having access\n * to change the location of the current page.\n * See https://mathiasbynens.github.io/rel-noopener/\n */\nexport function windowOpenNoOpener(url) {\n    // By using 'noopener' in the `windowFeatures` argument, the newly created window will\n    // not be able to use `window.opener` to reach back to the current page.\n    // See https://stackoverflow.com/a/46958731\n    // See https://developer.mozilla.org/en-US/docs/Web/API/Window/open#noopener\n    // However, this also doesn't allow us to realize if the browser blocked\n    // the creation of the window.\n    mainWindow.open(url, '_blank', 'noopener');\n}\nexport function animate(targetWindow, fn) {\n    const step = () => {\n        fn();\n        stepDisposable = scheduleAtNextAnimationFrame(targetWindow, step);\n    };\n    let stepDisposable = scheduleAtNextAnimationFrame(targetWindow, step);\n    return toDisposable(() => stepDisposable.dispose());\n}\nRemoteAuthorities.setPreferredWebSchema(/^https:/.test(mainWindow.location.href) ? 'https' : 'http');\n/**\n * returns url('...')\n */\nexport function asCSSUrl(uri) {\n    if (!uri) {\n        return `url('')`;\n    }\n    return `url('${FileAccess.uriToBrowserUri(uri).toString(true).replace(/'/g, '%27')}')`;\n}\nexport function asCSSPropertyValue(value) {\n    return `'${value.replace(/'/g, '%27')}'`;\n}\nexport function asCssValueWithDefault(cssPropertyValue, dflt) {\n    if (cssPropertyValue !== undefined) {\n        const variableMatch = cssPropertyValue.match(/^\\s*var\\((.+)\\)$/);\n        if (variableMatch) {\n            const varArguments = variableMatch[1].split(',', 2);\n            if (varArguments.length === 2) {\n                dflt = asCssValueWithDefault(varArguments[1].trim(), dflt);\n            }\n            return `var(${varArguments[0]}, ${dflt})`;\n        }\n        return cssPropertyValue;\n    }\n    return dflt;\n}\n// -- sanitize and trusted html\n/**\n * Hooks dompurify using `afterSanitizeAttributes` to check that all `href` and `src`\n * attributes are valid.\n */\nexport function hookDomPurifyHrefAndSrcSanitizer(allowedProtocols, allowDataImages = false) {\n    // https://github.com/cure53/DOMPurify/blob/main/demos/hooks-scheme-allowlist.html\n    // build an anchor to map URLs to\n    const anchor = document.createElement('a');\n    dompurify.addHook('afterSanitizeAttributes', (node) => {\n        // check all href/src attributes for validity\n        for (const attr of ['href', 'src']) {\n            if (node.hasAttribute(attr)) {\n                const attrValue = node.getAttribute(attr);\n                if (attr === 'href' && attrValue.startsWith('#')) {\n                    // Allow fragment links\n                    continue;\n                }\n                anchor.href = attrValue;\n                if (!allowedProtocols.includes(anchor.protocol.replace(/:$/, ''))) {\n                    if (allowDataImages && attr === 'src' && anchor.href.startsWith('data:')) {\n                        continue;\n                    }\n                    node.removeAttribute(attr);\n                }\n            }\n        }\n    });\n    return toDisposable(() => {\n        dompurify.removeHook('afterSanitizeAttributes');\n    });\n}\n/**\n * List of safe, non-input html tags.\n */\nexport const basicMarkupHtmlTags = Object.freeze([\n    'a',\n    'abbr',\n    'b',\n    'bdo',\n    'blockquote',\n    'br',\n    'caption',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'figcaption',\n    'figure',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'hr',\n    'i',\n    'img',\n    'input',\n    'ins',\n    'kbd',\n    'label',\n    'li',\n    'mark',\n    'ol',\n    'p',\n    'pre',\n    'q',\n    'rp',\n    'rt',\n    'ruby',\n    'samp',\n    'small',\n    'small',\n    'source',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'tr',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n]);\nconst defaultDomPurifyConfig = Object.freeze({\n    ALLOWED_TAGS: ['a', 'button', 'blockquote', 'code', 'div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'input', 'label', 'li', 'p', 'pre', 'select', 'small', 'span', 'strong', 'textarea', 'ul', 'ol'],\n    ALLOWED_ATTR: ['href', 'data-href', 'data-command', 'target', 'title', 'name', 'src', 'alt', 'class', 'id', 'role', 'tabindex', 'style', 'data-code', 'width', 'height', 'align', 'x-dispatch', 'required', 'checked', 'placeholder', 'type', 'start'],\n    RETURN_DOM: false,\n    RETURN_DOM_FRAGMENT: false,\n    RETURN_TRUSTED_TYPE: true\n});\nexport class ModifierKeyEmitter extends event.Emitter {\n    constructor() {\n        super();\n        this._subscriptions = new DisposableStore();\n        this._keyStatus = {\n            altKey: false,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false\n        };\n        this._subscriptions.add(event.Event.runAndSubscribe(onDidRegisterWindow, ({ window, disposables }) => this.registerListeners(window, disposables), { window: mainWindow, disposables: this._subscriptions }));\n    }\n    registerListeners(window, disposables) {\n        disposables.add(addDisposableListener(window, 'keydown', e => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            const event = new StandardKeyboardEvent(e);\n            // If Alt-key keydown event is repeated, ignore it #112347\n            // Only known to be necessary for Alt-Key at the moment #115810\n            if (event.keyCode === 6 /* KeyCode.Alt */ && e.repeat) {\n                return;\n            }\n            if (e.altKey && !this._keyStatus.altKey) {\n                this._keyStatus.lastKeyPressed = 'alt';\n            }\n            else if (e.ctrlKey && !this._keyStatus.ctrlKey) {\n                this._keyStatus.lastKeyPressed = 'ctrl';\n            }\n            else if (e.metaKey && !this._keyStatus.metaKey) {\n                this._keyStatus.lastKeyPressed = 'meta';\n            }\n            else if (e.shiftKey && !this._keyStatus.shiftKey) {\n                this._keyStatus.lastKeyPressed = 'shift';\n            }\n            else if (event.keyCode !== 6 /* KeyCode.Alt */) {\n                this._keyStatus.lastKeyPressed = undefined;\n            }\n            else {\n                return;\n            }\n            this._keyStatus.altKey = e.altKey;\n            this._keyStatus.ctrlKey = e.ctrlKey;\n            this._keyStatus.metaKey = e.metaKey;\n            this._keyStatus.shiftKey = e.shiftKey;\n            if (this._keyStatus.lastKeyPressed) {\n                this._keyStatus.event = e;\n                this.fire(this._keyStatus);\n            }\n        }, true));\n        disposables.add(addDisposableListener(window, 'keyup', e => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (!e.altKey && this._keyStatus.altKey) {\n                this._keyStatus.lastKeyReleased = 'alt';\n            }\n            else if (!e.ctrlKey && this._keyStatus.ctrlKey) {\n                this._keyStatus.lastKeyReleased = 'ctrl';\n            }\n            else if (!e.metaKey && this._keyStatus.metaKey) {\n                this._keyStatus.lastKeyReleased = 'meta';\n            }\n            else if (!e.shiftKey && this._keyStatus.shiftKey) {\n                this._keyStatus.lastKeyReleased = 'shift';\n            }\n            else {\n                this._keyStatus.lastKeyReleased = undefined;\n            }\n            if (this._keyStatus.lastKeyPressed !== this._keyStatus.lastKeyReleased) {\n                this._keyStatus.lastKeyPressed = undefined;\n            }\n            this._keyStatus.altKey = e.altKey;\n            this._keyStatus.ctrlKey = e.ctrlKey;\n            this._keyStatus.metaKey = e.metaKey;\n            this._keyStatus.shiftKey = e.shiftKey;\n            if (this._keyStatus.lastKeyReleased) {\n                this._keyStatus.event = e;\n                this.fire(this._keyStatus);\n            }\n        }, true));\n        disposables.add(addDisposableListener(window.document.body, 'mousedown', () => {\n            this._keyStatus.lastKeyPressed = undefined;\n        }, true));\n        disposables.add(addDisposableListener(window.document.body, 'mouseup', () => {\n            this._keyStatus.lastKeyPressed = undefined;\n        }, true));\n        disposables.add(addDisposableListener(window.document.body, 'mousemove', e => {\n            if (e.buttons) {\n                this._keyStatus.lastKeyPressed = undefined;\n            }\n        }, true));\n        disposables.add(addDisposableListener(window, 'blur', () => {\n            this.resetKeyStatus();\n        }));\n    }\n    get keyStatus() {\n        return this._keyStatus;\n    }\n    /**\n     * Allows to explicitly reset the key status based on more knowledge (#109062)\n     */\n    resetKeyStatus() {\n        this.doResetKeyStatus();\n        this.fire(this._keyStatus);\n    }\n    doResetKeyStatus() {\n        this._keyStatus = {\n            altKey: false,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false\n        };\n    }\n    static getInstance() {\n        if (!ModifierKeyEmitter.instance) {\n            ModifierKeyEmitter.instance = new ModifierKeyEmitter();\n        }\n        return ModifierKeyEmitter.instance;\n    }\n    dispose() {\n        super.dispose();\n        this._subscriptions.dispose();\n    }\n}\nexport class DragAndDropObserver extends Disposable {\n    constructor(element, callbacks) {\n        super();\n        this.element = element;\n        this.callbacks = callbacks;\n        // A helper to fix issues with repeated DRAG_ENTER / DRAG_LEAVE\n        // calls see https://github.com/microsoft/vscode/issues/14470\n        // when the element has child elements where the events are fired\n        // repeadedly.\n        this.counter = 0;\n        // Allows to measure the duration of the drag operation.\n        this.dragStartTime = 0;\n        this.registerListeners();\n    }\n    registerListeners() {\n        if (this.callbacks.onDragStart) {\n            this._register(addDisposableListener(this.element, EventType.DRAG_START, (e) => {\n                var _a, _b;\n                (_b = (_a = this.callbacks).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            }));\n        }\n        if (this.callbacks.onDrag) {\n            this._register(addDisposableListener(this.element, EventType.DRAG, (e) => {\n                var _a, _b;\n                (_b = (_a = this.callbacks).onDrag) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            }));\n        }\n        this._register(addDisposableListener(this.element, EventType.DRAG_ENTER, (e) => {\n            var _a, _b;\n            this.counter++;\n            this.dragStartTime = e.timeStamp;\n            (_b = (_a = this.callbacks).onDragEnter) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }));\n        this._register(addDisposableListener(this.element, EventType.DRAG_OVER, (e) => {\n            var _a, _b;\n            e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n            (_b = (_a = this.callbacks).onDragOver) === null || _b === void 0 ? void 0 : _b.call(_a, e, e.timeStamp - this.dragStartTime);\n        }));\n        this._register(addDisposableListener(this.element, EventType.DRAG_LEAVE, (e) => {\n            var _a, _b;\n            this.counter--;\n            if (this.counter === 0) {\n                this.dragStartTime = 0;\n                (_b = (_a = this.callbacks).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.DRAG_END, (e) => {\n            var _a, _b;\n            this.counter = 0;\n            this.dragStartTime = 0;\n            (_b = (_a = this.callbacks).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }));\n        this._register(addDisposableListener(this.element, EventType.DROP, (e) => {\n            var _a, _b;\n            this.counter = 0;\n            this.dragStartTime = 0;\n            (_b = (_a = this.callbacks).onDrop) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }));\n    }\n}\nconst H_REGEX = /(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?/;\nexport function h(tag, ...args) {\n    let attributes;\n    let children;\n    if (Array.isArray(args[0])) {\n        attributes = {};\n        children = args[0];\n    }\n    else {\n        attributes = args[0] || {};\n        children = args[1];\n    }\n    const match = H_REGEX.exec(tag);\n    if (!match || !match.groups) {\n        throw new Error('Bad use of h');\n    }\n    const tagName = match.groups['tag'] || 'div';\n    const el = document.createElement(tagName);\n    if (match.groups['id']) {\n        el.id = match.groups['id'];\n    }\n    const classNames = [];\n    if (match.groups['class']) {\n        for (const className of match.groups['class'].split('.')) {\n            if (className !== '') {\n                classNames.push(className);\n            }\n        }\n    }\n    if (attributes.className !== undefined) {\n        for (const className of attributes.className.split('.')) {\n            if (className !== '') {\n                classNames.push(className);\n            }\n        }\n    }\n    if (classNames.length > 0) {\n        el.className = classNames.join(' ');\n    }\n    const result = {};\n    if (match.groups['name']) {\n        result[match.groups['name']] = el;\n    }\n    if (children) {\n        for (const c of children) {\n            if (c instanceof HTMLElement) {\n                el.appendChild(c);\n            }\n            else if (typeof c === 'string') {\n                el.append(c);\n            }\n            else if ('root' in c) {\n                Object.assign(result, c);\n                el.appendChild(c.root);\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n        if (key === 'className') {\n            continue;\n        }\n        else if (key === 'style') {\n            for (const [cssKey, cssValue] of Object.entries(value)) {\n                el.style.setProperty(camelCaseToHyphenCase(cssKey), typeof cssValue === 'number' ? cssValue + 'px' : '' + cssValue);\n            }\n        }\n        else if (key === 'tabIndex') {\n            el.tabIndex = value;\n        }\n        else {\n            el.setAttribute(camelCaseToHyphenCase(key), value.toString());\n        }\n    }\n    result['root'] = el;\n    return result;\n}\nfunction camelCaseToHyphenCase(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport function isAnchor(obj) {\n    const anchor = obj;\n    return !!anchor && typeof anchor.x === 'number' && typeof anchor.y === 'number';\n}\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* LayoutAnchorPosition.Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ContextViewDOMPosition.ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        this.useFixedPosition = domPosition !== 1 /* ContextViewDOMPosition.ABSOLUTE */;\n        const usedShadowDOM = this.useShadowDOM;\n        this.useShadowDOM = domPosition === 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n        if (container === this.container && usedShadowDOM === this.useShadowDOM) {\n            return; // container is the same and no shadow DOM usage has changed\n        }\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, e => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, e => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        var _a, _b;\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2575';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        (_b = (_a = this.delegate).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        var _a, _b;\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        (_b = (_a = this.delegate) === null || _a === void 0 ? void 0 : _a.layout) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        const anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (anchor instanceof HTMLElement) {\n            const elementPosition = DOM.getDomNodePagePosition(anchor);\n            // In areas where zoom is applied to the element or its ancestors, we need to adjust the size of the element\n            // e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n            // Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Size Multiplier: 1.5\n            const zoom = DOM.getDomNodeZoomLevel(anchor);\n            around = {\n                top: elementPosition.top * zoom,\n                left: elementPosition.left * zoom,\n                width: elementPosition.width * zoom,\n                height: elementPosition.height * zoom\n            };\n        }\n        else if (isAnchor(anchor)) {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        else {\n            around = {\n                top: anchor.posy,\n                left: anchor.posx,\n                // We are about to position the context view where the mouse\n                // cursor is. To prevent the view being exactly under the mouse\n                // when showing and thus potentially triggering an action within,\n                // we treat the mouse location like a small sized block element.\n                width: 2,\n                height: 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* AnchorPosition.BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* AnchorAlignment.LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* AnchorAxisAlignment.VERTICAL */;\n        let top;\n        let left;\n        const activeWindow = DOM.getActiveWindow();\n        if (anchorAxisAlignment === 0 /* AnchorAxisAlignment.VERTICAL */) {\n            const verticalAnchor = { offset: around.top - activeWindow.pageYOffset, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(activeWindow.innerHeight, viewSizeHeight, verticalAnchor) + activeWindow.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(activeWindow.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(activeWindow.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(activeWindow.innerHeight, viewSizeHeight, verticalAnchor) + activeWindow.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* AnchorPosition.BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, DOM.getWindow(e).document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nconst SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var Range;\n(function (Range) {\n    /**\n     * Returns the intersection between two ranges as a range itself.\n     * Returns `{ start: 0, end: 0 }` if the intersection is empty.\n     */\n    function intersect(one, other) {\n        if (one.start >= other.end || other.start >= one.end) {\n            return { start: 0, end: 0 };\n        }\n        const start = Math.max(one.start, other.start);\n        const end = Math.min(one.end, other.end);\n        if (end - start <= 0) {\n            return { start: 0, end: 0 };\n        }\n        return { start, end };\n    }\n    Range.intersect = intersect;\n    function isEmpty(range) {\n        return range.end - range.start <= 0;\n    }\n    Range.isEmpty = isEmpty;\n    function intersects(one, other) {\n        return !isEmpty(intersect(one, other));\n    }\n    Range.intersects = intersects;\n    function relativeComplement(one, other) {\n        const result = [];\n        const first = { start: one.start, end: Math.min(other.start, one.end) };\n        const second = { start: Math.max(other.end, one.start), end: one.end };\n        if (!isEmpty(first)) {\n            result.push(first);\n        }\n        if (!isEmpty(second)) {\n            result.push(second);\n        }\n        return result;\n    }\n    Range.relativeComplement = relativeComplement;\n})(Range || (Range = {}));\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ContextView } from '../../../base/browser/ui/contextview/contextview.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { getWindow } from '../../../base/browser/dom.js';\nlet ContextViewService = class ContextViewService extends Disposable {\n    constructor(layoutService) {\n        super();\n        this.layoutService = layoutService;\n        this.currentViewDisposable = Disposable.None;\n        this.contextView = this._register(new ContextView(this.layoutService.mainContainer, 1 /* ContextViewDOMPosition.ABSOLUTE */));\n        this.layout();\n        this._register(layoutService.onDidLayoutContainer(() => this.layout()));\n    }\n    // ContextView\n    showContextView(delegate, container, shadowRoot) {\n        let domPosition;\n        if (container) {\n            if (container === this.layoutService.getContainer(getWindow(container))) {\n                domPosition = 1 /* ContextViewDOMPosition.ABSOLUTE */;\n            }\n            else if (shadowRoot) {\n                domPosition = 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n            }\n            else {\n                domPosition = 2 /* ContextViewDOMPosition.FIXED */;\n            }\n        }\n        else {\n            domPosition = 1 /* ContextViewDOMPosition.ABSOLUTE */;\n        }\n        this.contextView.setContainer(container !== null && container !== void 0 ? container : this.layoutService.activeContainer, domPosition);\n        this.contextView.show(delegate);\n        const disposable = toDisposable(() => {\n            if (this.currentViewDisposable === disposable) {\n                this.hideContextView();\n            }\n        });\n        this.currentViewDisposable = disposable;\n        return disposable;\n    }\n    getContextViewElement() {\n        return this.contextView.getViewElement();\n    }\n    layout() {\n        this.contextView.layout();\n    }\n    hideContextView(data) {\n        this.contextView.hide(data);\n    }\n    dispose() {\n        super.dispose();\n        this.currentViewDisposable.dispose();\n        this.currentViewDisposable = Disposable.None;\n    }\n};\nContextViewService = __decorate([\n    __param(0, ILayoutService)\n], ContextViewService);\nexport { ContextViewService };\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n"],
  "mappings": "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",
  "names": ["_a", "result", "userAgent", "isChrome", "isFirefox", "isSafari", "isAndroid", "KeyCodeUtils", "OS", "_a", "_a", "Iterable", "_empty", "first", "from", "_a", "Event", "map", "filter", "buffer", "resolve", "_a", "stack", "count", "errorHandler", "dispose", "CancellationToken", "_a", "resolve", "token", "timeout", "task", "_a", "Promises", "window", "document", "Node", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "isRegexOrFunction", "_parseConfig", "_checkValidNamespace", "_forceRemove", "_removeAttribute", "_initDocument", "_createIterator", "_isClobbered", "_isNode", "_executeHook", "_sanitizeElements", "_isValidAttribute", "_basicCustomElementTest", "_sanitizeAttributes", "_sanitizeShadowDOM", "apply", "freeze", "seal", "construct", "_createTrustedTypesPolicy", "html", "html", "_a", "map", "isPathSeparator", "_format", "sep", "cwd", "start", "_a", "Schemas", "COI", "timeout", "window", "_a", "document", "clone", "onDidRegisterWindow", "onDidUnregisterWindow", "onWillUnregisterWindow", "getWindowById", "addStandardDisposableListener", "Namespace", "_util", "Range", "first", "LayoutAnchorMode", "_a", "ContextViewService"]
}
